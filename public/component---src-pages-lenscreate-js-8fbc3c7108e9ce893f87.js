(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"4iqU":function(e,n,t){},"6+Zk":function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),o=t("W9HT"),c=(t("4iqU"),function(e){var n=e.spinning,t=Object(a.useState)(!1),c=t[0],r=t[1],s={display:c?"block":"none"};return Object(a.useEffect)((function(){r(n)}),[n]),l.a.createElement("div",{className:"overall-loading",style:s},l.a.createElement(o.a,{spinning:n,size:"large"}))});c.defaultProps={spinning:!1},n.a=c},"8rpu":function(e,n,t){"use strict";var a=t("q1tI"),l=t.n(a),o=t("9ibs"),c=t("hHIg"),r=t("mKu9");t("i4OL"),t("TpwP"),t("v++Q");n.a=function(e){var n=e.children,t=Object(a.useState)(0),s=t[0],i=t[1];return Object(a.useEffect)((function(){i(s+1)}),[]),l.a.createElement("div",{className:"flex-container"},l.a.createElement(r.a,null),l.a.createElement(o.c,{size:"lg"}),l.a.createElement(c.a,{requestCount:s}),l.a.createElement(o.a,null,l.a.createElement(o.a.Item,null,l.a.createElement("div",{className:"flex-main-container"},n,l.a.createElement(o.c,{size:"lg"}),l.a.createElement(o.c,{size:"lg"}),l.a.createElement(o.c,{size:"lg"})))))}},VQCL:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return s}));var a=t("q1tI"),l=t.n(a),o=t("Sm+g"),c=["lens-price/v1/lenspricelist","lens-price/v1/lensbrands"],r=function(e){var n=e.requestCount,t=e.reqParams,a=e.responseDataHandle,r=c[0];return l.a.createElement(o.a,{responseDataHandle:a,api:r,method:"get",reqParams:t,reqObject:{},requestCount:n})};r.defaultProps={requestCount:0,reqParams:{},responseDataHandle:function(e){console.log(e)}};var s=function(e){var n=e.requestCount,t=e.reqObject,a=e.responseDataHandle,r=[].concat(c)[0];return l.a.createElement(o.a,{responseDataHandle:a,api:r,method:"post",reqParams:{},reqObject:t,requestCount:n})};s.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)}}},d6IX:function(e,n,t){"use strict";t("Z2Ku"),t("L9s1"),t("91GP"),t("rGqo"),t("yt8O"),t("Btvt"),t("RW0V");var a=t("q1tI"),l=t.n(a),o=t("tsqr"),c=t("zeV3"),r=t("BMrR"),s=t("kPKH"),i=t("8z0m"),u=t("2/Rp"),m=t("z7Xi"),d=t("/MfK"),_=t("scZm"),f=t("Xz4P"),b=t("JmXp"),g=function(e){var n=e.oldImageUrl,g=e.avatarSize,p=e.uploadedResponseHandle,O=e.fileKey,j=e.cleanFileListCount,y=Object(a.useRef)({}),E=Object(a.useRef)({}),v=Object(a.useRef)(""),K=Object(a.useState)(""),h=K[0],C=K[1],w=Object(a.useState)(0),F=w[0],S=w[1],I=Object(a.useRef)({}),H=Object(a.useState)(!0),q=H[0],k=H[1],L=Object(a.useState)(!0),P=L[0],z=L[1];Object(a.useEffect)((function(){T()}),[j]),Object(a.useEffect)((function(){y.current={},C(""),k(!0)}),[n]),Object(a.useEffect)((function(){z(0===Object.keys(y.current).length)}),[y.current]);var B=function(e,n){var t=Object.assign({},E.current),a=t.credentials;n({TmpSecretId:a.tmpSecretId,TmpSecretKey:a.tmpSecretKey,XCosSecurityToken:a.sessionToken,StartTime:t.startTime,ExpiredTime:t.expiredTime})},V={fileList:[],beforeUpload:function(e){return y.current=e,S(F+1),!1}},T=function(){p({},O),C(""),y.current={},k(!1)};return l.a.createElement("div",null,l.a.createElement(c.b,{direction:"vertical"},l.a.createElement(_.a,{src:q?n:h,width:g}),l.a.createElement(r.a,{gutter:10},l.a.createElement(s.a,{span:12},l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement(i.a,V,P?l.a.createElement(u.a,{size:"small"},l.a.createElement(m.a,null)," 更新"):null))),l.a.createElement(s.a,{span:12},h.length>10||n.length>10?l.a.createElement(u.a,{onClick:T,size:"small"},l.a.createElement(d.a,null)," 删除"):null)),l.a.createElement(f.a,{requestCount:F,reqObject:I.current,responseDataHandle:function(e){(console.log(e),Object.keys(e).includes("image_cos_name")||Object.keys(e).includes("sts_obj"))?(E.current=e.sts_obj,v.current=e.image_cos_name,"undefined"!=typeof window&&new(t("NDg5"))({getAuthorization:B}).putObject(Object.assign({},b.a,{Key:v.current,Body:y.current,onProgress:function(e){console.log(JSON.stringify(e))}}),(function(n,t){console.log(n||t),t?(console.log(t),C(e.image_cos_name_url),k(!1),p(e,O),o.b.success("图片上传成功!")):(T(),o.b.error("图片上传失败..."))}))):console.log("Get temporary key error...")}})))};g.defaultProps={oldImageUrl:"",avatarSize:96,uploadedResponseHandle:function(e,n){console.log(e,n)},fileKey:"image1",cleanFileListCount:0},n.a=g},iWGW:function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),l=t.n(a),o=t("8rpu"),c=t("vrFN"),r=t("Wbzz"),s=t("6+Zk"),i=t("VQCL"),u=(t("91GP"),t("p8V/")),m=t("x1YO"),d=t("wn2k"),_=["image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8"],f=function(e){var n=e.createOrEdit,t=e.oldImageUrlsObj,o=e.requestHandle,c=e.closeFormHandle,r=e.lensFormOldObj,s=Object(a.useState)([]),i=s[0],f=s[1],b=(Object(a.useRef)(""),Object(a.useRef)({})),g=Object(a.useState)(0),p=g[0],O=g[1];Object(a.useEffect)((function(){f([].concat(n>0?_:m.h))}),[n]);return l.a.createElement("div",null,l.a.createElement(d.a,{multipleObjKeys:m.f,oldImageUrlsObj:t,uploadedHandle:function(e){b.current=Object.assign({},e)}}),l.a.createElement(u.a,{columns:m.e,disabledKeys:m.a,notShowKeys:i,formKeyLabelObj:m.g,formKeySelectComponentsObj:m.d,onFinish:function(e){var n=Object.assign({},e,b.current);o(n)},cancelHandle:function(){O(p+1),setTimeout((function(){c()}),500)},updateFormObj:r,formInitialObj:m.c,initFormCount:p}))};f.defaultProps={createOrEdit:0,oldImageUrlsObj:{},requestHandle:function(e){console.log(e)},closeFormHandle:function(){console.log("close lens form...")},lensFormOldObj:{}};var b=f,g=function(){var e=Object(a.useState)(!1),n=e[0],t=e[1],o=Object(a.useState)(0),c=o[0],u=o[1],m=Object(a.useRef)({});return l.a.createElement("div",null,l.a.createElement(s.a,{spinning:n}),l.a.createElement("h2",null,"新建镜片"),l.a.createElement(b,{createOrEdit:0,requestHandle:function(e){t(!0),console.log(e),u(c+1)},closeFormHandle:function(){Object(r.navigate)("/lensmanagelist")}}),l.a.createElement(i.b,{requestCount:c,reqObject:m.current,responseDataHandle:function(e){t(!1)}}))};n.default=function(){return l.a.createElement(o.a,null,l.a.createElement(c.a,{title:"LensCreate"}),l.a.createElement(g,null))}},"p8V/":function(e,n,t){"use strict";t.d(n,"a",(function(){return g})),t.d(n,"b",(function(){return p}));t("a1Th"),t("91GP"),t("rGqo"),t("yt8O"),t("Btvt"),t("RW0V"),t("Z2Ku"),t("L9s1");var a=t("q1tI"),l=t.n(a),o=t("Vl3Y"),c=t("5rEg"),r=t("2/Rp"),s=t("zeV3"),i=t("7BUj").a.formCommonStyle,u=i.layoutForm,m=i.formItemLayout,d=i.tailFormItemLayout,_={width:260},f=function(e){var n=e.formKey,t=e.formKeyLabelObj,a=e.disabledKeys,r=e.updateFormObj,s=e.rulesObj,i=e.formKeySelectComponentsObj,u=e.passwordKeys,d=e.showLabelName,f=void 0===d||d,b=a.includes(n),g=t[n],p=r[n];return l.a.createElement(o.a.Item,Object.assign({},m,{name:n,label:f?g:"",initialValue:p,rules:s[n]?s[n]:[]}),Object.keys(i).includes(n)?i[n]:u.includes(n)?l.a.createElement(c.a.Password,{style:_}):l.a.createElement(c.a,{style:_,placeholder:"请输入 "+g,disabled:b}))},b=function(e){var n=e.formKey,t=e.formKeyLabelObj,a=e.disabledKeys,c=e.updateFormObj,s=e.rulesObj,i=e.formKeySelectComponentsObj,u=e.passwordKeys,d=e.formKeysItemButtonObj,_=d[n].buttonTips,b=t[n];return l.a.createElement(o.a.Item,Object.assign({},m,{label:b}),l.a.createElement(f,{formKey:n,formKeyLabelObj:t,disabledKeys:a,updateFormObj:c,rulesObj:s,formKeySelectComponentsObj:i,passwordKeys:u,showLabelName:!1}),l.a.createElement(r.a,{type:"link",onClick:function(e){console.log(e);try{d[n].clickMethod()}catch(t){console.log(t)}}},_))},g=function(e){var n=e.columns,t=e.disabledKeys,c=e.notShowKeys,i=e.formKeyLabelObj,m=e.formKeySelectComponentsObj,_=e.formKeysItemButtonObj,g=e.onFinish,p=e.cancelHandle,O=e.deleteHandle,j=e.showDeleteButton,y=e.updateFormObj,E=e.formInitialObj,v=e.initFormCount,K=e.rulesObj,h=e.passwordKeys,C=o.a.useForm()[0],w=Object(a.useState)(!1),F=w[0],S=w[1];Object(a.useEffect)((function(){C.setFieldsValue(y),S(!1)}),[y]),Object(a.useEffect)((function(){v>0&&(C.setFieldsValue(E),S(!1))}),[v]);return l.a.createElement(o.a,Object.assign({},u,{form:C,layout:"horizontal",onFinish:function(e){S(!0),g(e)},name:"adminer_info_edit"}),n.map((function(e,n){return c.includes(e)?null:Object.keys(_).includes(e)?l.a.createElement(b,{key:n.toString(),formKey:e,formKeyLabelObj:i,disabledKeys:t,updateFormObj:y,rulesObj:K,formKeySelectComponentsObj:m,passwordKeys:h,formKeysItemButtonObj:_}):l.a.createElement(f,{key:n.toString(),formKey:e,formKeyLabelObj:i,disabledKeys:t,updateFormObj:y,rulesObj:K,formKeySelectComponentsObj:m,passwordKeys:h})})),l.a.createElement(o.a.Item,d,l.a.createElement(s.b,null,l.a.createElement(r.a,{loading:F,disabled:F,type:"primary",htmlType:"submit"},"提交"),l.a.createElement(r.a,{onClick:p},"取消"),j?l.a.createElement(r.a,{loading:F,disabled:F,onClick:function(){S(!0),O()}},"删除"):null)))};g.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},formKeysItemButtonObj:{},onFinish:function(e){console.log(e)},cancelHandle:function(){console.log("Cancel Handle")},deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}};var p=function(e){var n=e.columns,t=e.disabledKeys,i=e.notShowKeys,u=e.formKeyLabelObj,m=e.formKeySelectComponentsObj,d=e.onFinish,f=e.onFinishButtonTips,b=e.cancelHandle,g=e.showCancelButton,p=e.deleteHandle,O=e.showDeleteButton,j=e.updateFormObj,y=e.formInitialObj,E=e.initFormCount,v=e.rulesObj,K=e.passwordKeys,h=(e.getFieldsValueHandle,o.a.useForm()[0]);Object(a.useEffect)((function(){h.setFieldsValue(j)}),[j]),Object(a.useEffect)((function(){h.setFieldsValue(y)}),[E]);var C=function(e){var n=e.formKey,a=t.includes(n),r=u[n],s=j[n];return l.a.createElement(o.a.Item,{name:n,initialValue:s,rules:v[n]?v[n]:[]},Object.keys(m).includes(n)?m[n]:K.includes(n)?l.a.createElement(c.a.Password,{style:_}):l.a.createElement(c.a,{style:_,placeholder:"请输入 "+r,disabled:a}))};return l.a.createElement(o.a,Object.assign({},{labelCol:{span:0},wrapperCol:{span:8}},{form:h,layout:"inline",onFinish:d,name:"adminer_info_edit"}),n.map((function(e,n){return i.includes(e)?null:l.a.createElement(C,{formKey:e,key:n.toString()})})),l.a.createElement(o.a.Item,null,l.a.createElement(s.b,null,l.a.createElement(r.a,{type:"primary",htmlType:"submit"},f),g?l.a.createElement(r.a,{onClick:b},"取消"):null,O?l.a.createElement(r.a,{onClick:p},"删除"):null)))};p.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},onFinish:function(e){console.log(e)},onFinishButtonTips:"确定/修改",cancelHandle:function(){console.log("Cancel Handle")},showCancelButton:!1,deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}}},vpoQ:function(e,n,t){"use strict";t.d(n,"a",(function(){return s}));t("a1Th"),t("Btvt");var a=t("q1tI"),l=t.n(a),o=t("2fM7"),c=t("7BUj"),r=o.a.Option,s=function(e){var n=e.options,t=e.width,a=e.value,c=e.onChange,s=e.mode;return l.a.createElement(o.a,{style:{width:t},onChange:c,value:a,mode:s,allowClear:!0},n.map((function(e,n){return l.a.createElement(r,{key:n.toString(),value:e.value},e.label)})))};s.defaultProps={options:[],width:c.a.selectComponentWidth,value:null,onChange:function(e){console.log(e)},mode:null}},wn2k:function(e,n,t){"use strict";t("a1Th"),t("Z2Ku"),t("L9s1"),t("rGqo"),t("yt8O"),t("Btvt"),t("RW0V"),t("91GP");var a=t("q1tI"),l=t.n(a),o=t("zeV3"),c=t("d6IX"),r=function(e){var n=e.multipleObjKeys,t=e.oldImageUrlsObj,r=e.uploadedHandle,s=Object(a.useRef)({});Object(a.useEffect)((function(){s.current={}}),[t]);var i=function(e,n){var t=Object.keys(e);t.includes("id")&&t.includes("image_cos_name")&&function(e,n){console.log(n);var t=Object.assign({},s.current);t[n]=e,s.current=t,r(t)}({id:e.id,image_cos_name:e.image_cos_name,image_cos_name_url:e.image_cos_name_url},n)};return l.a.createElement("div",{style:{width:"100%",height:"auto",textAlign:"center",margin:"0.5rem",border:"medium double rgb(250,0,255)",padding:"0.5rem"}},l.a.createElement(o.b,{direction:"vertical",size:"middle"},n.map((function(e){return l.a.createElement(c.a,{key:e.toString(),oldImageUrl:Object.keys(t).includes(e)?t[e]:"",avatarSize:"96px",uploadedResponseHandle:i,fileKey:e})}))),l.a.createElement("br",null))};r.defaultProps={multipleObjKeys:["image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5"],oldImageUrlsObj:{},uploadedHandle:function(e){console.log(e)}},n.a=r},x1YO:function(e,n,t){"use strict";t.d(n,"e",(function(){return c})),t.d(n,"a",(function(){return r})),t.d(n,"h",(function(){return s})),t.d(n,"d",(function(){return u})),t.d(n,"g",(function(){return i})),t.d(n,"f",(function(){return m})),t.d(n,"c",(function(){return _})),t.d(n,"b",(function(){return d}));var a=t("q1tI"),l=t.n(a),o=t("vpoQ"),c=["id","len_title","len_refractivity","len_function","len_type","len_design","len_color","len_coat_color","len_price","len_sale_price","len_brand","image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8","detail_page_cos_name","contrast_lens_url","explains","add_time","update_time"],r=["id","image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8","detail_page_cos_name","add_time","update_time"],s=["id","image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8","detail_page_cos_name","add_time","update_time"],i={id:"ID",len_title:"镜片标题",len_refractivity:"折射率",len_function:" 功能",len_type:"种类",len_design:"设计",len_color:"颜色",len_coat_color:"膜层",len_price:"原价",len_sale_price:"优惠价",len_brand:"品牌",image_cos_name1:"主图1",image_cos_name2:"主图2",image_cos_name3:"主图3",image_cos_name4:"主图4",image_cos_name5:"主图5",image_cos_name6:"主图6",image_cos_name7:"主图7",image_cos_name8:"主图8",contrast_lens_url:"对比商品URL",explains:"说明",add_time:"创建日期",update_time:"更新日期"},u={len_function:l.a.createElement(o.a,{options:[{value:0,label:"未知"},{value:1,label:"防紫外线"},{value:2,label:"防辐射"},{value:3,label:"防蓝光"}]}),len_type:l.a.createElement(o.a,{options:[{value:0,label:"未知"},{value:1,label:"单焦"},{value:2,label:"多焦"}]}),len_design:l.a.createElement(o.a,{options:[{value:0,label:"未知"},{value:1,label:"球面"},{value:2,label:"非球面"}]}),len_color:l.a.createElement(o.a,{options:[{value:0,label:"未知"},{value:1,label:"透明"},{value:2,label:"彩片"}]}),len_coat_color:l.a.createElement(o.a,{options:[{value:0,label:"未知"},{value:1,label:"白晶膜"},{value:2,label:"绿膜"},{value:3,label:"黄绿膜"},{value:4,label:"蓝膜"},{value:5,label:"蓝绿双色膜"}]})},m=["image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8"],d=["len_title","len_refractivity","len_function","len_type","len_design","len_color","len_coat_color"],_={len_function:0,len_type:1,len_design:2,len_color:1,len_coat_color:2}}}]);
//# sourceMappingURL=component---src-pages-lenscreate-js-8fbc3c7108e9ce893f87.js.map