{"version":3,"sources":["webpack:///./node_modules/antd/node_modules/rc-checkbox/es/index.js","webpack:///./src/components/base_components/page_is_loading.js","webpack:///./src/components/base_components/scroll_handle/goback_origin_scroll.js","webpack:///./node_modules/antd/es/_util/ref.js","webpack:///./node_modules/@ant-design/icons-svg/es/asn/RedoOutlined.js","webpack:///./node_modules/@ant-design/icons/es/icons/RedoOutlined.js","webpack:///./src/components/base_components/lodop/load_printer.js","webpack:///./src/components/base_components/lodop/printer_requests.jsx","webpack:///./src/components/base_components/lodop/select_printer_component.jsx","webpack:///./src/components/modals/customer_opt.jsx","webpack:///./node_modules/antd/es/radio/context.js","webpack:///./node_modules/antd/es/radio/radio.js","webpack:///./node_modules/antd/node_modules/rc-util/es/hooks/useMergedState.js","webpack:///./node_modules/antd/es/radio/group.js","webpack:///./node_modules/antd/es/radio/radioButton.js","webpack:///./node_modules/antd/es/radio/index.js","webpack:///./src/components/base_components/diopter_component/select_diopter.jsx","webpack:///./src/components/modals/diopters_opt.jsx","webpack:///./src/components/purchase_records/purchase_records_columns_label_config.jsx","webpack:///./src/components/purchase_records/purchase_records_requests.jsx","webpack:///./src/components/purchase_records/create_purchase_records.jsx","webpack:///./src/components/purchase_records/purchase_records_query_form.jsx","webpack:///./src/components/purchase_records/update_purchase_records.jsx","webpack:///./src/components/deliver/deliver_area_select.jsx","webpack:///./src/components/deliver/custom_select_requests.jsx","webpack:///./src/components/deliver/deliver_columns_label_config.jsx","webpack:///./src/components/deliver/deliver_requests.jsx","webpack:///./src/components/deliver/update_deliver.jsx","webpack:///./src/components/deliver/index.jsx","webpack:///./src/components/purchase_records/purchase_records_list.jsx","webpack:///./src/components/purchase_records/purchase_records_query_params_display.jsx","webpack:///./src/components/modals/upload_taobao_csv.jsx","webpack:///./src/components/purchase_records/index.jsx","webpack:///./src/pages/purchaserecords.js"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","Checkbox","_Component","_super","props","_this","handleChange","_this$props","disabled","onChange","setState","checked","stopPropagation","preventDefault","nativeEvent","saveInput","node","input","defaultChecked","state","value","focus","blur","_classNames","_this$props2","prefixCls","className","style","name","id","type","readOnly","tabIndex","onClick","onFocus","onBlur","autoFocus","required","others","globalProps","reduce","prev","substr","classString","concat","createElement","ref","defaultProps","PageIsLoading","spinning","useState","showLoading","setShowLoading","divStyle","display","useEffect","size","ScrollGoBack","visible","currentScrollTop","setCurrentScrollTop","currentTop","document","documentElement","scrollTop","body","topSize","window","setTimeout","scrollTo","top","parseInt","behavior","fillRef","current","composeRef","_len","refs","Array","_key","AntdIcon","assign","icon","displayName","LODOP","loadPrinter","Promise","resolve","reject","hasComplete","readyState","getLodop","printerNum","GET_PRINTER_COUNT","printerArr","index","GET_PRINTER_NAME","message","error","apiLists","Option","Select","SelectPrinterComponent","purchaseRecordsList","hasAllPrintCount","setHasAllPrintCount","selectedPrinterIndex","setSelectedPrinterIndex","selectedPrinterName","useRef","printers","setPrinters","notPrintRecords","setNotPrintRecords","loadPrintersListHandle","appendMetaContentSecurityPolicy","then","results","a","printersOptions","label","info","catch","err","console","log","pageName","currentPageName","customConfig","pagesName","purchaseRecords","api","sendAxiosRequest","respObj","includes","printersList","element","page_name","printer_name","loadDefaultPrinter","selectedPrinterHandle","printerName","printerNameQueryIndex","notPrintRecordsList","has_print","computeNotPrintRecords","selectedIndex","updateHasPrint","hasPrintRecordsList","width","height","margin","placeholder","minWidth","maxWidth","map","obj","reqObject","saveDefaultPrinter","printMultiplePurchaseRecordsHandle","title","shape","val","CustomerOptModal","modalState","setModalState","selectCustomerHandle","clickCreatedCustomerHandle","closable","footer","selectButtonOnClick","booleanValue","customerObj","createdCustomerResponseObj","RadioGroupContext","RadioGroupContextProvider","Provider","__rest","s","t","p","hasOwnProperty","indexOf","propertyIsEnumerable","context","_React$useContext","getPrefixCls","direction","innerRef","mergedRef","devWarning","customizePrefixCls","children","restProps","radioProps","wrapperClassString","onMouseEnter","onMouseLeave","undefined","Radio","_slicedToArray","arr","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","slice","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","RadioGroup","SizeContext","_useMergedState","defaultStateValue","option","_ref","defaultValue","postState","_React$useState2","innerValue","setInnerValue","mergedValue","firstRenderRef","newValue","_useMergedState2","setValue","ev","lastValue","_props$className","options","optionType","buttonStyle","customizeSize","groupPrefixCls","childrenToRender","optionsPrefixCls","mergedSize","renderGroup","radioGroupContext","Button","Group","formSelectStyle","diopterSignsObj","1","2","3","4","splitDiopters","diopterStr","sph","cyl","axi","add","delSpaceDiopter","replace","splitAddArr","split","cylAndAxiArr","judgeDiopterCreaterThanZero","diopter","Math","abs","parseFloat","judgeLackArguments","dioptersValues","lackObj","lackPd","lackAxiR","lackAxiL","pd","rAxi","axiR","lAxi","axiL","cylR","isNaN","cylL","DioptersSelectComponent","selectType","positiveNegative","selectOptions","maxDiopters","diopters","pNSign","toFixed","dioptersList","item","lackArgumentsTips","lackArgumentsTitles","DoubleEyeSelectDiopter","sourceDiopterObj","selectedHandle","cancelHandle","form","Form","useForm","lackArgumentsVisible","setLackArgumentsVisible","selectedSign","setSelectedSign","sphSign","setSphSign","cylSign","setCylSign","warnTip","setWarnTip","warnTitle","setWarnTitle","hasAddItem","setHasAddItem","submitObj","diopter_l","diopter_r","pupillary_distance","dioptersObjR","dioptersObjL","initObj","sphR","sphL","setFieldsValue","addItem","Item","showAddItemButtonItem","selectedDiopterSign","onFinish","values","rDiopterStr","lDiopterStr","LackArgumentsObj","lackArgumentsObj","tipsNum","formCommonStyle","layoutForm","min","max","tailFormItemLayout","htmlType","onOk","onCancel","okText","cancelText","selectedDiopterObj","DioptersOptModal","selectHandle","RangePicker","DatePicker","formKeys","formDisabledKeys","formNotShowKeys","formKeysLabelsObj","SelectRangePicker","SelectEndTime","showTime","format","formKeySelectComponentsObj","sale_platform","order_state","pay_platform","range_add_time","add_time_start","add_time_end","formKeysHandleButtonObj","setOptCustomerModalState","customer_name","buttonTips","clickMethod","group_purchase_commander_name","formGetRequestParamsKeys","formInitialObj","imageKeyNames","PurchaseRecordsRequestGet","requestCount","reqParams","responseDataHandle","method","PurchaseRecordsRequestPost","PurchaseRecordsRequestPut","PurchaseRecordsRequestDelete","CreatePurchaseRecords","setVisible","reloadListCount","setReloadListCount","purchaseRecordsImageObj","oldObj","createCount","dioptersObj","setDioptersObj","oldFormObj","setOldFormObj","initFormCount","setInitFormCount","postRequestCount","setPostRequestCount","customerOptModalState","setCustomerOptModalState","closeModal","textAlign","maxImagesNum","imageKeyName","imagesObj","columns","disabledKeys","notShowKeys","formKeyLabelObj","formKeysItemButtonObj","upObj","customer_id","showDeleteButton","updateFormObj","code","cusotomerObj","showName","wx_info","wx_nickname","booleanVal","queryFormDisabledKeys","PurchaseRecordsQueryDrawerForm","queryHandle","choseCustomerId","setUpdateFormObj","closeDrawer","placement","onClose","bodyStyle","paddingBottom","formObj","copyFormObj","queryParamsObj","queryId","rangeDates","UpdatePurchaseRecords","successDeletedOrUpdated","pageLoading","setPageLoading","putRequestCount","setPutRequestCount","deleteRequestCount","setDeleteRequestCount","initImgAndForm","hasPrintNum","customerShowName","customer_info","oldPurchaseRecord","has_print_boolean","deleteHandle","warn","success","ChinaAreaSelect","initAreaList","selectedAreaHandle","selectedArea","level","data","pcaa","defaultArea","initAreaObj","SelectExpressCompany","setSelectOptions","resList","updateOptions","express_company_code","express_company_name","formRulesList","DeliverRequestPut","DeliverRequestDelete","UpdateDeliver","purchaseRecordId","customerId","setOldDeliverHomeImages","deliverHomeImgs","imgKey","currentCosNameKey","currentUrlKey","currentCosName","currentUrl","cosNameKey","cosName","urlKey","url","rulesObj","DeliverComponent","page","judgeHasMore","resp","PurchaseRecordsList","requestParams","purchaseRecordsChange","printerIndex","hasMore","hasMoreState","setHasMoreState","loading","setLoading","purchaseRecordsData","setPurchaseRecordsData","purchaseRecordsRequestGetCount","setPurchaseRecordsRequestGetCount","prqGetCount","setPrqGetCount","requesting","setRequesting","selectedObj","setSelectedObj","copyList","reloadListsHandle","loadMore","current_page","Number","isInteger","addCount","deliverComponent","infoBottonTips","infoBottonClick","purchaseRecordObj","selObj","successPrintCurrentRecordHandle","hasPrintRecordObj","copyRecordsList","updatedList","successObj","successResult","updatedDataList","dataList","updatedObj","updatedObjId","copyDataList","splice","updateDataList","addedNum","PurchaseRecordsQueryParams","paramsObj","displayQueryFactorStr","setDisplayQueryFactorStr","displayStr","retDisplayStr","currentFactor","padding","UploadTaobaoCsvFilesModal","visibleNum","uploadedHandle","csvFilesList","setCsvFilesList","errorTips","setErrorTips","loadingState","setLoadingState","onRemove","file","copyFiles","fileList","uploadFilesList","originFileObj","beforeUpload","filesList","formdata","FormData","append","response","maxCount","multiple","accept","UploadOutlined","color","PurchaseRecordsComponent","setPrinterIndex","drawerVisible","setDrawerVisible","createPurchaseRecordsVisible","setCreatePurchaseRecordsVisible","downloadAndSaveExpressList","initReloadList","span","setPurchaseRecordsList","ReloadOutlined","SearchOutlined","float","currentRequestParams","records","PurchaseRecordsPage"],"mappings":"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","file":"component---src-pages-purchaserecords-js-c0a2eed841703d6339da.js","sourcesContent":["import \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"core-js/modules/es6.object.define-property\";\nimport \"core-js/modules/es6.object.define-properties\";\nimport \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n} // eslint-disable-next-line import/no-extraneous-dependencies\n\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nvar Checkbox = /*#__PURE__*/function (_Component) {\n  _inherits(Checkbox, _Component);\n\n  var _super = _createSuper(Checkbox);\n\n  function Checkbox(props) {\n    var _this;\n\n    _classCallCheck(this, Checkbox);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onChange = _this$props.onChange;\n\n      if (disabled) {\n        return;\n      }\n\n      if (!('checked' in _this.props)) {\n        _this.setState({\n          checked: e.target.checked\n        });\n      }\n\n      if (onChange) {\n        onChange({\n          target: _objectSpread(_objectSpread({}, _this.props), {}, {\n            checked: e.target.checked\n          }),\n          stopPropagation: function stopPropagation() {\n            e.stopPropagation();\n          },\n          preventDefault: function preventDefault() {\n            e.preventDefault();\n          },\n          nativeEvent: e.nativeEvent\n        });\n      }\n    };\n\n    _this.saveInput = function (node) {\n      _this.input = node;\n    };\n\n    var checked = 'checked' in props ? props.checked : props.defaultChecked;\n    _this.state = {\n      checked: checked\n    };\n    return _this;\n  }\n\n  _createClass(Checkbox, [{\n    key: \"focus\",\n    value: function focus() {\n      this.input.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.input.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          className = _this$props2.className,\n          style = _this$props2.style,\n          name = _this$props2.name,\n          id = _this$props2.id,\n          type = _this$props2.type,\n          disabled = _this$props2.disabled,\n          readOnly = _this$props2.readOnly,\n          tabIndex = _this$props2.tabIndex,\n          onClick = _this$props2.onClick,\n          onFocus = _this$props2.onFocus,\n          onBlur = _this$props2.onBlur,\n          autoFocus = _this$props2.autoFocus,\n          value = _this$props2.value,\n          required = _this$props2.required,\n          others = _objectWithoutProperties(_this$props2, [\"prefixCls\", \"className\", \"style\", \"name\", \"id\", \"type\", \"disabled\", \"readOnly\", \"tabIndex\", \"onClick\", \"onFocus\", \"onBlur\", \"autoFocus\", \"value\", \"required\"]);\n\n      var globalProps = Object.keys(others).reduce(function (prev, key) {\n        if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {\n          // eslint-disable-next-line no-param-reassign\n          prev[key] = others[key];\n        }\n\n        return prev;\n      }, {});\n      var checked = this.state.checked;\n      var classString = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classString,\n        style: style\n      }, /*#__PURE__*/React.createElement(\"input\", _extends({\n        name: name,\n        id: id,\n        type: type,\n        required: required,\n        readOnly: readOnly,\n        disabled: disabled,\n        tabIndex: tabIndex,\n        className: \"\".concat(prefixCls, \"-input\"),\n        checked: !!checked,\n        onClick: onClick,\n        onFocus: onFocus,\n        onBlur: onBlur,\n        onChange: this.handleChange,\n        autoFocus: autoFocus,\n        ref: this.saveInput,\n        value: value\n      }, globalProps)), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-inner\")\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if ('checked' in props) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          checked: props.checked\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return Checkbox;\n}(Component);\n\nCheckbox.defaultProps = {\n  prefixCls: 'rc-checkbox',\n  className: '',\n  style: {},\n  type: 'checkbox',\n  defaultChecked: false,\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {}\n};\nexport default Checkbox;","import React, { useState, useEffect } from 'react';\nimport { Spin } from 'antd';\n\nimport './components_css/page_is_loading.css';\n\nconst PageIsLoading = ({ spinning }) => {\n  // 全局读取中\n  const [showLoading, setShowLoading] = useState(false);\n\n  const divStyle = {\n    display: showLoading ? 'block' : 'none',\n  }\n\n  useEffect(() => {\n    // spinning 更新后 更新divStyle\n    setShowLoading(spinning);\n  }, [spinning]);\n\n  return (\n    <div className=\"overall-loading\" style={divStyle}>\n      <Spin spinning={spinning} size=\"large\" />\n    </div>\n  )\n};\n\nPageIsLoading.defaultProps = {\n  spinning: false\n}\n\nexport default PageIsLoading;","import React, { useEffect, useState } from 'react';\n// 滚动条记住当前位置，并回到当前位置\n\nconst computeCurrentScrollTop = () => {\n    // 计算当前滚动条高度\n    if (typeof document !== 'undefined') {\n        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //滚动的高度;\n        // const clientHeight = document.documentElement.clientHeight || document.body.clientHeight; // 浏览器视口的高度;\n        // const pageHeight = document.body.scrollHeight || document.documentElement.scrollHeight || document.documentElement.offsetHeight; // 文档的总高度\n        return scrollTop;\n    }\n    return 0\n}\n\nconst scrollToTopSize = (topSize) => {\n    // 滚动条滚动到指定位置\n    if (typeof window !== 'undefined') {\n        setTimeout(() => {\n            // console.log(topSize);\n            // console.log('body');\n            window.scrollTo({ \n                top: parseInt(topSize), \n                behavior: \"smooth\" \n            });\n        }, 500)\n    }\n}\n\nconst ScrollGoBack = ({visible}) => {\n    // visible > 0 滚动条记住当前位置，visible == 0 返回当前位置\n    const [currentScrollTop, setCurrentScrollTop] = useState(0);\n\n    useEffect(() => {\n        if (visible > 0) {\n            // 保存当前位置\n            const currentTop = computeCurrentScrollTop();\n            // console.log(currentTop);\n            setCurrentScrollTop(currentTop);\n        }\n        if (visible === 0) {\n            // 滚动条回到原来位置\n            scrollToTopSize(currentScrollTop);\n        }\n    }, [visible])\n    return <></>\n}\nScrollGoBack.defaultProps = {\n    visible: 0\n}\n\nexport { ScrollGoBack };","import \"core-js/modules/es6.array.for-each\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nexport function fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (_typeof(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n}\nexport function composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n}","// This icon file is generated automatically.\nvar RedoOutlined = {\n  \"icon\": {\n    \"tag\": \"svg\",\n    \"attrs\": {\n      \"viewBox\": \"64 64 896 896\",\n      \"focusable\": \"false\"\n    },\n    \"children\": [{\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z\"\n      }\n    }]\n  },\n  \"name\": \"redo\",\n  \"theme\": \"outlined\"\n};\nexport default RedoOutlined;","import \"core-js/modules/es6.object.assign\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RedoOutlinedSvg from \"@ant-design/icons-svg/es/asn/RedoOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RedoOutlined = function RedoOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RedoOutlinedSvg\n  }));\n};\n\nRedoOutlined.displayName = 'RedoOutlined';\nexport default React.forwardRef(RedoOutlined);","import { message } from 'antd';\nimport getLodop from './LodopFuncs';\n\nlet LODOP;\n\nconst loadPrinter = () => {\n    return new Promise((resolve, reject) => {\n        // 读取打印机名称列表 返回打印机名称Array window.onload = function () {}等待页面加载完成\n        let hasComplete = false;    // 变量,页面是否已经加载完成\n        if (typeof document !== 'undefined') {\n            hasComplete = document.readyState === 'complete';\n        }\n        if (hasComplete) {\n            LODOP = getLodop();\n            if (!LODOP) {\n                message.error('连接打印服务器失败...');\n                reject('LODOP server connect error...');\n            }else {\n                const printerNum = LODOP.GET_PRINTER_COUNT();\n                const printerArr = [];\n                for (let index = 0; index < printerNum; index++) {\n                    printerArr.push(LODOP.GET_PRINTER_NAME(index));\n                }\n                // console.log('SSSSS');\n                resolve(printerArr);\n            }\n        } else {\n            message.error('请等待页面加载完成, 再刷新打印机...');\n            reject('LODOP server connecting...');\n        }\n    });\n}\n\nconst hasPrinter = (printerName) => {\n    // 判断打印机是否存在\n    return new Promise((resolve, reject) => {\n        loadPrinter.then(prints => {\n            resolve(prints.includes(printerName));\n        }).catch(err => {\n            console.log(err);\n            reject(false);\n        })\n    });\n};\n\nexport {\n    loadPrinter,\n    hasPrinter\n};","import React from 'react';\nimport AxiosRequest from '../../apis';\nimport { sendAxiosRequest } from '../../apis/sendRequest';\n\nconst  apiLists = ['printer-admin/v1/defaultprinter', ];\n\n// 打印机 request 请求\n\nconst PrinterRequestGetComponent = ({ requestCount, reqParams, responseDataHandle }) => {\n    // 打印机 Get请求 获取默认打印机列表\n    const api = [].concat(apiLists)[0];\n    const method = 'get';\n    const reqObject = {};\n  \n    return (\n      <AxiosRequest\n        responseDataHandle={responseDataHandle} api={api} method={method}\n        reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n      ></AxiosRequest>\n    );\n};\nPrinterRequestGetComponent.defaultProps = {\n    requestCount: 0,\n    reqParams: {},\n    responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nconst printerRequestPost = (reqObject) => {\n    // 新建或更新默认打印机 Post请求 reqObject = {\"page_name\": '页面名称', \"printer_name\": \"打印机名称\"}\n    return new Promise(function (resolve, reject) {\n        const api = [].concat(apiLists)[0];\n        const method = 'post';\n        const reqParams = {};\n        // const reqObject = {};\n        sendAxiosRequest(api, method, reqParams, reqObject)\n            .then(respObj => {\n                resolve(respObj);\n            })\n            .catch(err => {\n                console.log(err);\n                reject(err);\n            });\n    });\n};\n\nconst downloadDefaultPrinterName = (pageName) => {\n    return new Promise((resolve, reject) => {\n        const api = [].concat(apiLists)[0];\n        const method = 'get';\n        const reqParams = {};\n        const reqObject = {};\n        sendAxiosRequest(api, method, reqParams, reqObject).then(respObj => {\n            if (Object.keys(respObj).includes('results') && respObj.results.length > 0) {\n                const printersList = respObj.results;\n                for (let index = 0; index < printersList.length; index++) {\n                    const element = printersList[index];\n                    if (element.page_name === pageName) {\n                        resolve(element.printer_name);\n                        return;\n                    }\n                }\n                reject('None default printer...');\n            } else {\n                reject('Error network...');\n            }\n        }).catch(err => {\n            console.log(err);\n            reject(err);\n        });\n    });\n};\n\nexport {\n    PrinterRequestGetComponent,\n    downloadDefaultPrinterName,\n    printerRequestPost,\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport { message, Select, Button, Space, Tooltip } from 'antd';\nimport { RedoOutlined } from '@ant-design/icons';\n\nimport { loadPrinter } from './load_printer';\n// import { CustomSelect } from '../select_component';\nimport customConfig from '../../../custom_config';\nimport { appendMetaContentSecurityPolicy } from '../../../assets/common_funcs/meta_handle.js';\n\nimport { downloadDefaultPrinterName, printerRequestPost } from './printer_requests';\nimport { printMultiplePurchaseRecordsHandle } from '../print_purchase_record/purchase_record_print';\nconst { Option } = Select\n\nconst printerNameQueryIndex = (printersList, printerName) => {\n    // 打印机名称查找打印机序号\n    // console.log(printersList, printerName);\n    for (let index = 0; index < printersList.length; index++) {\n        const element = printersList[index];\n        if (element.label === printerName) {\n            return element.value;\n        }\n    }\n    return null\n};\n\nconst computeNotPrintRecords = purchaseRecordsList => {\n    // 返回未打印订单\n    const notPrintRecordsList = [];\n    for (let index = 0; index < purchaseRecordsList.length; index++) {\n        const element = purchaseRecordsList[index];\n        // console.log(element.has_print);\n        if (!element.has_print) {\n            notPrintRecordsList.push(element);\n        }\n    }\n    console.log(notPrintRecordsList);\n    return notPrintRecordsList;\n}\n\n// 选择打印机组件, 批量打印未打印订单\nconst SelectPrinterComponent = ({ onChange, purchaseRecordsList, hasAllPrintCount, setHasAllPrintCount }) => {\n    const [selectedPrinterIndex, setSelectedPrinterIndex] = useState(null);\n    const selectedPrinterName = useRef('');\n    const [printers, setPrinters] = useState([]);\n\n    // 未打印订单\n    const [notPrintRecords, setNotPrintRecords] = useState([]);\n\n    // default printer\n    // const [defaultPrinterName, setDefaultPrinterName] = useState('');\n\n    const loadPrintersListHandle = () => {\n        // 获取打印机列表\n        // 页面中加入 meta 标签, 解决 HTTPS页面里动态的引入HTTP资源，被直接block掉\n        appendMetaContentSecurityPolicy();\n        loadPrinter().then(async results => {\n            let printersOptions = [];\n            // console.log(typeof results);\n            for (let index = 0; index < results.length; index++) {\n                printersOptions.push({\n                    label: results[index],\n                    value: index\n                });\n            }\n            // console.log(printersOptions);\n            setPrinters(printersOptions);\n            message.info('打印机列表刷新成功!')\n            // console.log(printersOptions);\n        }).catch(err => {\n            console.log(err);\n            setPrinters([]);\n            // message.error('获取打印列表失败...');\n        });\n    }\n\n    useEffect(() => {\n        // 获取打印机列表\n        if (typeof document !== 'undefined' && document.readyState === 'complete') {\n            loadPrintersListHandle();\n        }else {\n            message.info('请网页加载完成后刷新打印机!!!');\n        }\n    }, []);\n\n    useEffect(() => {\n        // 打印机列表改变，更新打印机为默认打印机\n        const currentPageName = customConfig.pagesName.purchaseRecords;\n        downloadDefaultPrinterName(currentPageName).then(loadDefaultPrinter => {\n            // console.log(loadDefaultPrinter);\n            // setDefaultPrinter(loadDefaultPrinter);\n            if (loadDefaultPrinter && printers.length > 0) {\n                selectedPrinterHandle(printerNameQueryIndex(printers, loadDefaultPrinter));\n            }\n        }).catch(err => console.log(err));\n    }, [printers]);\n\n    useEffect(() => {\n        // 计算未打印订单\n        setNotPrintRecords(computeNotPrintRecords(purchaseRecordsList));\n    }, [purchaseRecordsList]);\n\n    const selectedPrinterHandle = (selectedIndex) => {\n        console.log(selectedIndex);\n        setSelectedPrinterIndex(selectedIndex);\n        if (printers.length > selectedIndex\n            && printers[selectedIndex] instanceof Object\n            && Object.keys(printers[selectedIndex]).includes('label')\n        ) {\n            selectedPrinterName.current = printers[selectedIndex].label;\n        }\n        onChange(selectedIndex);\n    }\n\n    const updateHasPrint = hasPrintRecordsList => {\n        // 客户端更新订单列表为已打印\n        setHasAllPrintCount(hasAllPrintCount + 1);\n    }\n\n    const printNotPrintRecords = () => {\n        // 批量打印未打印订单\n        const saveDefaultPrinter = {\n            \"page_name\": customConfig.pagesName.purchaseRecords,\n            \"printer_name\": selectedPrinterName.current\n        }\n        // console.log(saveDefaultPrinter);\n        printerRequestPost(saveDefaultPrinter).then(result => {\n            // 先保存当前打印机是默认打印机\n            console.log(result);\n        }).catch(err => {\n            console.log(err);\n        });\n        // console.log(notPrintRecords);\n        printMultiplePurchaseRecordsHandle(notPrintRecords, selectedPrinterIndex, updateHasPrint);\n    }\n\n    return (\n        <div style={{ width: '100%', height: 'auto', margin: '10px 2px' }}>\n            {/* <CustomSelect options={printers} onChange={selectedPrinterHandle} value={selectedPrinterIndex}></CustomSelect> */}\n            <Space>\n                <Select\n                    placeholder=\"请选择打印机\"\n                    onChange={selectedPrinterHandle}\n                    value={selectedPrinterIndex}\n                    style={{ minWidth: 120, maxWidth: 220 }}\n                >\n                    {printers.map((obj, i) => {\n                        return <Option key={i.toString()} value={obj.value}>{obj.label}</Option>\n                    })}\n                </Select>\n                <Button disabled={notPrintRecords.length < 1} onClick={printNotPrintRecords} type=\"primary\">打印(未打印)</Button>\n                <Tooltip title=\"刷新打印机\">\n                    <Button shape=\"circle\" icon={<RedoOutlined />} onClick={loadPrintersListHandle} />\n                </Tooltip>\n            </Space>\n        </div>\n    )\n}\nSelectPrinterComponent.defaultProps = {\n    onChange: val => console.log(val),\n    purchaseRecordsList: [],    // 购买订单列表，打印未打印订单用\n    hasAllPrintCount: 0,\n    setHasAllPrintCount: val => console.log(val),\n}\n\nexport { SelectPrinterComponent };\n","import React from 'react';\nimport { Button, Modal } from 'antd';\n// import CustomerList from '../customer_list';\nimport CustomersComponent from '../customers';\n\n// 选择顾客模态框\n\nconst CustomerOptModal = ({ modalState, setModalState, selectCustomerHandle, clickCreatedCustomerHandle }) => {\n    // 选择顾客 modal\n    return (\n        <>\n            <Modal\n                visible={modalState}\n                title=\"选择顾客\"\n                closable={false}\n                footer={[\n                    <Button key=\"back\" onClick={() => { setModalState(false); }}>取消</Button>\n                ]}\n            // footer={null}\n            >\n                {/* <CustomerList\n                    selectCustomerHandle={selectCustomerHandle}\n                    clickCreatedCustomerHandle={clickCreatedCustomerHandle}\n                ></CustomerList> */}\n                <CustomersComponent selectButtonOnClick={selectCustomerHandle}></CustomersComponent>\n            </Modal>\n        </>\n    );\n};\nCustomerOptModal.defaultProps = {\n    modalState: false,\n    setModalState: booleanValue => console.log(booleanValue),\n    selectCustomerHandle: (customerObj) => { console.log(customerObj); },\n    clickCreatedCustomerHandle: (createdCustomerResponseObj) => { console.log(createdCustomerResponseObj) },\n};\n\nexport { CustomerOptModal }\n","import * as React from 'react';\nvar RadioGroupContext = /*#__PURE__*/React.createContext(null);\nexport var RadioGroupContextProvider = RadioGroupContext.Provider;\nexport default RadioGroupContext;","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcCheckbox from 'rc-checkbox';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\nimport { composeRef } from '../_util/ref';\nimport devWarning from '../_util/devWarning';\n\nvar InternalRadio = function InternalRadio(props, ref) {\n  var _classNames;\n\n  var context = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var innerRef = React.useRef();\n  var mergedRef = composeRef(ref, innerRef);\n  React.useEffect(function () {\n    devWarning(!('optionType' in props), 'Radio', '`optionType` is only support in Radio.Group.');\n  }, []);\n\n  var onChange = function onChange(e) {\n    if (props.onChange) {\n      props.onChange(e);\n    }\n\n    if (context === null || context === void 0 ? void 0 : context.onChange) {\n      context.onChange(e);\n    }\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      children = props.children,\n      style = props.style,\n      restProps = __rest(props, [\"prefixCls\", \"className\", \"children\", \"style\"]);\n\n  var prefixCls = getPrefixCls('radio', customizePrefixCls);\n\n  var radioProps = _extends({}, restProps);\n\n  if (context) {\n    radioProps.name = context.name;\n    radioProps.onChange = onChange;\n    radioProps.checked = props.value === context.value;\n    radioProps.disabled = props.disabled || context.disabled;\n  }\n\n  var wrapperClassString = classNames(\"\".concat(prefixCls, \"-wrapper\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-checked\"), radioProps.checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-disabled\"), radioProps.disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-rtl\"), direction === 'rtl'), _classNames), className);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-associated-control\n    React.createElement(\"label\", {\n      className: wrapperClassString,\n      style: style,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave\n    }, /*#__PURE__*/React.createElement(RcCheckbox, _extends({}, radioProps, {\n      prefixCls: prefixCls,\n      ref: mergedRef\n    })), children !== undefined ? /*#__PURE__*/React.createElement(\"span\", null, children) : null)\n  );\n};\n\nvar Radio = /*#__PURE__*/React.forwardRef(InternalRadio);\nRadio.displayName = 'Radio';\nRadio.defaultProps = {\n  type: 'radio'\n};\nexport default Radio;","import \"core-js/modules/es6.array.is-array\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport * as React from 'react';\nexport default function useControlledState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      postState = _ref.postState;\n\n  var _React$useState = React.useState(function () {\n    if (value !== undefined) {\n      return value;\n    }\n\n    if (defaultValue !== undefined) {\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n    }\n\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      innerValue = _React$useState2[0],\n      setInnerValue = _React$useState2[1];\n\n  var mergedValue = value !== undefined ? value : innerValue;\n\n  if (postState) {\n    mergedValue = postState(mergedValue);\n  }\n\n  function triggerChange(newValue) {\n    setInnerValue(newValue);\n\n    if (mergedValue !== newValue && onChange) {\n      onChange(newValue, mergedValue);\n    }\n  } // Effect of reset value to `undefined`\n\n\n  var firstRenderRef = React.useRef(true);\n  React.useEffect(function () {\n    if (firstRenderRef.current) {\n      firstRenderRef.current = false;\n      return;\n    }\n\n    if (value === undefined) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  return [mergedValue, triggerChange];\n}","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.map\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport { RadioGroupContextProvider } from './context';\nvar RadioGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var _useMergedState = useMergedState(props.defaultValue, {\n    value: props.value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var onRadioChange = function onRadioChange(ev) {\n    var lastValue = value;\n    var val = ev.target.value;\n\n    if (!('value' in props)) {\n      setValue(val);\n    }\n\n    var onChange = props.onChange;\n\n    if (onChange && val !== lastValue) {\n      onChange(ev);\n    }\n  };\n\n  var renderGroup = function renderGroup() {\n    var _classNames;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$className = props.className,\n        className = _props$className === void 0 ? '' : _props$className,\n        options = props.options,\n        optionType = props.optionType,\n        buttonStyle = props.buttonStyle,\n        disabled = props.disabled,\n        children = props.children,\n        customizeSize = props.size,\n        style = props.style,\n        id = props.id,\n        onMouseEnter = props.onMouseEnter,\n        onMouseLeave = props.onMouseLeave;\n    var prefixCls = getPrefixCls('radio', customizePrefixCls);\n    var groupPrefixCls = \"\".concat(prefixCls, \"-group\");\n    var childrenToRender = children; // 如果存在 options, 优先使用\n\n    if (options && options.length > 0) {\n      var optionsPrefixCls = optionType === 'button' ? \"\".concat(prefixCls, \"-button\") : prefixCls;\n      childrenToRender = options.map(function (option) {\n        if (typeof option === 'string') {\n          // 此处类型自动推导为 string\n          return /*#__PURE__*/React.createElement(Radio, {\n            key: option,\n            prefixCls: optionsPrefixCls,\n            disabled: disabled,\n            value: option,\n            checked: value === option\n          }, option);\n        } // 此处类型自动推导为 { label: string value: string }\n\n\n        return /*#__PURE__*/React.createElement(Radio, {\n          key: \"radio-group-value-options-\".concat(option.value),\n          prefixCls: optionsPrefixCls,\n          disabled: option.disabled || disabled,\n          value: option.value,\n          checked: value === option.value,\n          style: option.style\n        }, option.label);\n      });\n    }\n\n    var mergedSize = customizeSize || size;\n    var classString = classNames(groupPrefixCls, \"\".concat(groupPrefixCls, \"-\").concat(buttonStyle), (_classNames = {}, _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classString,\n      style: style,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      id: id,\n      ref: ref\n    }, childrenToRender);\n  };\n\n  return /*#__PURE__*/React.createElement(RadioGroupContextProvider, {\n    value: {\n      onChange: onRadioChange,\n      value: value,\n      disabled: props.disabled,\n      name: props.name\n    }\n  }, renderGroup());\n});\nRadioGroup.defaultProps = {\n  buttonStyle: 'outline'\n};\nexport default /*#__PURE__*/React.memo(RadioGroup);","import \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.array.index-of\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\n\nvar RadioButton = function RadioButton(props, ref) {\n  var radioGroupContext = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var customizePrefixCls = props.prefixCls,\n      radioProps = __rest(props, [\"prefixCls\"]);\n\n  var prefixCls = getPrefixCls('radio-button', customizePrefixCls);\n\n  if (radioGroupContext) {\n    radioProps.checked = props.value === radioGroupContext.value;\n    radioProps.disabled = props.disabled || radioGroupContext.disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Radio, _extends({\n    prefixCls: prefixCls\n  }, radioProps, {\n    type: \"radio\",\n    ref: ref\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(RadioButton);","import InternalRadio from './radio';\nimport Group from './group';\nimport Button from './radioButton';\nvar Radio = InternalRadio;\nRadio.Button = Button;\nRadio.Group = Group;\nexport { Button, Group };\nexport default Radio;","import React, { useEffect, useRef, useState } from 'react';\nimport { Select, Input, Button, Form, InputNumber, Radio, Divider, Space, Modal } from 'antd';\nimport customConfig from '../../../custom_config';\n\nconst { Option } = Select;\n\nconst formSelectStyle = {width: 180};\n\nconst diopterSignsObj = {\n    // 球镜柱镜光度符号\n    1: ['negative', 'negative'],\n    2: ['negative', 'positive'],\n    3: ['positive', 'negative'],\n    4: ['positive', 'positive'],\n};\n\n// 选择左右眼光度\n\nconst splitDiopters = (diopterStr) => {\n    // 拆分光度为球镜、柱镜、轴位、ADD 返回: {spy: '', cyl: '', axi: 'int', add: ''}\n    let sph=null, cyl=null, axi=null, add=null;\n    if (!diopterStr) {\n        return {sph, cyl, axi, add};\n    }\n\n    let delSpaceDiopter = diopterStr.replace(/(^\\s*)|(\\s*$)/g, \"\");     // 先去掉开始和结尾的空格\n    if (delSpaceDiopter.indexOf('ADD') > 1) {\n        // 有ADD\n        const splitAddArr = delSpaceDiopter.split('ADD');\n        add = splitAddArr[1].replace(/(^\\s*)|(\\s*$)/g, \"\").replace(':', '');\n        delSpaceDiopter = splitAddArr[0].replace(/(^\\s*)|(\\s*$)/g, \"\");\n    }\n\n    if (delSpaceDiopter.length > 0) {\n        if (delSpaceDiopter.indexOf('-', 4) > 5) {\n            // 有散光\n            // console.log(delSpaceDiopter);\n            sph = delSpaceDiopter.slice(0, delSpaceDiopter.indexOf('-', 4)).replace(/(^\\s*)|(\\s*$)/g, \"\");\n            const cylAndAxiArr = delSpaceDiopter.slice(delSpaceDiopter.indexOf('-', 4)).split('*');\n            cyl = cylAndAxiArr[0].replace(/(^\\s*)|(\\s*$)/g, \"\");\n            axi = parseInt(cylAndAxiArr[1].replace(/(^\\s*)|(\\s*$)/g, \"\"));\n        } else {\n            // 没有散光\n            // console.log(delSpaceDiopter);\n            sph = delSpaceDiopter.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        }\n    }\n    return {sph, cyl, axi, add};\n}\n\nconst judgeDiopterCreaterThanZero = (diopter) => {\n    // 判断光度的绝对值是否打大于0\n    return (diopter && Math.abs(parseFloat(diopter)) > 0);\n}\n\nconst createDioptersObj = (dioptersValues) => {\n    // 创建左右眼光度 {r: '-0.00 -0.50 * 180 ADD:+1.50', l: '-0.00 -0.50 * 180 ADD:+1.50', pd: 60}\n    let rDiopterStr = !dioptersValues.sphR ? '' : dioptersValues.sphR;\n    let lDiopterStr = !dioptersValues.sphL ? '' : dioptersValues.sphL;\n    const LackArgumentsObj = judgeLackArguments(dioptersValues);    // 判断是否缺少参数\n    if (judgeDiopterCreaterThanZero(dioptersValues.cylR)) {\n        // 右眼有散光\n        if (LackArgumentsObj.lackAxiR === 0) {\n            // 有轴位才添加散光\n            rDiopterStr = rDiopterStr === '' ? '-0.00' : rDiopterStr;\n            rDiopterStr = `${rDiopterStr} ${dioptersValues.cylR} * ${dioptersValues.axiR}`;\n        }\n    }\n    if (judgeDiopterCreaterThanZero(dioptersValues.cylL)) {\n        // 左眼有散光\n        if (LackArgumentsObj.lackAxiR === 0) {\n            // 有轴位才添加散光\n            lDiopterStr = lDiopterStr === '' ? '-0.00' : lDiopterStr;\n            lDiopterStr = `${lDiopterStr} ${dioptersValues.cylL} * ${dioptersValues.axiL}`;\n        }\n    }\n    if (judgeDiopterCreaterThanZero(dioptersValues.add)) {\n        // 有 ADD\n        rDiopterStr = `${rDiopterStr} ADD:${dioptersValues.add}`;\n        lDiopterStr = `${lDiopterStr} ADD:${dioptersValues.add}`;\n    }\n    return {diopter_r: rDiopterStr, diopter_l: lDiopterStr, pupillary_distance: dioptersValues.pd};\n}\n\nconst judgeLackArguments = (dioptersValues) => {\n    // 判断是否缺少瞳距或散光轴位\n    // value: 0-不缺, 1-缺少 {lackPd: 缺少瞳距, lackAxiR: R缺少轴位, lackAxiL: L缺少轴位}\n    const lackObj = {lackPd: 0, lackAxiR: 0, lackAxiL: 0};\n    if (dioptersValues.pd.toString().length < 2) {\n        lackObj.lackPd = 1;\n    }\n\n    const rAxi = dioptersValues.axiR;\n    const lAxi = dioptersValues.axiL;\n\n    if (dioptersValues.cylR && Math.abs(parseFloat(dioptersValues.cylR)) > 0) {\n        // 右眼有散光\n        if (rAxi) {\n            if(rAxi === \"\" || rAxi == null){\n                lackObj.lackAxiR = 1;\n            }\n            if (isNaN(rAxi)) {\n                lackObj.lackAxiR = 1;\n            }\n        } else {\n            lackObj.lackAxiR = 1;\n        }\n    }\n    if (dioptersValues.cylL && Math.abs(parseFloat(dioptersValues.cylL)) > 0) {\n        // 左眼有散光\n        if (lAxi) {\n            if(lAxi === \"\" || lAxi == null){\n                lackObj.lackAxiL = 1;\n            }\n            if (isNaN(lAxi)) {\n                lackObj.lackAxiL = 1;\n            }\n        } else {\n            lackObj.lackAxiL = 1;\n        }\n    }\n    return lackObj;\n}\n\nconst dioptersList = (positiveNegative = 'negative', maxDiopters = 90) => {\n    // 返回光度对象列表 [{label: '-0.00', value: '-0.00'}, {label: '-0.25', value: '-0.25'}]\n    // maxDiopters 最大光度 25-散光(至600度), 17-ADD(至400度)\n    // positiveNegative: negative='-', positive='+'\n    const diopters = [];\n    const pNSign = positiveNegative === 'negative' ? '-' : '+';\n    for (let index = 0; index < maxDiopters; index++) {\n        const element = pNSign + (index * 0.25).toFixed(2);\n        diopters.push({label: element, value: element});\n    }\n    return diopters;\n}\n\nconst DioptersSelectComponent = ({ value, onChange,  selectType=0, positiveNegative = 'negative', placeholder='请选择球镜' }) => {\n    // 选择光度的自定义组件 selectType: 0-球镜, 1-柱镜, 2-ADD下加光\n    const maxDioptersList = [90, 25, 17];\n    const selectOptions = dioptersList(positiveNegative, maxDioptersList[selectType])\n    return (\n        <Select style={formSelectStyle} value={value} onChange={onChange} placeholder={placeholder}>\n            {selectOptions.map(item => {\n                return (<Option key={item.value} value={item.value}>{item.label}</Option>)\n            })}\n        </Select>\n    )\n}\n\nconst lackArgumentsTips = [\n    '取消 重新输入, 确认 直接提交!',\n    '取消 重新输入, 确认 直接提交!(删除散光光度)',\n];\n\nconst lackArgumentsTitles = ['未输入瞳距', '未输入散光轴位', '未输入瞳距和散光轴位'];\n\nconst DoubleEyeSelectDiopter = ({sourceDiopterObj, selectedHandle, cancelHandle}) => {\n    // 球镜(spherical mirror), 柱镜(cylinder mirror), 轴向位置(Axial position)\n    const [form] = Form.useForm();\n\n    const [lackArgumentsVisible, setLackArgumentsVisible] = useState(false);\n\n    const [selectedSign, setSelectedSign] = useState(1);\n    const [sphSign, setSphSign] = useState('negative');\n    const [cylSign, setCylSign] = useState('negative');\n\n    const [warnTip, setWarnTip] = useState(lackArgumentsTips[0]);\n    const [warnTitle, setWarnTitle] = useState(lackArgumentsTitles[0]);\n\n    const [hasAddItem, setHasAddItem] = useState(false);\n\n    const submitObj = useRef({diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"});\n\n    useEffect(() => {\n        // 初始化表单内容\n        setHasAddItem(false);\n        const dioptersObjR = splitDiopters(sourceDiopterObj.diopter_r);\n        const dioptersObjL = splitDiopters(sourceDiopterObj.diopter_l);\n        const add = dioptersObjR.add ? dioptersObjR.add : dioptersObjL.add;\n        if (add) {\n            setHasAddItem(true);\n        }\n        const initObj = {\n            sphR: dioptersObjR.sph,\n            cylR: dioptersObjR.cyl,\n            axiR: dioptersObjR.axi,\n            sphL: dioptersObjL.sph,\n            cylL: dioptersObjL.cyl,\n            axiL: dioptersObjL.axi,\n            add: add,\n            pd: sourceDiopterObj.pupillary_distance,\n        }\n        // setInitFormObj(initObj);\n        // console.log(initObj);\n        form.setFieldsValue(initObj);\n    }, [sourceDiopterObj]);\n\n    const onChangeSign = e => {\n        // 更新度数符号\n        console.log(e.target.value);\n        setSelectedSign(e.target.value);\n        const selectedDiopterSign = diopterSignsObj[e.target.value];\n        setSphSign(selectedDiopterSign[0]);\n        setCylSign(selectedDiopterSign[1]);\n    }\n\n    const onFinish = values => {\n        // console.log(values);\n        submitObj.current = createDioptersObj(values);\n        // console.log(submitObj.current);\n        const lackArgumentsObj = judgeLackArguments(values);    // 判断是否缺少参数\n        let tipsNum = -1;\n        if (lackArgumentsObj.lackPd > 0 || lackArgumentsObj.lackAxiR > 0 || lackArgumentsObj.lackAxiL > 0) {\n            // 有错误,跳出提示框\n            let lackPd = lackArgumentsObj.lackPd > 0 ? true : false;\n            let lackAxiR = lackArgumentsObj.lackAxiR > 0 ? true : false;\n            let lackAxiL = lackArgumentsObj.lackAxiL > 0 ? true : false;\n            tipsNum = lackPd ? 0 : tipsNum;\n            if (tipsNum > -1) {\n                tipsNum = lackAxiR || lackAxiL ? 2 : tipsNum;\n            } else {\n                tipsNum = lackAxiR || lackAxiL ? 1 : tipsNum;\n            }\n            if (tipsNum > -1) {\n                setWarnTitle(lackArgumentsTitles[tipsNum]);\n                setWarnTip(tipsNum === 0 ? lackArgumentsTips[0] : lackArgumentsTips[1]);\n                setLackArgumentsVisible(true);\n            }\n        } else {\n            // 没有错误直接提交\n            selectedHandle(submitObj.current);\n        }\n    }\n\n    const lackArgumentsSubmit = () => {\n        // 缺少散光轴位，或瞳距 继续提交光度\n        setLackArgumentsVisible(false);\n        selectedHandle(submitObj.current);\n    }\n\n    const addItem = (\n        <Form.Item label=\"ADD\" name=\"add\">\n            <DioptersSelectComponent selectType={2} positiveNegative=\"positive\" placeholder=\"请选择ADD\"></DioptersSelectComponent>\n        </Form.Item>\n    );\n\n    const showAddItemButtonItem = (\n        <Form.Item><Button type=\"link\" onClick={() => setHasAddItem(true)}>ADD...</Button></Form.Item>\n    )\n\n    return (\n        <div>\n            <h6>正负光度: &nbsp;\n                <Radio.Group onChange={onChangeSign} value={selectedSign}>\n                    <Radio value={1}>-/-</Radio>\n                    <Radio value={2}>-/+</Radio>\n                    <Radio value={3}>+/-</Radio>\n                    <Radio value={4}>+/+</Radio>\n                </Radio.Group>\n            </h6>\n            <Divider></Divider>\n            <Form form={form} name=\"diopters-form\" onFinish={onFinish} {...customConfig.formCommonStyle.layoutForm}>\n                <Form.Item label=\"光度R\">\n                    <Form.Item name=\"sphR\">\n                        <DioptersSelectComponent selectType={0} positiveNegative={sphSign}></DioptersSelectComponent>\n                    </Form.Item>\n                    <Form.Item name=\"cylR\">\n                        <DioptersSelectComponent selectType={1} positiveNegative={cylSign} placeholder=\"请选择柱镜\"></DioptersSelectComponent>\n                    </Form.Item>\n                    <Form.Item name=\"axiR\">\n                        <InputNumber min={1} max={180} style={{width: '8rem'}} placeholder=\"请输入轴位\"></InputNumber>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item label=\"光度L\">\n                    <Form.Item name=\"sphL\">\n                        <DioptersSelectComponent selectType={0} positiveNegative={sphSign}></DioptersSelectComponent>\n                    </Form.Item>\n                    <Form.Item name=\"cylL\">\n                        <DioptersSelectComponent selectType={1} positiveNegative={cylSign} placeholder=\"请选择柱镜\"></DioptersSelectComponent>\n                    </Form.Item>\n                    <Form.Item name=\"axiL\">\n                        <InputNumber min={1} max={180} style={{width: '8rem'}} placeholder=\"请输入轴位\"></InputNumber>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item label=\"PD\" name=\"pd\">\n                    <Input placeholder=\"请输入瞳距\" style={{maxWidth: '10rem'}}></Input>\n                </Form.Item>\n                {/* <Form.Item label=\"ADD\" name=\"add\">\n                    <DioptersSelectComponent selectType={2} positiveNegative=\"positive\" placeholder=\"请选择ADD\"></DioptersSelectComponent>\n                </Form.Item> */}\n                {hasAddItem ? addItem : showAddItemButtonItem}\n\n                <Form.Item {...customConfig.formCommonStyle.tailFormItemLayout}>\n                    <Space>\n                        <Button type=\"primary\" htmlType=\"submit\">确定</Button>\n                        <Button htmlType=\"button\" onClick={cancelHandle}>取消</Button>\n                    </Space>\n                </Form.Item>\n            </Form>\n\n            <Modal\n                title={warnTitle}\n                visible={lackArgumentsVisible}\n                onOk={lackArgumentsSubmit}\n                onCancel={() => setLackArgumentsVisible(false)}\n                okText=\"确认\"\n                cancelText=\"取消\"\n            >\n                <p>{warnTip}</p>\n            </Modal>\n        </div>\n    );\n};\nDoubleEyeSelectDiopter.defaultProps = {\n    sourceDiopterObj: {diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"},\n    selectedHandle: selectedDiopterObj => console.log(selectedDiopterObj),\n    cancelHandle: () => console.log('Cancel select diopters...'),\n}\n\nexport { DoubleEyeSelectDiopter };\n","import React from 'react';\nimport { Modal } from 'antd';\nimport { DoubleEyeSelectDiopter } from '../base_components/diopter_component/select_diopter';\n\n// 选择光度模态框\n\nconst DioptersOptModal = ({ sourceDiopterObj, modalState, setModalState, selectHandle }) => {\n    // 选择光度 modal\n    return (\n        <>\n            <Modal\n                visible={modalState}\n                title=\"选择光度\"\n                closable={false}\n                footer={null}\n            >\n                <DoubleEyeSelectDiopter\n                    sourceDiopterObj={sourceDiopterObj}\n                    selectedHandle={selectHandle}\n                    cancelHandle={() => setModalState(false)}\n                ></DoubleEyeSelectDiopter>\n            </Modal>\n        </>\n    );\n};\nDioptersOptModal.defaultProps = {\n    sourceDiopterObj: {diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"},\n    modalState: false,\n    setModalState: booleanValue => console.log(booleanValue),\n    selectCustomerHandle: (customerObj) => { console.log(customerObj); },\n    clickCreatedCustomerHandle: (createdCustomerResponseObj) => { console.log(createdCustomerResponseObj) },\n};\n\nexport { DioptersOptModal };\n","import React from 'react';\nimport { DatePicker } from 'antd';\nimport { CustomSelect } from '../base_components/select_component';\nimport ListsItem from '../base_components/list_item';\n\n// import { expressCompanyRequestGet } from './custom_select_requests';\n\nconst { RangePicker } = DatePicker;\n\n// PurchaseRecords 列 配置\n\n// ~~~~~~ 表单列, 需添加 ~~~~~~\nconst formKeys = [\n  \"id\", \"input_staff_id\", \"latest_modify_staff_id\", \"customer_id\", \"customer_name\",\n  \"group_purchase_commander_id\", \"group_purchase_commander_name\", \"product_title\", \"diopter_r\", \"diopter_l\",\n  \"pupillary_distance\", \"receive_address\", \"products_quantity\", \"purchase_amount\",\n  \"products_cost\", \"sale_platform\", \"order_state\", \"pay_table_id\", \"pay_platform\",\n  \"add_time\", \"update_time\", \"explains\", \"explains_customer\", \"has_print\",\n  \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\", \"image_cos_name4\", \"image_cos_name5\"\n];\n\n// ~~~~~~ 表单不能编辑列, 根据实际添加 ~~~~~~\nconst formDisabledKeys = [\n  \"id\", \"input_staff_id\", \"latest_modify_staff_id\", \"customer_name\", \"group_purchase_commander_id\", \"group_purchase_commander_name\", \"diopter_r\", \"diopter_l\",\n  \"pupillary_distance\", \"receive_address\", \"pay_table_id\", \"add_time\", \"update_time\", \"has_print\", \"image_cos_name1\", \"image_cos_name2\",\n  \"image_cos_name3\", \"image_cos_name4\", \"image_cos_name5\"\n];\n\n// ~~~~~~ 表单不显示列, 根据实际添加 ~~~~~~\nconst formNotShowKeys = [\n  \"input_staff_id\", \"latest_modify_staff_id\", \"customer_id\", \"group_purchase_commander_id\", \"group_purchase_commander_name\",\n  \"receive_address\", \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\", \"image_cos_name4\", \"image_cos_name5\"\n];\n\n// ~~~~~~ 表单列名称 label, 需添加 ~~~~~~\nconst formKeysLabelsObj = {\n  \"id\": \"订单ID\", \"input_staff_id\": \"订单创建管理员\", \"latest_modify_staff_id\": \"最后修改管理员\", \"customer_id\": \"顾客ID\", \"customer_name\": \"顾客\",\n  \"group_purchase_commander_id\": \"团购团长ID\", \"group_purchase_commander_name\": \"团购团长\", \"product_title\": \"商品标题\", \"diopter_r\": \"光度R\", \"diopter_l\": \"光度L\", \"pupillary_distance\": \"瞳距(PD)\",\n  \"receive_address\": \"收货地址\", \"products_quantity\": \"商品数量\", \"purchase_amount\": \"订单金额\", \"products_cost\": \"商品成本\", \"sale_platform\": \"销售平台\",\n  \"order_state\": \"订单状态\", \"pay_table_id\": \"支付表ID\", \"pay_platform\": \"支付方式\", \"add_time\": \"新建时间\", \"update_time\": \"更新时间\", \"explains\": \"商家备注\",\n  \"explains_customer\": \"顾客留言\", \"has_print\": \"打印状态\", \"image_cos_name1\": \"订单图片1\", \"image_cos_name2\": \"订单图片2\",\n  \"image_cos_name3\": \"订单图片3\", \"image_cos_name4\": \"订单图片4\", \"image_cos_name5\": \"订单图片5\",\n  \"range_add_time\": \"日期\", \"add_time_start\": \"开始时间\", \"add_time_end\": \"结束时间\"\n};\n\n//  ~~~~~~ 选择框, 根据实际添加 ~~~~~~\n// const SelectExpressCompany = ({ value = '', onChange = e => console.log(e) }) => {\n//   const [selectOptions, setSelectOptions] = useState([]);\n//   useEffect(() => {\n//     expressCompanyRequestGet().then(respObj => {\n//         const resList = respObj.results;\n//         let updateOptions = [];\n//         for (let index = 0; index < resList.length; index++) {\n//           const element = resList[index];\n//           updateOptions.push({\n//             value: element.express_company_code,\n//             label: element.express_company_name\n//           })\n//         }\n//         setSelectOptions(updateOptions);\n//       }).catch(error => {\n//         console.log(error);\n//         setSelectOptions([]);\n//       });\n//   }, []);\n//   return (<CustomSelect options={selectOptions} value={value} onChange={onChange}></CustomSelect>)\n// };\n// const SelectBoolean = (<CustomSelect options={[{ value: false, label: '否' }, { value: true, label: '是' }]} />);\nconst SelectRangePicker = <RangePicker />\nconst SelectEndTime = (<DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />);\nconst SelectHasPrint = (<CustomSelect options={[{ value: 0, label: '未打印' }, { value: 1, label: '已打印' }, { value: 2, label: '全部' }]} />);\nconst SelectSalePlatform = (<CustomSelect options={[{ value: 0, label: '未知或未输入'}, {value: 1, label: '门店'}, {value: 2, label: '淘宝'}, {value: 3, label: '小程序'}, {value: 4, label: '微信-方灵芝'}, {value: 5, label: '微信-展望眼镜'}]} />);\nconst SelectOrderState = (<CustomSelect options={[{ value: 0, label: '订单交易完成'}, { value: 1, label: '未付款'}, { value: 2, label: '定制中'}, { value: 3, label: '已发货'}, { value: 4, label: '售后处理中'}]} />); \nconst SelectPayPlatform = (<CustomSelect options={[{ value: 0, label: '未知'}, { value: 1, label: '微信支付'}, { value: 2, label: '支付宝支付'}, { value: 3, label: '刷卡'}, { value: 4, label: '现金'}]} />);\nconst formKeySelectComponentsObj = {\n  // 'express_company_code': <SelectExpressCompany />,\n  has_print: SelectHasPrint,\n  sale_platform: SelectSalePlatform,\n  order_state: SelectOrderState,\n  pay_platform: SelectPayPlatform,\n  range_add_time: SelectRangePicker,\n  add_time_start: SelectEndTime,\n  add_time_end: SelectEndTime\n};\n\n//  ~~~~~~ 表单自定义操作按钮, 根据实际添加 ~~~~~~\nconst formKeysHandleButtonObj = (setOptCustomerModalState) => {\n  return {\n    customer_name: {buttonTips: '选择顾客', clickMethod: () => setOptCustomerModalState(1)},\n    group_purchase_commander_name: {buttonTips: '选择团长', clickMethod: () => setOptCustomerModalState(2)},\n    pupillary_distance: {buttonTips: '选择光度瞳距', clickMethod: () => setOptCustomerModalState(3)},\n  };\n};\n\n//  ~~~~~~ 表单是图片列, 根据实际添加 ~~~~~~\nconst formKeysIsImages = [];\n\n//  ~~~~~~ 查询form keys, 根据实际添加 ~~~~~~\nconst formGetRequestParamsKeys = ['id', 'customer_name', 'sale_platform', 'order_state', 'range_add_time', 'has_print'];\n\n//  ~~~~~~ request请求条件(有可能和 ‘查询form keys’ 不同) keys, 根据实际添加(主要参考) ~~~~~~\nconst requestParamsKeys = ['customer_id', 'sale_platform', 'order_state', 'add_time_start', 'add_time_end', 'has_print'];\n\n//  ~~~~~~ 表单初始化值, 根据实际添加 ~~~~~~\nconst formInitialObj = {\n  \"id\": 0, \"input_staff_id\": 0, \"latest_modify_staff_id\": 0, \"customer_id\": 0, \"customer_name\": \"\",\n  \"group_purchase_commander_id\": 0, \"product_title\": \"\", \"diopter_r\": \"\", \"diopter_l\": \"\", \"pupillary_distance\": \"\",\n  \"receive_address\": \"\", \"products_quantity\": 0, \"purchase_amount\": 0, \"products_cost\": 0, \"sale_platform\": 0,\n  \"order_state\": 0, \"pay_table_id\": 0, \"pay_platform\": 0, \"add_time\": \"\", \"update_time\": \"\", \"explains\": \"\",\n  \"explains_customer\": \"\", \"has_print\": 2, \"image_cos_name1\": \"\", \"image_cos_name2\": \"\", \"image_cos_name3\": \"\", \"image_cos_name4\": \"\", \"image_cos_name5\": \"\"\n}\n\n// ~~~~~~ 图片列名称, 根据实际修改 ~~~~~~\nconst imageKeyNames = ['image_cos_name', ];\n\n// ~~~~~~ 图片总数量, 默认设置为1, 根据实际修改 ~~~~~~\nconst maxImagesNum = 5;\n\n// ~~~~~~ api请求url apiLists, 根据实际修改 ~~~~~~\nconst apiLists = ['records-admin/v1/purchaserecord', 'records-admin/v1/purchaserecordproducts', 'records-admin/v1/purchaserecorddeliveryaddress'];\n\n// 修改 ~~~~~~~ item keys ~~~~~~;\nconst ItemRendererComponent = ({ item, index, itemDetailClick }) => {\n  // 必须 每一行渲染 的组件, 修改 ~~~~~~~ item keys ~~~~~~;\n  console.log(item);\n  return (<div>\n    <ListsItem\n      listsIndex={index}\n      url={item.icon}\n      productTitle={item.name}\n      productEffects={`频道简介: ${item.front_desc}`}\n      salePrice={0}\n      clickDetailHandle={itemDetailClick}\n    ></ListsItem>\n  </div>);\n};\n\nconst updateDataList = (dataList, updatedObj, method=1) => {\n  // 更新数据列表 根据 updatedObj 的 id; method:1-update, 0-delete\n  const updatedObjId = updatedObj.id ? updatedObj.id : 0;\n  if (updatedObjId > 0) {\n    const copyDataList = [].concat(dataList);\n    for (let index = copyDataList.length - 1; index > -1; index--) {\n      const element = copyDataList[index];\n      if (element.id === updatedObjId) {\n        if (method === 1) {\n          // 更新\n          copyDataList[index] = { ...copyDataList[index], ...updatedObj };\n          console.log('update...');\n          return copyDataList;\n        }else if(method === 0) {\n          // 删除\n          copyDataList.splice(index, 1);\n          console.log('delete...');\n          return copyDataList\n        }\n      }\n    }\n  }\n  console.log('not handle...');\n  return dataList;\n}\n\nexport {\n  formKeys,\n  formDisabledKeys,\n  formNotShowKeys,\n  formKeysLabelsObj,\n  formKeySelectComponentsObj,\n  formKeysHandleButtonObj,\n  formKeysIsImages,\n  formGetRequestParamsKeys,\n  requestParamsKeys,\n  formInitialObj,\n  imageKeyNames,\n  maxImagesNum,\n  apiLists,\n  ItemRendererComponent,\n  updateDataList,\n};\n","import React from 'react';\n\nimport AxiosRequest from '../apis';\nimport { apiLists } from './purchase_records_columns_label_config';\n\n// PurchaseRecords 的request请求\n\nconst PurchaseRecordsRequestGet = ({ requestCount, reqParams, responseDataHandle }) => {\n  // PurchaseRecords Get请求\n  const api = apiLists[0];\n  const method = 'get';\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount.length}\n    ></AxiosRequest>\n  );\n};\nPurchaseRecordsRequestGet.defaultProps = {\n  requestCount: 0,\n  reqParams: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nconst PurchaseRecordsRequestPost = ({ requestCount, reqObject, responseDataHandle }) => {\n  // PurchaseRecords post请求\n  const api = [].concat(apiLists)[0];\n  const method = 'post';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nPurchaseRecordsRequestPost.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n}\n\nconst PurchaseRecordsRequestPut = ({ requestCount, reqObject, responseDataHandle, id }) => {\n  // PurchaseRecords put请求\n  const api = [].concat(apiLists)[0] + `/${id}`;\n  const method = 'put';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nPurchaseRecordsRequestPut.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  id: 0\n}\n\nconst PurchaseRecordsRequestDelete = ({ requestCount, responseDataHandle, id }) => {\n  // PurchaseRecords delete请求\n  const api = [].concat(apiLists)[0] + `/${id}`;\n  const method = 'delete';\n  const reqParams = {};\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nPurchaseRecordsRequestDelete.defaultProps = {\n  requestCount: 0,\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  id: 0\n}\n\nexport {\n  PurchaseRecordsRequestGet,\n  PurchaseRecordsRequestPost,\n  PurchaseRecordsRequestPut,\n  PurchaseRecordsRequestDelete\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport { Modal, Divider, message } from 'antd';\n\nimport { CustomerOptModal } from '../modals/customer_opt';\nimport { DioptersOptModal } from '../modals/diopters_opt';\nimport { StsUploadImagesList } from '../upload_files/sts_upload_files_list';\nimport { PurchaseRecordsRequestPost } from './purchase_records_requests';\nimport { CustomForm } from '../base_components/form_component';\n\nimport {\n  formKeys,\n  formDisabledKeys,\n  // formNotShowKeys,\n  formKeysLabelsObj,\n  formKeySelectComponentsObj,\n  formKeysHandleButtonObj,\n  // formKeysIsImages,\n  // formGetRequestParamsKeys,\n  formInitialObj,\n  imageKeyNames,\n  maxImagesNum\n} from './purchase_records_columns_label_config';\n\n// ~~~~~~ 表单不显示列, 根据实际添加 ~~~~~~\nconst formNotShowKeys = [ \"id\", \"group_purchase_commander_id\", \"group_purchase_commander_name\", \"pay_table_id\", \"add_time\", \"update_time\",\n  \"input_staff_id\", \"latest_modify_staff_id\", \"customer_id\", \"receive_address\", \"explains_customer\",\n  \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\", \"image_cos_name4\", \"image_cos_name5\",\n  \"has_print\"\n];\n\n// 新建 Modal\n\nconst CreatePurchaseRecords = ({ visible, setVisible, reloadListCount, setReloadListCount }) => {\n\n  const purchaseRecordsImageObj = useRef({});\n  const oldObj = useRef({createCount: 0});\n  const [dioptersObj, setDioptersObj] = useState({diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"});\n\n  const [oldFormObj, setOldFormObj] = useState({});\n\n  const [initFormCount, setInitFormCount] = useState(0);\n\n  const [postRequestCount, setPostRequestCount] = useState(0);\n  const reqObject = useRef({});\n\n  const customerObj = useRef({});\n\n  const [customerOptModalState, setCustomerOptModalState] = useState(0);\n  const selectCustomerHandle = (cusotomerObj) => {\n    // 选择顾客操作\n    console.log(cusotomerObj, cusotomerObj.name);\n    let showName = cusotomerObj.name;\n    if (Object.keys(cusotomerObj).includes('wx_info')) {\n      showName = `${showName}(${cusotomerObj.wx_info.wx_nickname})`;\n    }\n    customerObj.current = cusotomerObj;\n    setOldFormObj({ customer_name: showName });\n    setCustomerOptModalState(false);\n  };\n  const selectDioptersHandle = (dioptersObj) => {\n    // 选择光度后操作, 保存当前光度和瞳距, 更新表单\n    setDioptersObj(dioptersObj);  // 保存当前光度和瞳距\n    setOldFormObj(dioptersObj);   // 更新表单\n    setCustomerOptModalState(0);            // 关闭选择表单弹出框\n};\n\n  const postResponseDataHandle = (respObj) => {\n    // 表单提交后的操作\n    if (Object.keys(respObj).includes('code')\n      && respObj.code === 1000) {\n      closeModal();\n      setReloadListCount(reloadListCount + 1)\n    } else {\n      message.error('网络错误...');\n    }\n  }\n\n  useEffect(() => {\n    if (visible) {\n      // 初始化表格和图片\n      purchaseRecordsImageObj.current = {};  // 清空图片数据\n      customerObj.current = {};   // 清空选择的顾客信息\n      oldObj.current = {createCount: oldObj.current.createCount + 1};  // 初始化图片\n      setInitFormCount(initFormCount + 1);  // 初始化表格\n      setDioptersObj({diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"});   // 初始化光度\n    }\n  }, [visible]);\n\n  const closeModal = () => {\n    // 关闭Modal\n    setVisible(false);\n  }\n\n  const purchaseRecordsImageUploaded = (imagesObj) => {\n    // 图片上传后操作\n    purchaseRecordsImageObj.current = { ...imagesObj };\n  }\n\n  const onFinish = (values) => {\n    // 提交表单 表单没有customer_id, 提交时需要添加\n    let upObj = { ...values, ...purchaseRecordsImageObj.current, customer_id: customerObj.current.id, };\n    // let newDate = new Date(upObj.end_time);\n    // upObj.end_time = parseInt(newDate.getTime());    // 时间转时间戳\n    delete upObj.customer_name;\n    // upObj.has_print = Object.keys(upObj).includes('has_print') ? upObj.has_print === 1 : false;\n    reqObject.current = upObj;\n    console.log(reqObject.current);\n    setPostRequestCount(postRequestCount + 1);\n  }\n\n  return (\n    <>\n      <Modal visible={visible}\n        title=\"PurchaseRecords 新建\"\n        closable={false}\n        footer={null}\n      >\n        <div style={{ width: '100%', height: 'auto', textAlign: 'center' }}>\n          <StsUploadImagesList\n            oldObj={oldObj.current}\n            maxImagesNum={maxImagesNum}\n            imageKeyName={imageKeyNames[0]}\n            onChange={purchaseRecordsImageUploaded}></StsUploadImagesList>\n        </div>\n        <Divider></Divider>\n\n        <CustomForm\n          columns={formKeys}\n          disabledKeys={formDisabledKeys}\n          notShowKeys={formNotShowKeys}\n          formKeyLabelObj={formKeysLabelsObj}\n          formKeySelectComponentsObj={formKeySelectComponentsObj}\n          formKeysItemButtonObj={formKeysHandleButtonObj(setCustomerOptModalState)}\n          onFinish={onFinish}\n          cancelHandle={closeModal}\n          showDeleteButton={false}\n          updateFormObj={oldFormObj}\n          formInitialObj={formInitialObj}\n          initFormCount={initFormCount}\n        ></CustomForm>\n\n        <PurchaseRecordsRequestPost\n          requestCount={postRequestCount}\n          reqObject={reqObject.current}\n          responseDataHandle={postResponseDataHandle}></PurchaseRecordsRequestPost>\n\n        <CustomerOptModal\n          modalState={customerOptModalState === 1}\n          setModalState={setCustomerOptModalState}\n          selectCustomerHandle={selectCustomerHandle}></CustomerOptModal>\n\n        <DioptersOptModal\n          sourceDiopterObj={dioptersObj}\n          modalState={customerOptModalState === 3}\n          setModalState={setCustomerOptModalState}\n          selectHandle={selectDioptersHandle}></DioptersOptModal>\n      </Modal>\n    </>\n  )\n}\n\nCreatePurchaseRecords.defaultProps = {\n  visible: false,\n  setVisible: (val) => console.log(val),\n  reloadListCount: 0,\n  setReloadListCount: (booleanVal) => console.log(booleanVal)\n}\n\nexport default CreatePurchaseRecords;\n","import React, { useState } from 'react';\nimport { Drawer } from 'antd';\n\nimport { CustomForm } from '../base_components/form_component';\nimport { CustomerOptModal } from '../modals/customer_opt';\n\nimport {\n    formKeysLabelsObj,\n    // formDisabledKeys,\n    formKeySelectComponentsObj,\n    formKeysHandleButtonObj,\n    formGetRequestParamsKeys,\n    // requestParamsKeys,\n    formInitialObj\n} from './purchase_records_columns_label_config';\nimport { useRef } from 'react';\n// 列表查询 form\n\nconst queryFormDisabledKeys = ['customer_name'];\n\nconst PurchaseRecordsQueryDrawerForm = ({ visible, setVisible, queryHandle }) => {\n    const choseCustomerId = useRef(0);\n    const [initFormCount, setInitFormCount] = useState(0);\n    const [updateFormObj, setUpdateFormObj] = useState({});\n\n    const [customerOptModalState, setCustomerOptModalState] = useState(false);\n    const selectCustomerHandle = (cusotomerObj) => {\n        // 选择顾客操作\n        console.log(cusotomerObj, cusotomerObj.name);\n        // 当前选中的顾客 id\n        choseCustomerId.current = cusotomerObj.id;\n\n        let showName = cusotomerObj.name;\n        if (Object.keys(cusotomerObj).includes('wx_info')) {\n          showName = `${showName}(${cusotomerObj.wx_info.wx_nickname})`;\n        }\n        setUpdateFormObj({ customer_name: showName });\n        setCustomerOptModalState(false);\n    };\n\n    const closeDrawer = () => {\n        // 关闭查询抽屉\n        setInitFormCount(initFormCount + 1);\n        setVisible(false);\n    };\n\n    const onFinish = (formObj) => {\n        // 提交查询 根据具体情况更新 fromObj\n        // ~~~~~~~ 具体情况更新 fromObj ~~~~~~\n        // requestParamsKeys = ['customer_id', 'sale_platform', 'order_state', 'add_time_start', 'add_time_end', 'has_print'];\n        let copyFormObj = { ...formObj };\n        let queryParamsObj = {};\n        const queryId = formObj.id ? parseInt(formObj.id) : 0;\n        if (queryId > 0) {\n            // console.log(queryId);\n            queryParamsObj.id = queryId;\n        }else {\n            if (choseCustomerId.current > 0) {\n                queryParamsObj.customer_id = choseCustomerId.current;\n            }\n            const sale_platform = copyFormObj.sale_platform;\n            if (sale_platform > 0 && sale_platform < 6) {\n                queryParamsObj.sale_platform = sale_platform;\n            }\n            const order_state = copyFormObj.order_state\n            if (order_state > 0 && order_state < 5) {\n                queryParamsObj.order_state = order_state;\n            }\n            // 查询日期区间\n            const rangeDates = copyFormObj.range_add_time;\n            if (Array.isArray(rangeDates) && rangeDates.length === 2) {\n                queryParamsObj.add_time_start = rangeDates[0].format('YYYY-MM-DD');\n                queryParamsObj.add_time_end = rangeDates[1].format('YYYY-MM-DD');\n            }\n            // const\n            const has_print = copyFormObj.has_print;\n            if (has_print === 0 || has_print === 1) {\n                queryParamsObj.has_print = has_print;\n            }\n        }\n        queryHandle(queryParamsObj);\n        setTimeout(() => {\n            closeDrawer();\n        }, 50);\n    };\n\n    return (\n        <>\n            <Drawer\n                title=\"销售记录查询\"\n                width=\"100%\"\n                height=\"400px\"\n                placement=\"top\"\n                onClose={closeDrawer}\n                visible={visible}\n                bodyStyle={{ paddingBottom: 80 }}\n                footer={null}\n            >\n                <CustomForm\n                    columns={formGetRequestParamsKeys}\n                    disabledKeys={queryFormDisabledKeys}\n                    formKeyLabelObj={formKeysLabelsObj}\n                    formKeySelectComponentsObj={formKeySelectComponentsObj}\n                    formKeysItemButtonObj={formKeysHandleButtonObj(setCustomerOptModalState)}\n                    onFinish={onFinish}\n                    cancelHandle={() => setVisible(false)}\n                    showDeleteButton={false}\n                    formInitialObj={formInitialObj}\n                    initFormCount={initFormCount}\n                    updateFormObj={updateFormObj}\n                ></CustomForm>\n            </Drawer>\n            <CustomerOptModal\n                modalState={customerOptModalState}\n                setModalState={setCustomerOptModalState}\n                selectCustomerHandle={selectCustomerHandle}></CustomerOptModal>\n        </>\n    );\n};\n\nPurchaseRecordsQueryDrawerForm.defaultProps = {\n    visible: false,\n    setVisible: (booleanValue) => { console.log(booleanValue); },\n    queryHandle: (queryParamsObj) => { console.log(queryParamsObj); }\n};\n\nexport default PurchaseRecordsQueryDrawerForm;\n","import React, { useRef, useState, useEffect } from 'react';\nimport { Modal, Divider, message } from 'antd';\n\n// import StsUploadFile from '../upload_files/sts_upload_file';\nimport { StsUploadImagesList } from '../upload_files/sts_upload_files_list';\nimport { PurchaseRecordsRequestPut, PurchaseRecordsRequestDelete } from './purchase_records_requests';\nimport { CustomForm } from '../base_components/form_component';\nimport { CustomerOptModal } from '../modals/customer_opt';\nimport { DioptersOptModal } from '../modals/diopters_opt';\nimport PageIsLoading from '../base_components/page_is_loading';\nimport { customerShowName } from '../base_components/purchase_records_goods_delivery_address/purchase_records_common_funcs';\n\nimport {\n    formKeys,\n    formDisabledKeys,\n    formNotShowKeys,\n    formKeysLabelsObj,\n    formKeySelectComponentsObj,\n    formKeysHandleButtonObj,\n    formGetRequestParamsKeys,\n    formInitialObj,\n    imageKeyNames,\n    maxImagesNum\n} from './purchase_records_columns_label_config';\n\n// 编辑 PurchaseRecords\n\nconst UpdatePurchaseRecords = ({ visible, setVisible, oldObj, successDeletedOrUpdated }) => {\n    const [pageLoading, setPageLoading] = useState(false);\n    // const [oldPurchaseRecordsHomeImages, setOldPurchaseRecordsHomeImages] = useState([]);\n    const purchaseRecordsImageObj = useRef({});\n    const [dioptersObj, setDioptersObj] = useState({diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"});\n\n    // const [oldPurchaseRecordsImageUrl, setOldPurchaseRecordsImageUrl] = useState('');\n    const [oldFormObj, setOldFormObj] = useState({});\n\n    const [initFormCount, setInitFormCount] = useState(0);\n\n    const [putRequestCount, setPutRequestCount] = useState(0);\n    const reqObject = useRef({});\n    const putResponseDataHandle = (respObj) => {\n        setPageLoading(false);\n        if (Object.keys(respObj).includes('code')\n            && respObj.code === 1000) {\n            message.success('修改成功');\n            // 成功删除或更新后操作 参数 {method: 'update/delete', result: respObj}\n            successDeletedOrUpdated({method: 'update', result: respObj})\n            setVisible(0);\n        } else {\n            message.error('网络错误...');\n        }\n    }\n\n    const [deleteRequestCount, setDeleteRequestCount] = useState(0);\n    const deletePurchaseRecords = () => {\n        // 删除当前对象\n        if (Object.keys(oldObj).includes('id') && oldObj.id > 0) {\n            setDeleteRequestCount(deleteRequestCount + 1);\n            \n            // 成功删除或更新后操作 参数 {method: 'update/delete', result: respObj}\n            successDeletedOrUpdated({method: 'delete', result: null});\n        } else {\n            // 修改过顾客后无法删除，需要重新打开删除\n            message.warn('修改顾客后不能直接删除, 关闭并重新打开再删除');\n        }\n    };\n\n    const [customerOptModalState, setCustomerOptModalState] = useState(0);\n    const selectCustomerHandle = (cusotomerObj) => {\n        // 选择顾客操作\n        console.log(cusotomerObj, cusotomerObj.name);\n        let showName = cusotomerObj.name;\n        if (Object.keys(cusotomerObj).includes('wx_info')) {\n            showName = `${showName}(${cusotomerObj.wx_info.wx_nickname})`;\n        }\n        // setOldFormObj({ ...oldFormObj,\n        setOldFormObj({\n            customer_info: cusotomerObj,\n            customer_id: cusotomerObj.id,\n            customer_name: showName\n        });\n        setCustomerOptModalState(false);\n    };\n\n    const selectDioptersHandle = (dioptersObj) => {\n        // 选择光度后操作, 保存当前光度和瞳距, 更新表单\n        setDioptersObj(dioptersObj);  // 保存当前光度和瞳距\n        setOldFormObj(dioptersObj);   // 更新表单\n        setCustomerOptModalState(0);            // 关闭选择表单弹出框\n    };\n\n    useEffect(() => {\n        if (visible > 0) {\n            initImgAndForm();   // 初始化表格和图片 和光度对象\n        }\n    }, [visible, oldObj]);\n\n    const initImgAndForm = () => {\n        // 初始化表格和图片和光度对象\n        setInitFormCount(initFormCount + 1);  // 初始化表单\n        let customer_name = '';\n        let hasPrintNum = 0;\n        try {\n            if (Object.keys(oldObj).includes('customer_info')) {\n                customer_name = customerShowName(oldObj.customer_info);\n            }\n            hasPrintNum = oldObj.has_print ? 1 : 0;\n        } catch (error) {\n            console.error(error);\n            console.log(oldObj);\n        }\n        const oldPurchaseRecord = { ...oldObj, customer_name: customer_name, has_print: hasPrintNum };\n        setOldFormObj(oldPurchaseRecord);  // 给表单赋值\n\n        // 保存光度对象\n        setDioptersObj({\n            diopter_r: oldPurchaseRecord.diopter_r,\n            diopter_l: oldPurchaseRecord.diopter_l,\n            pupillary_distance: oldPurchaseRecord.pupillary_distance,\n        });\n    }\n\n    const purchaseRecordsImageUploaded = (imagesObj) => {\n        // 轮播图上传后操作\n        purchaseRecordsImageObj.current = imagesObj;\n    }\n\n    const onFinish = (values) => {\n        // 提交表单 表单没有customer_id, 提交时需要添加\n        const has_print_boolean = values.has_print === 1 ? true : false;\n        let upObj = {\n            ...values, ...purchaseRecordsImageObj.current,\n            customer_id: oldFormObj.customer_id,\n            has_print: has_print_boolean\n        };\n        console.log(upObj);\n        setPageLoading(true);\n        // 时间转时间戳\n        // let newDate = new Date(upObj.end_time);\n        // upObj.end_time = parseInt(newDate.getTime());    // 时间转时间戳\n        // console.log(upObj.end_time);\n        reqObject.current = upObj;\n        setPutRequestCount(putRequestCount + 1);\n    }\n\n    return (\n        <Modal visible={visible}\n            title=\"PurchaseRecords\"\n            closable={false}\n            footer={null}\n        >\n            <PageIsLoading spinning={pageLoading}></PageIsLoading>\n            <div style={{ width: '100%', height: 'auto', textAlign: 'center' }}>\n                <StsUploadImagesList\n                    maxImagesNum={maxImagesNum}\n                    imageKeyName=\"image_cos_name\"\n                    oldObj={oldObj}\n                    onChange={purchaseRecordsImageUploaded}\n                ></StsUploadImagesList>\n            </div>\n            <Divider></Divider>\n\n            <CustomForm\n                columns={formKeys}\n                disabledKeys={formDisabledKeys}\n                notShowKeys={formNotShowKeys}\n                formKeyLabelObj={formKeysLabelsObj}\n                formKeySelectComponentsObj={formKeySelectComponentsObj}\n                formKeysItemButtonObj={formKeysHandleButtonObj(setCustomerOptModalState)}\n                onFinish={onFinish}\n                cancelHandle={() => setVisible(0)}\n                showDeleteButton={true}\n                deleteHandle={deletePurchaseRecords}\n                updateFormObj={oldFormObj}\n                formInitialObj={{}}\n                initFormCount={initFormCount}\n            ></CustomForm>\n\n            <PurchaseRecordsRequestPut\n                requestCount={putRequestCount}\n                reqObject={reqObject.current}\n                responseDataHandle={putResponseDataHandle}\n                id={reqObject.current.id}></PurchaseRecordsRequestPut>\n            <PurchaseRecordsRequestDelete\n                requestCount={deleteRequestCount}\n                responseDataHandle={(respObj) => setVisible(0)}\n                id={oldObj.id}></PurchaseRecordsRequestDelete>\n            <CustomerOptModal\n                modalState={customerOptModalState === 1}\n                setModalState={setCustomerOptModalState}\n                selectCustomerHandle={selectCustomerHandle}></CustomerOptModal>\n            <DioptersOptModal\n            sourceDiopterObj={dioptersObj}\n            modalState={customerOptModalState === 3}\n            setModalState={setCustomerOptModalState}\n            selectHandle={selectDioptersHandle}></DioptersOptModal>\n        </Modal>\n    )\n}\n\nUpdatePurchaseRecords.defaultProps = {\n    visible: false,\n    setVisible: (val) => console.log(val),\n    oldObj: {}\n}\n\nexport default UpdatePurchaseRecords;\n","import React from 'react';\nimport { pca, pcaa } from 'area-data'; // v3 or higher\nimport 'react-area-linkage/dist/index.css'; // v2 or higher\nimport { AreaSelect, AreaCascader } from 'react-area-linkage';\n\nconst ChinaAreaSelect = ({initAreaList, selectedAreaHandle}) => {\n    // 中国地区选择\n    const selectedChange = (selectedArea) => {\n        console.log(selectedArea);\n        selectedAreaHandle(selectedArea)\n    }\n    return (\n        <AreaSelect onChange={selectedChange} level={2} data={pcaa} defaultArea={initAreaList} />\n    )\n}\nChinaAreaSelect.defaultProps = {\n    initAreaObj: [],\n    selectedAreaHandle: selectedArea => console.log(selectedArea),\n}\n\nexport { ChinaAreaSelect };\n","import React from 'react';\nimport { sendAxiosRequest } from '../apis/sendRequest';\n\n// 自定义 Select 组件的request请求, ～～～～～～ 根据需要重写 ～～～～～～\n\nconst channelsRequestGet = () => {\n  // 频道 Get 请求\n  return new Promise(function (resolve, reject) {\n    const api = 'channel/v1/channels';\n    const method = 'get';\n    const reqParams = {};\n    const reqObject = {};\n    sendAxiosRequest(api, method, reqParams, reqObject)\n      .then(respObj => {\n        resolve(respObj);\n      })\n      .catch(err => {\n        console.log(err);\n        reject(err);\n      });\n  });\n};\n\nconst categoryRequestGet = () => {\n  // 分类 Get请求\n  return new Promise(function (resolve, reject) {\n    const api = 'category-admin/v1/category';\n    const method = 'get';\n    const reqParams = {};\n    const reqObject = {};\n    sendAxiosRequest(api, method, reqParams, reqObject)\n      .then(respObj => {\n        resolve(respObj);\n      })\n      .catch(err => {\n        console.log(err);\n        reject(err);\n      });\n  });\n}\n\nconst expressCompanyRequestGet = () => {\n  // 快递公司 Get请求\n  return new Promise(function (resolve, reject) {\n    const api = 'kdniao-admin/v1/kdniaoexpresscompanycodes';\n    const method = 'get';\n    const reqParams = {};\n    const reqObject = {};\n    sendAxiosRequest(api, method, reqParams, reqObject)\n      .then(respObj => {\n        resolve(respObj);\n      })\n      .catch(err => {\n        console.log(err);\n        reject(err);\n      });\n  });\n}\n\nexport {\n  channelsRequestGet,\n  categoryRequestGet,\n  expressCompanyRequestGet,\n};\n","import React, { useState, useEffect } from 'react';\n// import { DatePicker } from 'antd';\nimport { CustomSelect } from '../base_components/select_component';\nimport ListsItem from '../base_components/list_item';\nimport { expressCompanyRequestGet } from './custom_select_requests';\n\n// Deliver 列 配置\n\n// ~~~~~~ 表单列, 需添加 ~~~~~~\nconst formKeys = [\"id\", \"express_company_code\", \"express_number\"];\n\n// ~~~~~~ 表单不能编辑列, 根据实际添加 ~~~~~~\nconst formDisabledKeys = [];\n\n// ~~~~~~ 表单不显示列, 根据实际添加 ~~~~~~\nconst formNotShowKeys = [\"password\", \"id\"];\n\n// ~~~~~~ 表单列名称 label, 需添加 ~~~~~~\nconst formKeysLabelsObj = {\"id\": \"ID\", \"express_company_code\": \"快递公司\", \"express_number\": \"快递单号\", \"add_time\": \"创建时间\", \"update_time\": \"更新时间\", \"explains\": \"说明\"};\n\n//  ~~~~~~ 选择框, 根据实际添加 ~~~~~~\nconst SelectExpressCompany = ({ value = '', onChange = e => console.log(e) }) => {\n  const [selectOptions, setSelectOptions] = useState([]);\n  useEffect(() => {\n    expressCompanyRequestGet().then(respObj => {\n        const resList = respObj.results;\n        let updateOptions = [];\n        for (let index = 0; index < resList.length; index++) {\n          const element = resList[index];\n          updateOptions.push({\n            value: element.express_company_code,\n            label: element.express_company_name\n          })\n        }\n        setSelectOptions(updateOptions);\n      }).catch(error => {\n        console.log(error);\n        setSelectOptions([]);\n      });\n  }, []);\n  return (<CustomSelect options={selectOptions} value={value} onChange={onChange}></CustomSelect>)\n};\n// const SelectEndTime = (<DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />);\n// const SelectBoolean = (<CustomSelect options={[{ value: 0, label: '否' }, { value: 1, label: '是' }]} />);\nconst formKeySelectComponentsObj = {\n  'express_company_code': <SelectExpressCompany />,\n  // exampleColumn: SelectBoolean,\n};\n\n// ~~~~~~ 表单自定义操作按钮, 根据实际添加 ~~~~~~\nconst formKeysHandleButtonObj = (setOptModalState) => {\n  return {\n    group_purchase_commander_name: {buttonTips: '团购团长', clickMethod: () => setOptModalState(true)},\n  };\n};\n\n// ~~~~~~ 表单是图片列, 根据实际添加(废弃, 改用 imageKeyNames) ~~~~~~\n// const formKeysIsImages = [];\n\n// ~~~~~~ 表单 get 请求条件key, 根据实际添加 ~~~~~~\nconst formGetRequestParamsKeys = [];\n\n//  ~~~~~~ 表单初始化值, 根据实际添加 ~~~~~~\nconst formInitialObj = {\"id\": 0, \"add_time\": \"创建时间\", \"\": \"\", \"explains\": \"\"}\n\n// ~~~~~~ 表单值规则, 根据实际添加 ~~~~~~\n// formRulesList = {formKey: [{require: true, message: 'Please input Password!',}, ]};\nconst formRulesList = {\"password\": [{required: true, message: 'Please input Password!',}, ], }\n\n// ~~~~~~ 图片列名称, 根据实际修改(多张图片去掉最后序号数字) ~~~~~~\nconst imageKeyNames = ['pic'];\n\n// ~~~~~~ 图片总数量, 默认设置为1, 根据实际修改 ~~~~~~\nconst maxImagesNum = 1;\n\n// ~~~~~~ api请求url apiLists, 根据实际修改 ~~~~~~\nconst apiLists = ['delivery-address/v1/customerdeliveryaddress', ];\n\n// 修改 ~~~~~~~ item keys ~~~~~~;\nconst ItemRendererComponent = ({ item, index, itemDetailClick, selectButtonOnClick }) => {\n  // 必须 每一行渲染 的组件, 修改 ~~~~~~~ item keys ~~~~~~;\n  const [customerName, setCustomerName] = useState('');\n  const [avatarUrl, setAvatarUrl] = useState('');\n\n  useEffect(() => {\n    // 显示姓名 + 微信昵称\n    const customerName = item.name ? item.name : '';\n    let wxNickname = '';\n\n    const customerAvatar = item.avatar_url ? item.avatar_url : '';\n    let wxAvatar = '';\n    if (Object.keys(item).includes('wx_info') && Object.keys(item.wx_info).includes('wx_nickname')) {\n      wxNickname = item.wx_info.wx_nickname;\n      wxAvatar = item.wx_info.wx_avatar;\n    }\n\n    setCustomerName(wxNickname.length > 0 ? `${customerName}(${wxNickname})` : customerName);\n    setAvatarUrl(customerAvatar.length > 0 ? customerAvatar : wxAvatar);\n  }, [item]);\n\n  const [customButtons, setCustomButtons] = useState([]);\n\n  useEffect(() => {\n    if (selectButtonOnClick) {\n      const selectButtonObj = {\n        buttonLabel: '选择',\n        onClick: (listIndex) => {\n          selectButtonOnClick(item, index);\n        },\n      };\n      setCustomButtons([selectButtonObj,]);\n    }\n    \n  }, [selectButtonOnClick]);\n\n  // console.log(item);\n  return (<div>\n    <ListsItem\n      listsIndex={index}\n      url={avatarUrl}\n      productTitle={customerName}\n      productEffects={`手机: ${item.mobile}`}\n      salePrice={0}\n      clickDetailHandle={itemDetailClick}\n      customButtons={customButtons}\n    ></ListsItem>\n  </div>);\n};\n\nexport {\n  formKeys,\n  formDisabledKeys,\n  formNotShowKeys,\n  formKeysLabelsObj,\n  formKeySelectComponentsObj,\n  formKeysHandleButtonObj,\n  // formKeysIsImages,\n  formGetRequestParamsKeys,\n  formInitialObj,\n  formRulesList,\n  imageKeyNames,\n  maxImagesNum,\n  apiLists,\n  ItemRendererComponent\n};\n","import React from 'react';\n\nimport AxiosRequest from '../apis';\nimport { apiLists } from './deliver_columns_label_config';\n\n// Deliver 的request请求\n\nconst DeliverRequestGet = ({ requestCount, reqParams, responseDataHandle }) => {\n  // Deliver Get请求\n  const api = apiLists[0];\n  const method = 'get';\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nDeliverRequestGet.defaultProps = {\n  requestCount: 0,\n  reqParams: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nconst DeliverRequestPost = ({ requestCount, reqObject, responseDataHandle }) => {\n  // Deliver post请求\n  const api = [].concat(apiLists)[0];\n  const method = 'post';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nDeliverRequestPost.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n}\n\nconst DeliverRequestPut = ({ requestCount, reqObject, responseDataHandle, id }) => {\n  // Deliver put请求\n  const api = [].concat(apiLists)[0] + `/${id}`;\n  const method = 'put';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nDeliverRequestPut.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  id: 0\n}\n\nconst DeliverRequestDelete = ({ requestCount, responseDataHandle, id }) => {\n  // Deliver delete请求\n  const api = [].concat(apiLists)[0] + `/${id}`;\n  const method = 'delete';\n  const reqParams = {};\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nDeliverRequestDelete.defaultProps = {\n  requestCount: 0,\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  id: 0\n}\n\nexport {\n  DeliverRequestGet,\n  DeliverRequestPost,\n  DeliverRequestPut,\n  DeliverRequestDelete\n};\n","import React, { useRef, useState, useEffect } from 'react';\nimport { Modal, Divider, message } from 'antd';\n\n// import StsUploadFile from '../../upload_files/sts_upload_file';\nimport { StsUploadImagesList } from '../upload_files/sts_upload_files_list';\nimport { DeliverRequestPut, DeliverRequestDelete } from './deliver_requests';\nimport { CustomForm, CustomSingleRowForm } from '../base_components/form_component';\n\nimport {\n  formKeys,\n  formDisabledKeys,\n  formNotShowKeys,\n  formKeysLabelsObj,\n  formKeySelectComponentsObj,\n  formKeysIsImages,\n  formGetRequestParamsKeys,\n  // formInitialObj,\n  formRulesList,\n  imageKeyNames,\n  maxImagesNum\n} from './deliver_columns_label_config';\n\n// 编辑 Deliver\n\nconst UpdateDeliver = ({ visible, setVisible, oldObj, purchaseRecordId, customerId }) => {\n  const [oldDeliverHomeImages, setOldDeliverHomeImages] = useState([]);\n  const deliverImageObj = useRef({});\n\n  const [oldDeliverImageUrl, setOldDeliverImageUrl] = useState('');\n  const [oldFormObj, setOldFormObj] = useState({});\n\n  const [initFormCount, setInitFormCount] = useState(0);\n\n  const [putRequestCount, setPutRequestCount] = useState(0);\n  const reqObject = useRef({});\n  const putResponseDataHandle = (respObj) => {\n    if (Object.keys(respObj).includes('code')\n      && respObj.code === 1000) {\n      message.success('修改成功');\n      // setReloadListCount(reloadListCount + 1);\n      setVisible(false);\n    } else {\n      message.error('网络错误...');\n    }\n  }\n\n  const [deleteRequestCount, setDeleteRequestCount] = useState(0);\n\n  const deleteDeliver = () => {\n    // 删除当前对象\n    console.log('Delete handle')\n    // setDeleteRequestCount(deleteRequestCount + 1);\n    // setReloadListCount(reloadListCount + 1);\n  };\n\n  useEffect(() => {\n    initImgAndForm();   // 初始化表格和图片\n  }, [oldObj]);\n\n  const initImgAndForm = () => {\n    // 初始化表格和图片\n    setInitFormCount(initFormCount + 1);  // 初始化表格\n    setOldFormObj({ ...oldObj });  // 给表格赋值\n\n    // 生成图片列表\n    let deliverHomeImgs = [];\n    const imgKey = imageKeyNames[0];\n    for (let index = 1; index < 10; index++) {\n      const currentCosNameKey = imgKey + index;\n      const currentUrlKey = currentCosNameKey + '_url';\n      const currentCosName = oldObj[currentCosNameKey];\n      const currentUrl = oldObj[currentUrlKey];\n      if (typeof currentCosName === 'string' && currentCosName.length > 5) {\n        deliverHomeImgs.push({\n          cosNameKey: currentCosNameKey,\n          cosName: currentCosName,\n          urlKey: currentUrlKey,\n          url: currentUrl\n        });\n      }\n    }\n    // console.log(deliverHomeImgs);\n    setOldDeliverHomeImages(deliverHomeImgs);   // 更新图片列表\n  }\n\n  const deliverImageUploaded = (imagesObj) => {\n    // 轮播图上传后操作\n    deliverImageObj.current = imagesObj;\n  }\n\n  const onFinish = (values) => {\n    // 提交表单\n    let upObj = { ...values, 'purchase_record_id': purchaseRecordId, 'customer_id': customerId };\n    console.log(upObj);\n    // 时间转时间戳\n    // let newDate = new Date(upObj.end_time);\n    // upObj.end_time = parseInt(newDate.getTime());    // 时间转时间戳\n    // console.log(upObj.end_time);\n    reqObject.current = upObj;\n    setVisible(false)\n    // setPutRequestCount(putRequestCount + 1);\n  }\n\n  return (\n    <>\n      <Divider></Divider>\n      <CustomSingleRowForm\n        columns={formKeys}\n        disabledKeys={formDisabledKeys}\n        notShowKeys={formNotShowKeys}\n        formKeyLabelObj={formKeysLabelsObj}\n        formKeySelectComponentsObj={formKeySelectComponentsObj}\n        onFinish={onFinish}\n        cancelHandle={() => setVisible(false)}\n        showDeleteButton={false}\n        deleteHandle={deleteDeliver}\n        updateFormObj={oldFormObj}\n        formInitialObj={{}}\n        rulesObj={formRulesList}\n        initFormCount={initFormCount}\n      ></CustomSingleRowForm>\n\n      <DeliverRequestPut\n        requestCount={putRequestCount}\n        reqObject={reqObject.current}\n        responseDataHandle={putResponseDataHandle}\n        id={oldFormObj.id}></DeliverRequestPut>\n      <DeliverRequestDelete\n        requestCount={deleteRequestCount}\n        responseDataHandle={(respObj) => setVisible(false)}\n        id={oldFormObj.id}></DeliverRequestDelete>\n    </>\n  )\n}\n\nUpdateDeliver.defaultProps = {\n  visible: false,\n  setVisible: (val) => console.log(val),\n  oldObj: {},\n  purchaseRecordId: 0,\n  customerId: 0\n}\n\nexport default UpdateDeliver;\n","import React, { useState, useRef } from 'react';\n// import { navigate, Link } from 'gatsby';\nimport { Button, Row, Col, Space, Tooltip } from 'antd';\nimport { ReloadOutlined, SearchOutlined, LeftOutlined } from '@ant-design/icons';\n\nimport { ChinaAreaSelect } from './deliver_area_select';\nimport UpdateDeliver from './update_deliver';\n// Deliver 入口组件\n\nconst DeliverComponent = ({ selectButtonOnClick = null, purchaseRecordId = 0, customerId = 0 }) => {\n  const reqParams = useRef({ page: 0 });\n\n  const [reloadListCount, setReloadListCount] = useState(1);\n  const [visible, setVisible] = useState(false);\n  const [oldObj, setOldObj] = useState({});\n\n  const [showEditDeliver, setShowEditDeliver] = useState(false);\n\n  const queryHandle = (currentRequestParams) => {\n    // 查询操作\n    reqParams.current = { ...currentRequestParams };\n    // 触发重新读取数据\n    setReloadListCount(reloadListCount + 1)\n    // console.log('search...');\n  };\n\n  const initReloadList = () => {\n    // 刷新列表, 删除所有查询条件\n    reqParams.current = { page: 0 };\n    setReloadListCount(reloadListCount + 1);\n  }\n\n  const selectedAreaHandle = selectedArea => {\n    // 选择地区后操作\n    console.log(selectedArea);\n  }\n\n  // const selectButtonOnClick = (item, index) => {\n  // 列表选择按钮点击事件\n  //   console.log(index, item);\n  // }\n\n  return (\n    <div>\n      <ChinaAreaSelect selectedAreaHandle={selectedAreaHandle} />\n      <Button onClick={() => setVisible(true)} type=\"link\">发货</Button>\n      {visible ? <UpdateDeliver\n        visible={visible}\n        setVisible={setVisible}\n        oldObj={oldObj}\n        purchaseRecordId={purchaseRecordId}\n        customerId={customerId}\n      ></UpdateDeliver> : null}\n      \n    </div>\n  )\n};\n\nexport default DeliverComponent;\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport { PurchaseRecordsRequestGet } from './purchase_records_requests';\nimport { updateDataList } from './purchase_records_columns_label_config';\nimport UpdatePurchaseRecords from './update_purchase_records';\nimport { PurchaseRecordsListComponent } from '../base_components/purchase_records_goods_delivery_address/purchase_records_list';\n// 页面到底触发事件\nimport { LoadMoreButton } from '../base_components/load_more_button_conpoment';\nimport DeliverComponent from '../deliver';\nimport { ScrollGoBack } from '../base_components/scroll_handle/goback_origin_scroll';\n// 列表编辑 页面\n\nconst judgeHasMore = resp => {\n  if (Object.keys(resp).includes('next')\n    && typeof resp.next === 'string'\n    && resp.next.length > 5) {\n    return 2;\n  }\n  return 1;\n};\n\nconst PurchaseRecordsList = ({ reloadListCount, setReloadListCount, requestParams, purchaseRecordsChange, printerIndex, hasAllPrintCount }) => {\n  const hasMore = useRef(2);\n  const [hasMoreState, setHasMoreState] = useState(2);\n  const [loading, setLoading] = useState(false);\n  const reqParams = useRef({ page: 0 });\n\n  const [purchaseRecordsData, setPurchaseRecordsData] = useState([]);\n  const [purchaseRecordsRequestGetCount, setPurchaseRecordsRequestGetCount] = useState(0);\n  const [prqGetCount, setPrqGetCount] = useState('');\n  const [requesting, setRequesting] = useState(false);\n\n  const [visible, setVisible] = useState(0);\n  const [selectedObj, setSelectedObj] = useState({});\n\n  useEffect(() => {\n    // hasAllPrintCount > 0 client端全部更新为已打印\n    if (hasAllPrintCount > 0) {\n      const copyList = [].concat(purchaseRecordsData);\n      for (let index = 0; index < copyList.length; index++) {\n        copyList[index].has_print = true;\n      }\n      console.log(copyList);\n      setPurchaseRecordsData(copyList);\n      purchaseRecordsChange(copyList);   // 订单列表传给父组件\n    }\n  }, [hasAllPrintCount]);\n\n  useEffect(() => {\n    // 加载、更新或创建数据后 重新读取列表\n    reqParams.current = { ...requestParams };\n    reloadListsHandle();\n  }, [reloadListCount]);\n\n  useEffect(() => {\n    // requesting 重新读取数据，解决 useState异步问题\n    if (requesting && !loading && hasMore.current > 1) {\n      setRequesting(false);\n      loadMore();\n    }\n  }, [requesting, hasMore.current, loading]);\n\n  const loadMore = () => {\n    // 读取更多列表\n    // console.log(hasMore.current, loading);\n    console.log('prqGetCount:', prqGetCount, purchaseRecordsRequestGetCount, '; reqParams', reqParams.current);\n    if (hasMore.current > 1 && !loading) {\n      hasMore.current = 1;\n      setLoading(true);\n      setHasMoreState(1);\n      const current_page = Number.isInteger(reqParams.current.page) ? reqParams.current.page + 1 : 1;\n      reqParams.current = { ...reqParams.current, page: current_page };\n      console.log(reqParams.current);\n      const addCount = purchaseRecordsRequestGetCount + 1;\n      console.log(addCount);\n      setPurchaseRecordsRequestGetCount(addCount);\n      setPrqGetCount(prqGetCount + 'n');\n\n    } else {\n      console.log('Error state: hasMore is ', hasMore.current, ', loading is ', loading);\n    }\n  };\n\n  const reloadListsHandle = () => {\n    // 重新读取数据\n    reqParams.current = { ...reqParams.current, page: 0 };\n    // console.log(reqParams.current);\n    setPurchaseRecordsData([]);\n    hasMore.current = 2;\n    setHasMoreState(2);\n    setLoading(false);\n    setRequesting(true);\n  };\n\n  const purchaseRecordsGetResponse = resp => {\n    console.log('prqCount: ', prqGetCount);\n    console.log('resp process...', resp);\n    setLoading(false);\n    if (Object.keys(resp).includes('code')\n      && resp.code === 1000\n      && Object.keys(resp).includes('results')\n    ) {\n      const updatedList = purchaseRecordsData.concat(resp.results);\n      setPurchaseRecordsData(updatedList);\n      purchaseRecordsChange(updatedList);   // 订单列表传给父组件\n      hasMore.current = judgeHasMore(resp);   // 判断是否还有更多\n      setHasMoreState(judgeHasMore(resp));\n      console.log(purchaseRecordsRequestGetCount);\n    } else {\n      console.log('Error: get data...');\n    }\n  };\n\n  const itemDetailClick = (purchaseRecordObj, index) => {\n    // 打开详情编辑窗口\n    // console.log(purchaseRecordsData[index]);\n    let selObj = { ...purchaseRecordObj };\n    console.log(selObj, index);\n    // 日期转 moment 时间\n    // selObj.end_time = moment(dateFormat(selObj.end_time), 'YYYY-MM-DD HH:mm:ss');\n    setSelectedObj(selObj);\n    setVisible(1);\n  };\n\n  const successPrintCurrentRecordHandle = (hasPrintRecordObj, index) => {\n    // 更新打印的状态为true\n    const copyRecordsList = [].concat(purchaseRecordsData);\n    copyRecordsList[index] = hasPrintRecordObj;\n    setPurchaseRecordsData(copyRecordsList);\n  }\n\n  const successDeletedOrUpdated = (successObj) => {\n    // method: 0-delete, 1-update\n    const method = successObj.method === 'update' ? 1 : 0;\n    const successResult = successObj.result ? successObj.result : selectedObj;\n    // successResult = {...selectedObj, ...successResult};\n    // 更新操作数据列表\n    const updatedDataList = updateDataList(purchaseRecordsData, successResult, method);\n    console.log(updatedDataList);\n    setPurchaseRecordsData(updatedDataList);\n  }\n\n  const deliverComponent = (<DeliverComponent />)\n\n  return (\n    <div>\n      <ScrollGoBack visible={visible}></ScrollGoBack>\n\n      <PurchaseRecordsListComponent\n        purchaseRecordsList={purchaseRecordsData}\n        loadMore={loadMore}\n        hasMore={hasMoreState === 2}\n        infoBottonTips=\"详情编辑\"\n        infoBottonClick={itemDetailClick}\n        deliverComponent={deliverComponent}\n        printerIndex={printerIndex}\n        successPrintCurrentRecordHandle={successPrintCurrentRecordHandle}\n      ></PurchaseRecordsListComponent>\n\n      <PurchaseRecordsRequestGet requestCount={prqGetCount}\n        reqParams={reqParams.current}\n        responseDataHandle={purchaseRecordsGetResponse}\n      ></PurchaseRecordsRequestGet>\n\n      <UpdatePurchaseRecords\n        visible={visible === 1}\n        setVisible={setVisible}\n        oldObj={selectedObj}\n        successDeletedOrUpdated={successDeletedOrUpdated}\n      ></UpdatePurchaseRecords>\n\n      <LoadMoreButton hasMore={hasMore.current === 2} onClick={loadMore}></LoadMoreButton>\n      {/* <ScrollBottomHandleComponent bottomHandle={loadMore} canHandle={hasMore.current === 2}></ScrollBottomHandleComponent> */}\n    </div>\n  );\n}\n\nPurchaseRecordsList.defaultProps = {\n  reloadListCount: 1,\n  setReloadListCount: (addedNum) => { console.log(addedNum); },\n  requestParams: { page: 0 },\n  purchaseRecordsChange: purchaseRecords => console.log(purchaseRecords),\n  printerIndex: -1,\n  hasAllPrintCount: 0,\n}\n\nexport default PurchaseRecordsList;\n","import React, { useState, useEffect } from 'react';\n\nimport { formKeysLabelsObj } from './purchase_records_columns_label_config';\n\n// 显示查询条件组件\n\nconst PurchaseRecordsQueryParams = ({ paramsObj={} }) => {\n  const [displayQueryFactorStr, setDisplayQueryFactorStr] = useState('');\n\n  useEffect(() => {\n    displayStr();\n  }, [paramsObj])\n\n  const displayStr = () => {\n    // 显示的查询条件 字符串\n    // let retDisplayStr = '查询条件:';\n    let retDisplayStr = '';\n    Object.keys(paramsObj).forEach(element => {\n      if (Object.keys(formKeysLabelsObj).includes(element)) {\n        // 只显示 formKeysLabelsObj 包含的key\n        const currentFactor = ' ' + formKeysLabelsObj[element] + ' = ' + paramsObj[element] + ';';\n        retDisplayStr = retDisplayStr + currentFactor\n      }\n    });\n    if (retDisplayStr.length > 2) {\n      retDisplayStr = '查询条件:' + retDisplayStr;\n      setDisplayQueryFactorStr(retDisplayStr);\n    } else {\n      console.log('查询条件为空')\n      setDisplayQueryFactorStr('');\n    }\n  }\n  return (\n    <div style={{ height: 'auto', width: '100%', padding: '0.1rem 0.2rem' }}>\n      {displayQueryFactorStr.length > 2\n        ? (<p>{displayQueryFactorStr}</p>)\n        : null}\n    </div>\n  )\n};\n\nexport default PurchaseRecordsQueryParams;\n","import React, { useState } from 'react';\nimport { Modal, Button, Upload, message } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { sendAxiosRequest } from '../apis/sendRequest';\n\nconst uploadTaobaoCsvFilesApi = 'records-admin/v1/taobaopurchaserecord';\n\n// 上传淘宝订单 csv 文件模态框\n\nconst UploadTaobaoCsvFilesModal = ({ visible, setVisible, visibleNum, uploadedHandle }) => {\n    const [csvFilesList, setCsvFilesList] = useState([])\n    const [errorTips, setErrorTips] = useState('')\n    const [loadingState, setLoadingState] = useState(false)\n\n    const uploadTaobaoCsvFiles = () => {\n        // 上传淘宝 csv 文件\n        setErrorTips('')\n        if (csvFilesList.length !== 2) {\n            setErrorTips('必须选择淘宝 订单、商品 2个csv文件')\n            return\n        }\n        const formdata = new FormData()\n        let i = 1\n        csvFilesList.forEach(file => {\n            formdata.append(`file${i}`, file);\n            i = i + 1\n        });\n        // console.log(csvFilesList)\n        setLoadingState(true)\n        return new Promise((resolve, reject) => {\n            sendAxiosRequest(uploadTaobaoCsvFilesApi, 'post', {}, formdata).then(response => {\n                console.log(response)\n                if (response.code && response.code === 1000) {\n                    message.success('淘宝订单 CSV 文件上传成功!')\n                    setVisible(0)\n                    resolve(true)\n                } else {\n                    message.error('淘宝订单 CSV 文件上传失败...')\n                    reject(false)\n                }\n                setLoadingState(false)\n                uploadedHandle()\n            }).catch(err => {\n                message.error('淘宝订单 CSV 文件上传失败, 请检查网络或文件...')\n                console.log(err)\n                reject(false)\n                setLoadingState(false)\n            })\n        })\n    }\n\n    const props = {\n        onRemove: file => {\n            const copyFiles = [].concat(csvFilesList)\n            const index = copyFiles.indexOf(file)\n            copyFiles.splice(index, 1)\n            setCsvFilesList(copyFiles)\n            console.log(copyFiles)\n        },\n        onChange: (info) => {\n            const fileList = [ ...info.fileList ]\n            // console.log(fileList)\n            const uploadFilesList = []\n            fileList.map(file => {\n                // 选择的文件列表赋值给 CsvFilesList\n                // console.log(file)\n                uploadFilesList.push(file.originFileObj)\n            })\n            setCsvFilesList(uploadFilesList)\n        },\n        beforeUpload: (file) => {\n            // const copyFiles = [].concat(csvFilesList)\n            // copyFiles.push(file)\n            // setCsvFilesList(copyFiles)\n            return false;\n        },\n        filesList: [],\n      };\n\n    return (\n        <Modal\n            visible={visible === visibleNum}\n            title=\"上传淘宝订单CSV文件\"\n            closable={false}\n            footer={[\n                <Button key=\"upload_csv\" onClick={uploadTaobaoCsvFiles} loading={loadingState}>上传</Button>,\n                <Button key=\"cancel_modal\" onClick={() => { setVisible(0) }} loading={loadingState}>取消</Button>\n            ]}\n        >\n            <Upload {...props} maxCount={2} multiple={true} accept=\".csv\">\n                <Button icon={<UploadOutlined />}>Select Csv File</Button>\n            </Upload>\n            {errorTips.length > 0 ? (<div><br></br><p style={{color: 'red'}}>* {errorTips}</p></div>) : null}\n        </Modal>\n    )\n}\n\nUploadTaobaoCsvFilesModal.defaultProps = {\n    visible: 0,\n    setVisible: (val) => console.log(val),\n    visibleNum: 1,\n    uploadedHandle: () => console.log('Uploaded')\n}\n\nexport { UploadTaobaoCsvFilesModal };\n","import React, { useState, useRef, useEffect } from 'react';\n// import { navigate, Link } from 'gatsby';\nimport { Button, Row, Col, Space, Tooltip } from 'antd';\nimport { ReloadOutlined, SearchOutlined, LeftOutlined } from '@ant-design/icons';\n\n// 打印机组件\nimport { SelectPrinterComponent } from '../base_components/lodop/select_printer_component';\n\nimport CreatePurchaseRecords from './create_purchase_records';\nimport PurchaseRecordsQueryDrawerForm from './purchase_records_query_form';\nimport PurchaseRecordsList from './purchase_records_list';\nimport PurchaseRecordsQueryParams from './purchase_records_query_params_display';\nimport { downloadAndSaveExpressList } from '../../assets/common_funcs/express_code_name_handle';\n// PurchaseRecords 入口组件\nimport { UploadTaobaoCsvFilesModal } from '../modals/upload_taobao_csv';\n\nconst PurchaseRecordsComponent = () => {\n  const [purchaseRecordsData, setPurchaseRecordsData] = useState([]);\n  const [printerIndex, setPrinterIndex] = useState(-1);\n\n  const reqParams = useRef({ page: 0 });\n\n  const [reloadListCount, setReloadListCount] = useState(1);\n\n  const [drawerVisible, setDrawerVisible] = useState(false);\n\n  const [createPurchaseRecordsVisible, setCreatePurchaseRecordsVisible] = useState(false);\n\n  const [hasAllPrintCount, setHasAllPrintCount] = useState(0);\n\n  const [visible, setVisible] = useState(0);\n\n  useEffect(() => {\n    // 下载并保存快递公司列表到本地\n    downloadAndSaveExpressList();\n  }, []);\n  \n  const queryHandle = (currentRequestParams) => {\n    // 查询操作\n    reqParams.current = { ...currentRequestParams };\n    console.log(reqParams.current);\n    // 触发重新读取数据\n    setReloadListCount(reloadListCount + 1)\n    console.log('search...');\n  };\n\n  const initReloadList = () => {\n    // 刷新列表, 删除所有查询条件\n    reqParams.current = { page: 0 };\n    setReloadListCount(reloadListCount + 1);\n  }\n\n  const purchaseRecordsChange = (records) => {\n    // 列表组件传过来的订单列表\n    setPurchaseRecordsData(records);\n  }\n\n  return (\n    <div>\n      <Row>\n        <Col span={24}>\n          <SelectPrinterComponent\n          onChange={setPrinterIndex}\n          purchaseRecordsList={purchaseRecordsData}\n          setPurchaseRecordsList={setPurchaseRecordsData}\n          hasAllPrintCount={hasAllPrintCount}\n          setHasAllPrintCount={setHasAllPrintCount}\n        ></SelectPrinterComponent></Col>\n      </Row>\n      <Row>\n        <Col span={14}>\n          <Space>\n            {/* <Tooltip title=\"返回\">\n              <Link to=\"/logistic\"><LeftOutlined /></Link>\n            </Tooltip> */}\n            <h4>PurchaseRecords</h4>\n            <Tooltip title=\"刷新\">\n              <Button onClick={initReloadList} shape=\"circle\" icon={<ReloadOutlined />}></Button>\n            </Tooltip>\n            <Tooltip title=\"搜索\">\n              <Button onClick={() => setDrawerVisible(true)} shape=\"circle\" icon={<SearchOutlined />}></Button>\n            </Tooltip>\n          </Space>\n        </Col>\n        <Col span={10}>\n          <div style={{ width: '100%', height: 'auto' }}>\n            <Button style={{ float: 'right' }} type=\"link\" onClick={() => setVisible(1)}>淘宝csv文件</Button>\n            <Button style={{ float: 'right' }} type=\"link\" onClick={() => setCreatePurchaseRecordsVisible(true)}>新建</Button>\n          </div>\n        </Col>\n      </Row>\n      <Row>\n        <Col span={24}><PurchaseRecordsQueryParams paramsObj={reqParams.current}></PurchaseRecordsQueryParams></Col>\n      </Row>\n      <PurchaseRecordsQueryDrawerForm\n        visible={drawerVisible}\n        setVisible={setDrawerVisible}\n        queryHandle={queryHandle}\n      ></PurchaseRecordsQueryDrawerForm>\n\n      <PurchaseRecordsList\n        reloadListCount={reloadListCount}\n        setReloadListCount={setReloadListCount}\n        requestParams={reqParams.current}\n        purchaseRecordsChange={purchaseRecordsChange}\n        printerIndex={printerIndex}\n        hasAllPrintCount={hasAllPrintCount}\n      ></PurchaseRecordsList>\n\n      <CreatePurchaseRecords\n        visible={createPurchaseRecordsVisible}\n        setVisible={setCreatePurchaseRecordsVisible}\n        reloadListCount={reloadListCount}\n        setReloadListCount={setReloadListCount}\n      ></CreatePurchaseRecords>\n\n      <UploadTaobaoCsvFilesModal\n        visible={visible}\n        setVisible={setVisible}\n        visibleNum={1}\n        uploadedHandle={initReloadList}\n      ></UploadTaobaoCsvFilesModal>\n    </div>\n  )\n};\n\nexport default PurchaseRecordsComponent;\n","import React from 'react';\n\nimport SiteLayout from '../components/site_layout';\nimport PurchaseRecordsComponent from '../components/purchase_records';\n\nimport SEO from \"../components/seo\";\n\nconst PurchaseRecordsPage = () => (\n  <SiteLayout>\n    <SEO title='Records'></SEO>\n    <PurchaseRecordsComponent></PurchaseRecordsComponent>\n  </SiteLayout>\n);\n\nexport default PurchaseRecordsPage;\n"],"sourceRoot":""}