(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{"9qUX":function(e,t,n){"use strict";var a=n("q1tI"),l=n.n(a),r=n("9ibs"),o=n("hHIg"),s=n("mKu9"),c=n("lHG6");n("i4OL"),n("TpwP"),n("v++Q");t.a=function(e){var t=e.children,n=Object(a.useState)(0),i=n[0],u=n[1];return Object(a.useEffect)((function(){u(i+1)}),[]),l.a.createElement("div",{className:"flex-container"},l.a.createElement(s.a,null),l.a.createElement(r.c,{size:"lg"}),l.a.createElement(o.a,{requestCount:i}),l.a.createElement(r.a,null,l.a.createElement(r.a.Item,null,l.a.createElement("div",{className:"flex-main-container"},t))),l.a.createElement(r.c,{size:"lg"}),l.a.createElement(c.a,null))}},DW4Z:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),l=n.n(a),r=n("9qUX"),o=n("vrFN"),s=(n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("Z2Ku"),n("L9s1"),n("91GP"),n("BMrR")),c=n("kPKH"),i=n("zeV3"),u=n("3S7+"),m=n("2/Rp"),d=n("rLCj"),f=n("wd/R"),b=n.n(f),p=n("rS84"),O=n("lN2L"),j=n("/a2Y"),y=n("Sm+g"),E=["notice-admin/v1/notices"],g=function(e){var t=e.requestCount,n=e.reqParams,a=e.responseDataHandle,r=E[0];return l.a.createElement(y.a,{responseDataHandle:a,api:r,method:"get",reqParams:n,reqObject:{},requestCount:t})};g.defaultProps={requestCount:0,reqParams:{},responseDataHandle:function(e){console.log(e)}};var v=function(e){var t=e.requestCount,n=e.reqObject,a=e.responseDataHandle,r=[].concat(E)[0];return l.a.createElement(y.a,{responseDataHandle:a,api:r,method:"post",reqParams:{},reqObject:n,requestCount:t})};v.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)}};var h=function(e){var t=e.requestCount,n=e.reqObject,a=e.responseDataHandle,r=e.id,o=[].concat(E)[0]+"/"+r;return l.a.createElement(y.a,{responseDataHandle:a,api:o,method:"put",reqParams:{},reqObject:n,requestCount:t})};h.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)},id:0};var K=function(e){var t=e.requestCount,n=e.responseDataHandle,a=e.id,r=[].concat(E)[0]+"/"+a;return l.a.createElement(y.a,{responseDataHandle:n,api:r,method:"delete",reqParams:{},reqObject:{},requestCount:t})};K.defaultProps={requestCount:0,responseDataHandle:function(e){console.log(e)},id:0};var C=n("tsqr"),S=n("kLXV"),w=n("PArb"),H=n("p8V/"),q=n("+eQT"),_=n("vpoQ"),F=["id","handle_staff_id","content","end_time","add_time","update_time","explains","is_delete"],D=["id","handle_staff_id","add_time","update_time"],I=["handle_staff_id"],k={id:"ID",handle_staff_id:"编辑员ID",content:"内容",end_time:"结束时间",add_time:"创建时间",update_time:"更新时间",explains:"说明",is_delete:"已删除"},P={is_delete:l.a.createElement(_.a,{options:[{value:0,label:"否"},{value:1,label:"是"}]}),end_time:l.a.createElement(q.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})},L={id:"",handle_staff_id:"0",content:"",end_time:"",add_time:"",update_time:"",explains:"",is_delete:0},V=function(e){var t=e.visible,n=e.setVisible,r=Object(a.useState)(0),o=r[0],s=r[1],c=Object(a.useState)(0),i=c[0],u=c[1],m=Object(a.useState)(0),d=m[0],f=m[1],b=Object(a.useRef)({});Object(a.useEffect)((function(){s(o+1),u(i+1)}),[t]);return l.a.createElement(S.a,{visible:t,title:"Notices 新建",closable:!1,footer:null},l.a.createElement(w.a,null),l.a.createElement(H.a,{columns:F,disabledKeys:D,notShowKeys:I,formKeyLabelObj:k,formKeySelectComponentsObj:P,onFinish:function(e){var t=Object.assign({},e),n=new Date(t.end_time);t.end_time=parseInt(n.getTime()),b.current=t,f(d+1)},cancelHandle:function(){return n(!1)},showDeleteButton:!1,formInitialObj:L,initFormCount:i}),l.a.createElement(v,{requestCount:d,reqObject:b.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?n(!1):C.b.error("网络错误...")}}))};V.defaultProps={visible:!1,setVisible:function(e){return console.log(e)}};var B=V,T=(n("d6IX"),function(e){var t=e.visible,n=e.setVisible,r=e.oldObj,o=Object(a.useState)({}),s=o[0],c=o[1],i=Object(a.useState)(0),u=i[0],m=i[1],d=Object(a.useState)(0),f=d[0],b=d[1],p=Object(a.useRef)({}),O=Object(a.useState)(0),j=O[0],y=O[1];Object(a.useEffect)((function(){m(u+1),c(Object.assign({},r))}),[r]);return l.a.createElement(S.a,{visible:t,title:"Notices",closable:!1,footer:null},l.a.createElement(w.a,null),l.a.createElement(H.a,{columns:F,disabledKeys:D,notShowKeys:I,formKeyLabelObj:k,formKeySelectComponentsObj:P,onFinish:function(e){var t=Object.assign({},e),n=new Date(t.end_time);t.end_time=parseInt(n.getTime()),p.current=t,b(f+1)},cancelHandle:function(){return n(!1)},showDeleteButton:!0,deleteHandle:function(){y(j+1)},updateFormObj:s,formInitialObj:{},initFormCount:u}),l.a.createElement(h,{requestCount:f,reqObject:p.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?(C.b.success("修改成功"),n(!1)):C.b.error("网络错误...")},id:s.id}),l.a.createElement(K,{requestCount:j,responseDataHandle:function(e){return n(!1)},id:s.id}))});T.defaultProps={visible:!1,setVisible:function(e){return console.log(e)},oldObj:{}};var R=T,N=function(){var e=Object(a.useState)(!0),t=e[0],n=e[1],r=Object(a.useState)(!1),o=r[0],f=r[1],y=Object(a.useRef)({page:0}),E=Object(a.useState)([]),v=E[0],h=E[1],K=Object(a.useState)(0),C=K[0],S=K[1],w=Object(a.useState)(!1),H=w[0],q=w[1],_=Object(a.useState)(!1),F=_[0],D=_[1],I=Object(a.useState)({}),k=I[0],P=I[1];Object(a.useEffect)((function(){V()}),[H,F]);var L=function(){t&&!o&&(y.current=Object.assign({},y.current,{page:y.current.page+1}),S(C+1),f(!0))},V=function(){h([]),n(!0),f(!1),y.current={page:0},setTimeout((function(){L()}),500)},T=function(e){var t=Object.assign({},v[e]);t.end_time=b()(Object(p.b)(t.end_time),"YYYY-MM-DD HH:mm:ss"),P(t),D(!0)};return l.a.createElement("div",null,l.a.createElement(s.a,null,l.a.createElement(c.a,{span:14},l.a.createElement(i.b,null,l.a.createElement("h4",null,"Notices"),l.a.createElement(u.a,{title:"刷新"},l.a.createElement(m.a,{onClick:V,shape:"circle",icon:l.a.createElement(d.a,null)})))),l.a.createElement(c.a,{span:10},l.a.createElement("div",{style:{width:"100%",height:"auto"}},l.a.createElement(m.a,{style:{float:"right"},type:"link",onClick:function(){return q(!0)}},"新建")))),l.a.createElement(g,{requestCount:C,reqParams:y.current,responseDataHandle:function(e){f(!1),Object.keys(e).includes("code")&&1e3===e.code&&Object.keys(e).includes("results")?(h(v.concat(e.results)),n(function(e){return!!(Object.keys(e).includes("next")&&"string"==typeof e.next&&e.next.length>5)}(e))):console.log("Error: get data...")}}),l.a.createElement(O.a,{productsData:v,loadMore:L,hasMore:t,ItemRendererComponent:function(e){var t=e.item,n=e.index;return l.a.createElement("div",null,l.a.createElement(j.a,{listsIndex:n,productTitle:t.end_time,productEffects:t.content,sourcePrice:0,salePrice:0,clickDetailHandle:T}))}}),l.a.createElement(B,{visible:H,setVisible:q}),l.a.createElement(R,{visible:F,setVisible:D,oldObj:k}))};t.default=function(){return l.a.createElement(r.a,null,l.a.createElement(o.a,{title:"WX Notices"}),l.a.createElement(N,null))}},d6IX:function(e,t,n){"use strict";n("Z2Ku"),n("L9s1"),n("91GP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V");var a=n("q1tI"),l=n.n(a),r=n("tsqr"),o=n("zeV3"),s=n("BMrR"),c=n("kPKH"),i=n("8z0m"),u=n("2/Rp"),m=n("z7Xi"),d=n("/MfK"),f=n("scZm"),b=n("Xz4P"),p=n("JmXp"),O=function(e){var t=e.oldImageUrl,O=e.avatarSize,j=e.uploadedResponseHandle,y=e.fileKey,E=e.cleanFileListCount,g=Object(a.useRef)({}),v=Object(a.useRef)({}),h=Object(a.useRef)(""),K=Object(a.useState)(""),C=K[0],S=K[1],w=Object(a.useState)(0),H=w[0],q=w[1],_=Object(a.useRef)({}),F=Object(a.useState)(!0),D=F[0],I=F[1],k=Object(a.useState)(!0),P=k[0],L=k[1];Object(a.useEffect)((function(){T()}),[E]),Object(a.useEffect)((function(){g.current={},S(""),I(!0)}),[t]),Object(a.useEffect)((function(){L(0===Object.keys(g.current).length)}),[g.current]);var V=function(e,t){var n=Object.assign({},v.current),a=n.credentials;t({TmpSecretId:a.tmpSecretId,TmpSecretKey:a.tmpSecretKey,XCosSecurityToken:a.sessionToken,StartTime:n.startTime,ExpiredTime:n.expiredTime})},B={fileList:[],beforeUpload:function(e){return g.current=e,q(H+1),!1}},T=function(){j({},y),S(""),g.current={},I(!1)};return l.a.createElement("div",null,l.a.createElement(o.b,{direction:"vertical"},l.a.createElement(f.a,{src:D?t:C,width:O}),l.a.createElement(s.a,{gutter:10},l.a.createElement(c.a,{span:12},l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement(i.a,B,P?l.a.createElement(u.a,{size:"small"},l.a.createElement(m.a,null)," 更新"):null))),l.a.createElement(c.a,{span:12},C.length>10||t.length>10?l.a.createElement(u.a,{onClick:T,size:"small"},l.a.createElement(d.a,null)," 删除"):null)),l.a.createElement(b.a,{requestCount:H,reqObject:_.current,responseDataHandle:function(e){(console.log(e),Object.keys(e).includes("image_cos_name")||Object.keys(e).includes("sts_obj"))?(v.current=e.sts_obj,h.current=e.image_cos_name,"undefined"!=typeof window&&new(n("NDg5"))({getAuthorization:V}).putObject(Object.assign({},p.a,{Key:h.current,Body:g.current,onProgress:function(e){console.log(JSON.stringify(e))}}),(function(t,n){console.log(t||n),n?(console.log(n),S(e.image_cos_name_url),I(!1),j(e,y),r.b.success("图片上传成功!")):(T(),r.b.error("图片上传失败..."))}))):console.log("Get temporary key error...")}})))};O.defaultProps={oldImageUrl:"",avatarSize:96,uploadedResponseHandle:function(e,t){console.log(e,t)},fileKey:"image1",cleanFileListCount:0},t.a=O},lHG6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),l=n.n(a);function r(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"container"},l.a.createElement("p",null,"© JiangSu danyang zwglass"),l.a.createElement("p",null,"Tel: 0511-86917606"),l.a.createElement("ul",{className:"list-inline"},l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"/#"},"Privacy")),l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"/#"},"Terms")),l.a.createElement("li",{className:"list-inline-item"},l.a.createElement("a",{href:"/#"},"FAQ")))))}},"p8V/":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return j}));n("a1Th"),n("91GP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("Z2Ku"),n("L9s1");var a=n("q1tI"),l=n.n(a),r=n("Vl3Y"),o=n("5rEg"),s=n("2/Rp"),c=n("zeV3"),i=n("7BUj").a.formCommonStyle,u=i.layoutForm,m=i.formItemLayout,d=i.tailFormItemLayout,f={width:260},b=function(e){var t=e.formKey,n=e.formKeyLabelObj,a=e.disabledKeys,s=e.updateFormObj,c=e.rulesObj,i=e.formKeySelectComponentsObj,u=e.passwordKeys,d=e.showLabelName,b=void 0===d||d,p=a.includes(t),O=n[t],j=s[t];return l.a.createElement(r.a.Item,Object.assign({},m,{name:t,label:b?O:"",initialValue:j,rules:c[t]?c[t]:[]}),Object.keys(i).includes(t)?i[t]:u.includes(t)?l.a.createElement(o.a.Password,{style:f}):l.a.createElement(o.a,{style:f,placeholder:"请输入 "+O,disabled:p}))},p=function(e){var t=e.formKey,n=e.formKeyLabelObj,a=e.disabledKeys,o=e.updateFormObj,c=e.rulesObj,i=e.formKeySelectComponentsObj,u=e.passwordKeys,d=e.formKeysItemButtonObj,f=d[t].buttonTips,p=n[t];return l.a.createElement(r.a.Item,Object.assign({},m,{label:p}),l.a.createElement(b,{formKey:t,formKeyLabelObj:n,disabledKeys:a,updateFormObj:o,rulesObj:c,formKeySelectComponentsObj:i,passwordKeys:u,showLabelName:!1}),l.a.createElement(s.a,{type:"link",onClick:function(e){console.log(e);try{d[t].clickMethod()}catch(n){console.log(n)}}},f))},O=function(e){var t=e.columns,n=e.disabledKeys,o=e.notShowKeys,i=e.formKeyLabelObj,m=e.formKeySelectComponentsObj,f=e.formKeysItemButtonObj,O=e.onFinish,j=e.cancelHandle,y=e.deleteHandle,E=e.showDeleteButton,g=e.updateFormObj,v=e.formInitialObj,h=e.initFormCount,K=e.rulesObj,C=e.passwordKeys,S=r.a.useForm()[0],w=Object(a.useState)(!1),H=w[0],q=w[1];Object(a.useEffect)((function(){S.setFieldsValue(g),q(!1)}),[g]),Object(a.useEffect)((function(){h>0&&(S.setFieldsValue(v),q(!1))}),[h]);return l.a.createElement(r.a,Object.assign({},u,{form:S,layout:"horizontal",onFinish:function(e){q(!0),O(e)},name:"adminer_info_edit"}),t.map((function(e,t){return o.includes(e)?null:Object.keys(f).includes(e)?l.a.createElement(p,{key:t.toString(),formKey:e,formKeyLabelObj:i,disabledKeys:n,updateFormObj:g,rulesObj:K,formKeySelectComponentsObj:m,passwordKeys:C,formKeysItemButtonObj:f}):l.a.createElement(b,{key:t.toString(),formKey:e,formKeyLabelObj:i,disabledKeys:n,updateFormObj:g,rulesObj:K,formKeySelectComponentsObj:m,passwordKeys:C})})),l.a.createElement(r.a.Item,d,l.a.createElement(c.b,null,l.a.createElement(s.a,{loading:H,disabled:H,type:"primary",htmlType:"submit"},"提交"),l.a.createElement(s.a,{onClick:j},"取消"),E?l.a.createElement(s.a,{loading:H,disabled:H,onClick:function(){q(!0),y()}},"删除"):null)))};O.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},formKeysItemButtonObj:{},onFinish:function(e){console.log(e)},cancelHandle:function(){console.log("Cancel Handle")},deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}};var j=function(e){var t=e.columns,n=e.disabledKeys,i=e.notShowKeys,u=e.formKeyLabelObj,m=e.formKeySelectComponentsObj,d=e.onFinish,b=e.onFinishButtonTips,p=e.cancelHandle,O=e.showCancelButton,j=e.deleteHandle,y=e.showDeleteButton,E=e.updateFormObj,g=e.formInitialObj,v=e.initFormCount,h=e.rulesObj,K=e.passwordKeys,C=(e.getFieldsValueHandle,r.a.useForm()[0]);Object(a.useEffect)((function(){C.setFieldsValue(E)}),[E]),Object(a.useEffect)((function(){C.setFieldsValue(g)}),[v]);var S=function(e){var t=e.formKey,a=n.includes(t),s=u[t],c=E[t];return l.a.createElement(r.a.Item,{name:t,initialValue:c,rules:h[t]?h[t]:[]},Object.keys(m).includes(t)?m[t]:K.includes(t)?l.a.createElement(o.a.Password,{style:f}):l.a.createElement(o.a,{style:f,placeholder:"请输入 "+s,disabled:a}))};return l.a.createElement(r.a,Object.assign({},{labelCol:{span:0},wrapperCol:{span:8}},{form:C,layout:"inline",onFinish:d,name:"adminer_info_edit"}),t.map((function(e,t){return i.includes(e)?null:l.a.createElement(S,{formKey:e,key:t.toString()})})),l.a.createElement(r.a.Item,null,l.a.createElement(c.b,null,l.a.createElement(s.a,{type:"primary",htmlType:"submit"},b),O?l.a.createElement(s.a,{onClick:p},"取消"):null,y?l.a.createElement(s.a,{onClick:j},"删除"):null)))};j.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},onFinish:function(e){console.log(e)},onFinishButtonTips:"确定/修改",cancelHandle:function(){console.log("Cancel Handle")},showCancelButton:!1,deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}}},rLCj:function(e,t,n){"use strict";n("91GP");var a=n("q1tI"),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},r=n("6VBw"),o=function(e,t){return a.createElement(r.a,Object.assign({},e,{ref:t,icon:l}))};o.displayName="ReloadOutlined";t.a=a.forwardRef(o)},rS84:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));n("pIFo");var a=function(e,t){t=t||"Y-m-d H:i:s";var n=function(e){return e<10?"0"+e:e},a=e?new Date(e):new Date,l=a.getFullYear(),r=n(a.getMonth()+1),o=n(a.getDate()),s=n(a.getHours()),c=n(a.getMinutes()),i=n(a.getSeconds());return t.replace(/Y|m|d|H|i|s/gi,(function(e){return{Y:l,m:r,d:o,H:s,i:c,s:i}[e]}))},l=function(){var e=(new Date).getTime();return parseInt(e/1e3)}},vpoQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n("a1Th"),n("Btvt");var a=n("q1tI"),l=n.n(a),r=n("2fM7"),o=n("7BUj"),s=r.a.Option,c=function(e){var t=e.options,n=e.width,a=e.value,o=e.onChange,c=e.mode;return l.a.createElement(r.a,{style:{width:n},onChange:o,value:a,mode:c,allowClear:!0},t.map((function(e,t){return l.a.createElement(s,{key:t.toString(),value:e.value},e.label)})))};c.defaultProps={options:[],width:o.a.selectComponentWidth,value:null,onChange:function(e){console.log(e)},mode:null}}}]);
//# sourceMappingURL=component---src-pages-wxnotices-js-e60fb96a6b4871399d93.js.map