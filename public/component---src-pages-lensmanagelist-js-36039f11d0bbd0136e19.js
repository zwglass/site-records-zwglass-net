(self.webpackChunkzwglass_purchase_records=self.webpackChunkzwglass_purchase_records||[]).push([[1919],{86257:function(e,n,t){"use strict";t.d(n,{y:function(){return b},p:function(){return p}});var a=t(67294),l=t(28130),o=t(23796),r=t(93299),s=t(77371),c=t(48428).Z.formCommonStyle,i=c.layoutForm,u=c.formItemLayout,m=c.tailFormItemLayout,d={width:260},f=function(e){var n=e.formKey,t=e.formKeyLabelObj,r=e.disabledKeys,s=e.updateFormObj,c=e.rulesObj,i=e.formKeySelectComponentsObj,m=e.passwordKeys,f=e.showLabelName,_=void 0===f||f,b=r.includes(n),p=t[n],y=s[n];return a.createElement(l.Z.Item,Object.assign({},u,{name:n,label:_?p:"",initialValue:y,rules:c[n]?c[n]:[]}),Object.keys(i).includes(n)?i[n]:m.includes(n)?a.createElement(o.Z.Password,{style:d}):a.createElement(o.Z,{style:d,placeholder:"请输入 "+p,disabled:b}))},_=function(e){var n=e.formKey,t=e.formKeyLabelObj,o=e.disabledKeys,s=e.updateFormObj,c=e.rulesObj,i=e.formKeySelectComponentsObj,m=e.passwordKeys,d=e.formKeysItemButtonObj,_=d[n].buttonTips,b=t[n];return a.createElement(l.Z.Item,Object.assign({},u,{label:b}),a.createElement(f,{formKey:n,formKeyLabelObj:t,disabledKeys:o,updateFormObj:s,rulesObj:c,formKeySelectComponentsObj:i,passwordKeys:m,showLabelName:!1}),a.createElement(r.Z,{type:"link",onClick:function(e){console.log(e);try{d[n].clickMethod()}catch(t){console.log(t)}}},_))},b=function(e){var n=e.columns,t=e.disabledKeys,o=e.notShowKeys,c=e.formKeyLabelObj,u=e.formKeySelectComponentsObj,d=e.formKeysItemButtonObj,b=e.onFinish,p=e.cancelHandle,y=e.deleteHandle,g=e.showDeleteButton,v=e.updateFormObj,j=e.formInitialObj,O=e.initFormCount,E=e.rulesObj,h=e.passwordKeys,K=l.Z.useForm()[0],C=(0,a.useState)(!1),w=C[0],Z=C[1];(0,a.useEffect)((function(){K.setFieldsValue(v),Z(!1)}),[v]),(0,a.useEffect)((function(){O>0&&(K.setFieldsValue(j),Z(!1))}),[O]);return a.createElement(l.Z,Object.assign({},i,{form:K,layout:"horizontal",onFinish:function(e){Z(!0),b(e)},name:"adminer_info_edit"}),n.map((function(e,n){return o.includes(e)?null:Object.keys(d).includes(e)?a.createElement(_,{key:n.toString(),formKey:e,formKeyLabelObj:c,disabledKeys:t,updateFormObj:v,rulesObj:E,formKeySelectComponentsObj:u,passwordKeys:h,formKeysItemButtonObj:d}):a.createElement(f,{key:n.toString(),formKey:e,formKeyLabelObj:c,disabledKeys:t,updateFormObj:v,rulesObj:E,formKeySelectComponentsObj:u,passwordKeys:h})})),a.createElement(l.Z.Item,m,a.createElement(s.Z,null,a.createElement(r.Z,{loading:w,disabled:w,type:"primary",htmlType:"submit"},"提交"),a.createElement(r.Z,{onClick:p},"取消"),g?a.createElement(r.Z,{loading:w,disabled:w,onClick:function(){Z(!0),y()}},"删除"):null)))};b.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},formKeysItemButtonObj:{},onFinish:function(e){console.log(e)},cancelHandle:function(){console.log("Cancel Handle")},deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}};var p=function(e){var n=e.columns,t=e.disabledKeys,c=e.notShowKeys,i=e.formKeyLabelObj,u=e.formKeySelectComponentsObj,m=e.onFinish,f=e.onFinishButtonTips,_=e.cancelHandle,b=e.showCancelButton,p=e.deleteHandle,y=e.showDeleteButton,g=e.updateFormObj,v=e.formInitialObj,j=e.initFormCount,O=e.rulesObj,E=e.passwordKeys,h=(e.getFieldsValueHandle,l.Z.useForm()[0]);(0,a.useEffect)((function(){h.setFieldsValue(g)}),[g]),(0,a.useEffect)((function(){h.setFieldsValue(v)}),[j]);var K=function(e){var n=e.formKey,r=t.includes(n),s=i[n],c=g[n];return a.createElement(l.Z.Item,{name:n,initialValue:c,rules:O[n]?O[n]:[]},Object.keys(u).includes(n)?u[n]:E.includes(n)?a.createElement(o.Z.Password,{style:d}):a.createElement(o.Z,{style:d,placeholder:"请输入 "+s,disabled:r}))};return a.createElement(l.Z,Object.assign({},{labelCol:{span:0},wrapperCol:{span:8}},{form:h,layout:"inline",onFinish:m,name:"adminer_info_edit"}),n.map((function(e,n){return c.includes(e)?null:a.createElement(K,{formKey:e,key:n.toString()})})),a.createElement(l.Z.Item,null,a.createElement(s.Z,null,a.createElement(r.Z,{type:"primary",htmlType:"submit"},f),b?a.createElement(r.Z,{onClick:_},"取消"):null,y?a.createElement(r.Z,{onClick:p},"删除"):null)))};p.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},onFinish:function(e){console.log(e)},onFinishButtonTips:"确定/修改",cancelHandle:function(){console.log("Cancel Handle")},showCancelButton:!1,deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}}},15169:function(e,n,t){"use strict";t.d(n,{A:function(){return s}});var a=t(67294),l=t(27188),o=t(48428),r=l.Z.Option,s=function(e){var n=e.options,t=e.width,o=e.value,s=e.onChange,c=e.mode;return a.createElement(l.Z,{style:{width:t},onChange:s,value:o,mode:c,allowClear:!0},n.map((function(e,n){return a.createElement(r,{key:n.toString(),value:e.value},e.label)})))};s.defaultProps={options:[],width:o.Z.selectComponentWidth,value:null,onChange:function(e){console.log(e)},mode:null}},32895:function(e,n,t){"use strict";t.d(n,{SL:function(){return o},Wv:function(){return r},Dw:function(){return s},AW:function(){return i},F$:function(){return c},P8:function(){return u},IC:function(){return d},Gc:function(){return m}});var a=t(67294),l=t(15169),o=["id","len_title","len_refractivity","len_function","len_type","len_design","len_color","len_coat_color","len_price","len_sale_price","len_brand","image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8","detail_page_cos_name","contrast_lens_url","explains","add_time","update_time"],r=["id","image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8","detail_page_cos_name","add_time","update_time"],s=["id","image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8","detail_page_cos_name","add_time","update_time"],c={id:"ID",len_title:"镜片标题",len_refractivity:"折射率",len_function:" 功能",len_type:"种类",len_design:"设计",len_color:"颜色",len_coat_color:"膜层",len_price:"原价",len_sale_price:"优惠价",len_brand:"品牌",image_cos_name1:"主图1",image_cos_name2:"主图2",image_cos_name3:"主图3",image_cos_name4:"主图4",image_cos_name5:"主图5",image_cos_name6:"主图6",image_cos_name7:"主图7",image_cos_name8:"主图8",contrast_lens_url:"对比商品URL",explains:"说明",add_time:"创建日期",update_time:"更新日期"},i={len_function:a.createElement(l.A,{options:[{value:0,label:"未知"},{value:1,label:"防紫外线"},{value:2,label:"防辐射"},{value:3,label:"防蓝光"}]}),len_type:a.createElement(l.A,{options:[{value:0,label:"未知"},{value:1,label:"单焦"},{value:2,label:"多焦"}]}),len_design:a.createElement(l.A,{options:[{value:0,label:"未知"},{value:1,label:"球面"},{value:2,label:"非球面"}]}),len_color:a.createElement(l.A,{options:[{value:0,label:"未知"},{value:1,label:"透明"},{value:2,label:"彩片"}]}),len_coat_color:a.createElement(l.A,{options:[{value:0,label:"未知"},{value:1,label:"白晶膜"},{value:2,label:"绿膜"},{value:3,label:"黄绿膜"},{value:4,label:"蓝膜"},{value:5,label:"蓝绿双色膜"}]})},u=["image_cos_name1","image_cos_name2","image_cos_name3","image_cos_name4","image_cos_name5","image_cos_name6","image_cos_name7","image_cos_name8"],m=["len_title","len_refractivity","len_function","len_type","len_design","len_color","len_coat_color"],d={len_function:0,len_type:1,len_design:2,len_color:1,len_coat_color:2}},63273:function(e,n,t){"use strict";t.d(n,{iD:function(){return r},VV:function(){return s}});var a=t(67294),l=t(33328),o=["lens-price/v1/lenspricelist","lens-price/v1/lensbrands"],r=function(e){var n=e.requestCount,t=e.reqParams,r=e.responseDataHandle,s=o[0];return a.createElement(l.Z,{responseDataHandle:r,api:s,method:"get",reqParams:t,reqObject:{},requestCount:n})};r.defaultProps={requestCount:0,reqParams:{},responseDataHandle:function(e){console.log(e)}};var s=function(e){var n=e.requestCount,t=e.reqObject,r=e.responseDataHandle,s=[].concat(o)[0];return a.createElement(l.Z,{responseDataHandle:r,api:s,method:"post",reqParams:{},reqObject:t,requestCount:n})};s.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)}}},99148:function(e,n,t){"use strict";var a=t(67294),l=t(26572),o=t(27600),r=t(16442);t(7345);n.Z=function(e){var n=e.children,t=(0,a.useState)(0),s=t[0],c=t[1];return(0,a.useEffect)((function(){c(s+1)}),[]),a.createElement("div",{className:"flex-container"},a.createElement(r.Z,null),a.createElement(l.nZ,{size:"lg"}),a.createElement(o.l,{requestCount:s}),a.createElement(l.kC,null,a.createElement(l.kC.Item,null,a.createElement("div",{className:"flex-main-container"},n,a.createElement(l.nZ,{size:"lg"}),a.createElement(l.nZ,{size:"lg"}),a.createElement(l.nZ,{size:"lg"})))))}},84898:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var a=t(67294),l=t(99148),o=t(93751),r=t(25444),s=t(77371),c=t(93299),i=t(24856),u=t(45266),m=t(37011),d=t(86257),f=t(32895);function _(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}var p=function(e){var n=e.drawerVisible,t=e.closeDrawer,l=e.sendQueryRequest,o=(0,a.useState)(0),r=o[0],s=o[1];return a.createElement(m.Z,{title:"Basic Drawer",placement:"top",closable:!1,visible:n},a.createElement(d.y,{columns:f.Gc,disabledKeys:f.Wv,notShowKeys:f.Dw,formKeyLabelObj:f.F$,formKeySelectComponentsObj:f.AW,onFinish:function(e){for(var n,t={},a=_(f.Gc);!(n=a()).done;){var o=n.value;(parseInt(e[o])>0||"string"==typeof e[o])&&(t[o]=e[o])}l(t)},cancelHandle:function(){s(r+1),t()},formInitialObj:f.IC,initFormCount:r}))},y=t(63273),g=function(){var e=(0,a.useState)(!1),n=e[0],t=e[1],l=(0,a.useState)(0),o=l[0],m=l[1],d=(0,a.useRef)({page:0}),f=(0,a.useRef)(!0),_=(0,a.useState)(!1),b=_[0],g=_[1],v=(0,a.useState)([]),j=v[0],O=v[1],E=function(){!b||f.current?(g(!0),console.log("reach end"),d.current=Object.assign({},d.current,{page:d.current.page+1}),m(o+1)):console.log("All loaded...")};return a.createElement("div",null,a.createElement(s.Z,null,a.createElement(c.Z,{onClick:function(){t(!0)},icon:a.createElement(i.Z,null)},"搜索"),a.createElement(c.Z,{onClick:function(){(0,r.navigate)("/lenscreate")}},"新建镜片")),a.createElement(p,{drawerVisible:n,closeDrawer:function(){t(!1)},sendQueryRequest:function(e){O([]),t(!1),d.current=Object.assign({},d.current,e),E()}}),a.createElement(u.Z,{productsData:j,loadMore:E,loading:b,hasMore:f.current}),a.createElement(y.iD,{requestCount:o,reqParams:d.current,responseDataHandle:function(e){!function(e){g(!1);for(var n=Object.keys(e),t=0,a=["code","results"];t<a.length;t++){var l=a[t];if(!n.includes(l))return!1}return!(1e3!==e.code||!Array.isArray(e.results))}(e)?(f.current=!0,d.current=Object.assign({},d.current,{page:d.current.page-1})):(O(j.concat(e.results)),f.current=!!e.next)}}))},v=function(){return a.createElement(l.Z,null,a.createElement(o.Z,{title:"Lens manage"}),a.createElement(g,null))}}}]);
//# sourceMappingURL=component---src-pages-lensmanagelist-js-36039f11d0bbd0136e19.js.map