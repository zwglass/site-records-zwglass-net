(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{iCkS:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),o=n.n(a),l=n("9qUX"),r=n("vrFN"),s=n("BMrR"),c=n("kPKH"),u=n("zeV3"),i=n("3S7+"),m=n("2/Rp"),d=n("rLCj"),b=(n("91GP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("Z2Ku"),n("L9s1"),n("tsqr")),f=n("kLXV"),p=n("PArb"),j=n("g/of"),O=n("Sm+g"),y=n("/a2Y"),g=["company_name","app_id","app_secret","message_token","message_encoding_aeskey","mch_id","api_key","apiv3_key"],C=[],E=["app_secret","message_token","message_encoding_aeskey"],K={company_name:"公司名称",app_id:"小程序appid",app_secret:"微信支付密钥",message_token:"信息token",message_encoding_aeskey:"aeskey",mch_id:"微信支付商户号",api_key:"API密钥",apiv3_key:"APIv3密钥"},h={},v={},q=[],w=["wxpay-admin/v1/companywxpayinfo"],S=function(e){var t=e.item,n=e.index,a=e.itemDetailClick;return console.log(t),o.a.createElement("div",null,o.a.createElement(y.a,{listsIndex:n,productTitle:t.company_name,productEffects:"小程序: app_id("+t.app_id+")",salePrice:0,clickDetailHandle:a}))},k=function(e){var t=e.requestCount,n=e.reqParams,a=e.responseDataHandle,l=w[0];return o.a.createElement(O.a,{responseDataHandle:a,api:l,method:"get",reqParams:n,reqObject:{},requestCount:t})};k.defaultProps={requestCount:0,reqParams:{},responseDataHandle:function(e){console.log(e)}};var F=function(e){var t=e.requestCount,n=e.reqObject,a=e.responseDataHandle,l=[].concat(w)[0];return o.a.createElement(O.a,{responseDataHandle:a,api:l,method:"post",reqParams:{},reqObject:n,requestCount:t})};F.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)}};var L=function(e){var t=e.requestCount,n=e.reqObject,a=e.responseDataHandle,l=e.id,r=[].concat(w)[0]+"/"+l;return o.a.createElement(O.a,{responseDataHandle:a,api:r,method:"put",reqParams:{},reqObject:n,requestCount:t})};L.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)},id:0};var H=function(e){var t=e.requestCount,n=e.responseDataHandle,a=e.id,l=[].concat(w)[0]+"/"+a;return o.a.createElement(O.a,{responseDataHandle:n,api:l,method:"delete",reqParams:{},reqObject:{},requestCount:t})};H.defaultProps={requestCount:0,responseDataHandle:function(e){console.log(e)},id:0};var _=n("p8V/"),P=function(e){var t=e.visible,n=e.setVisible,l=e.reloadListCount,r=e.setReloadListCount,s=Object(a.useRef)({}),c=Object(a.useRef)({createCount:0}),u=Object(a.useState)(0),i=u[0],m=u[1],d=Object(a.useState)(0),O=d[0],y=d[1],w=Object(a.useRef)({}),S=function(){s.current={},c.current={createCount:c.current.createCount+1},m(i+1),n(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{visible:t,title:"WxpayAccount 新建",closable:!1,footer:null},o.a.createElement("div",{style:{width:"100%",height:"auto",textAlign:"center"}},o.a.createElement(j.b,{oldObj:c.current,maxImagesNum:0,imageKeyName:q[0],onChange:function(e){s.current=Object.assign({},e)}})),o.a.createElement(p.a,null),o.a.createElement(_.a,{columns:g,disabledKeys:C,notShowKeys:E,formKeyLabelObj:K,formKeySelectComponentsObj:h,onFinish:function(e){var t=Object.assign({},e,s.current);w.current=t,y(O+1)},cancelHandle:S,showDeleteButton:!1,formInitialObj:v,initFormCount:i}),o.a.createElement(F,{requestCount:O,reqObject:w.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?(S(),r(l+1)):b.b.error("网络错误...")}})))};P.defaultProps={visible:!1,setVisible:function(e){return console.log(e)},reloadListCount:0,setReloadListCount:function(e){return console.log(e)}};var D=P,I=n("lN2L"),V=function(e){var t=e.visible,n=e.setVisible,l=e.oldObj,r=e.reloadListCount,s=e.setReloadListCount,c=Object(a.useState)([]),u=(c[0],c[1]),i=Object(a.useRef)({}),m=Object(a.useState)(""),d=(m[0],m[1],Object(a.useState)({})),O=d[0],y=d[1],v=Object(a.useState)(0),w=v[0],S=v[1],k=Object(a.useState)(0),F=k[0],P=k[1],D=Object(a.useRef)({}),I=Object(a.useState)(0),V=I[0],R=I[1];Object(a.useEffect)((function(){B()}),[t,l]);var B=function(){S(w+1),y(Object.assign({},l));for(var e=[],t=q[0],n=1;n<10;n++){var a=t+n,o=a+"_url",r=l[a],s=l[o];"string"==typeof r&&r.length>5&&e.push({cosNameKey:a,cosName:r,urlKey:o,url:s})}u(e)};return o.a.createElement(f.a,{visible:t,title:"WxpayAccount",closable:!1,footer:null},o.a.createElement("div",{style:{width:"100%",height:"auto",textAlign:"center"}},o.a.createElement(j.b,{maxImagesNum:0,imageKeyName:q[0],oldObj:l,onChange:function(e){i.current=e}})),o.a.createElement(p.a,null),o.a.createElement(_.a,{columns:g,disabledKeys:C,notShowKeys:E,formKeyLabelObj:K,formKeySelectComponentsObj:h,onFinish:function(e){var t=Object.assign({},e,i.current);console.log(t),D.current=t,P(F+1)},cancelHandle:function(){return n(!1)},showDeleteButton:!0,deleteHandle:function(){R(V+1),s(r+1)},updateFormObj:O,formInitialObj:{},initFormCount:w}),o.a.createElement(L,{requestCount:F,reqObject:D.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?(b.b.success("修改成功"),s(r+1),n(!1)):b.b.error("网络错误...")},id:O.id}),o.a.createElement(H,{requestCount:V,responseDataHandle:function(e){return n(!1)},id:O.id}))};V.defaultProps={visible:!1,setVisible:function(e){return console.log(e)},oldObj:{}};var R=V,B=function(e){var t=e.reloadListCount,n=e.setReloadListCount,l=(e.requestParams,Object(a.useRef)(!0)),r=Object(a.useState)(!0),s=r[0],c=r[1],u=Object(a.useState)(!1),i=u[0],m=u[1],d=Object(a.useState)([]),b=d[0],f=d[1],p=Object(a.useState)(0),j=p[0],O=p[1],y=Object(a.useState)(!1),g=y[0],C=y[1],E=Object(a.useState)({}),K=E[0],h=E[1];Object(a.useEffect)((function(){q()}),[t]),Object(a.useEffect)((function(){c(l.current)}),[l.current]);var v=function(){l.current&&!i?(O(j+1),m(!0)):console.log("Error state: hasMore is ",l.current,", loading is ",i)},q=function(){f([]),l.current=!0,m(!1),setTimeout((function(){v(),console.log("end loadMore...")}),100)},w=function(e){var t=Object.assign({},b[e]);console.log(t),h(t),C(!0)};return o.a.createElement("div",null,o.a.createElement(k,{requestCount:j,responseDataHandle:function(e){console.log("resp process..."),m(!1),Object.keys(e).includes("code")&&1e3===e.code&&Object.keys(e).includes("results")?(f(b.concat(e.results)),l.current=function(e){return!!(Object.keys(e).includes("next")&&"string"==typeof e.next&&e.next.length>5)}(e)):console.log("Error: get data...")}}),o.a.createElement(I.a,{productsData:b,loadMore:v,hasMore:s,ItemRendererComponent:function(e){var t=e.item,n=e.index;return o.a.createElement(S,{item:t,index:n,itemDetailClick:w})}}),o.a.createElement(R,{visible:g,setVisible:C,oldObj:K,reloadListCount:t,setReloadListCount:n}))};B.defaultProps={reloadListCount:1,setReloadListCount:function(e){console.log(e)},requestParams:{page:0}};var x=B,N=function(){var e=Object(a.useRef)({page:0}),t=Object(a.useState)(1),n=t[0],l=t[1],r=Object(a.useState)(!1),b=r[0],f=r[1];return o.a.createElement("div",null,o.a.createElement(s.a,null,o.a.createElement(c.a,{span:14},o.a.createElement(u.b,null,o.a.createElement("h4",null,"WxpayAccount"),o.a.createElement(i.a,{title:"刷新"},o.a.createElement(m.a,{onClick:function(){e.current={page:0},l(n+1)},shape:"circle",icon:o.a.createElement(d.a,null)}))))),o.a.createElement(x,{reloadListCount:n,setReloadListCount:l,requestParams:e.current}),o.a.createElement(D,{visible:b,setVisible:f,reloadListCount:n,setReloadListCount:l}))};t.default=function(){return o.a.createElement(l.a,null,o.a.createElement(r.a,{title:"WxPay"}),o.a.createElement(N,null))}},"p8V/":function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O}));n("a1Th"),n("91GP"),n("rGqo"),n("yt8O"),n("Btvt"),n("RW0V"),n("Z2Ku"),n("L9s1");var a=n("q1tI"),o=n.n(a),l=n("Vl3Y"),r=n("5rEg"),s=n("2/Rp"),c=n("zeV3"),u=n("7BUj").a.formCommonStyle,i=u.layoutForm,m=u.formItemLayout,d=u.tailFormItemLayout,b={width:260},f=function(e){var t=e.formKey,n=e.formKeyLabelObj,a=e.disabledKeys,s=e.updateFormObj,c=e.rulesObj,u=e.formKeySelectComponentsObj,i=e.passwordKeys,d=e.showLabelName,f=void 0===d||d,p=a.includes(t),j=n[t],O=s[t];return o.a.createElement(l.a.Item,Object.assign({},m,{name:t,label:f?j:"",initialValue:O,rules:c[t]?c[t]:[]}),Object.keys(u).includes(t)?u[t]:i.includes(t)?o.a.createElement(r.a.Password,{style:b}):o.a.createElement(r.a,{style:b,placeholder:"请输入 "+j,disabled:p}))},p=function(e){var t=e.formKey,n=e.formKeyLabelObj,a=e.disabledKeys,r=e.updateFormObj,c=e.rulesObj,u=e.formKeySelectComponentsObj,i=e.passwordKeys,d=e.formKeysItemButtonObj,b=d[t].buttonTips,p=n[t];return o.a.createElement(l.a.Item,Object.assign({},m,{label:p}),o.a.createElement(f,{formKey:t,formKeyLabelObj:n,disabledKeys:a,updateFormObj:r,rulesObj:c,formKeySelectComponentsObj:u,passwordKeys:i,showLabelName:!1}),o.a.createElement(s.a,{type:"link",onClick:function(e){console.log(e);try{d[t].clickMethod()}catch(n){console.log(n)}}},b))},j=function(e){var t=e.columns,n=e.disabledKeys,r=e.notShowKeys,u=e.formKeyLabelObj,m=e.formKeySelectComponentsObj,b=e.formKeysItemButtonObj,j=e.onFinish,O=e.cancelHandle,y=e.deleteHandle,g=e.showDeleteButton,C=e.updateFormObj,E=e.formInitialObj,K=e.initFormCount,h=e.rulesObj,v=e.passwordKeys,q=l.a.useForm()[0],w=Object(a.useState)(!1),S=w[0],k=w[1];Object(a.useEffect)((function(){q.setFieldsValue(C),k(!1)}),[C]),Object(a.useEffect)((function(){K>0&&(q.setFieldsValue(E),k(!1))}),[K]);return o.a.createElement(l.a,Object.assign({},i,{form:q,layout:"horizontal",onFinish:function(e){k(!0),j(e)},name:"adminer_info_edit"}),t.map((function(e,t){return r.includes(e)?null:Object.keys(b).includes(e)?o.a.createElement(p,{key:t.toString(),formKey:e,formKeyLabelObj:u,disabledKeys:n,updateFormObj:C,rulesObj:h,formKeySelectComponentsObj:m,passwordKeys:v,formKeysItemButtonObj:b}):o.a.createElement(f,{key:t.toString(),formKey:e,formKeyLabelObj:u,disabledKeys:n,updateFormObj:C,rulesObj:h,formKeySelectComponentsObj:m,passwordKeys:v})})),o.a.createElement(l.a.Item,d,o.a.createElement(c.b,null,o.a.createElement(s.a,{loading:S,disabled:S,type:"primary",htmlType:"submit"},"提交"),o.a.createElement(s.a,{onClick:O},"取消"),g?o.a.createElement(s.a,{loading:S,disabled:S,onClick:function(){k(!0),y()}},"删除"):null)))};j.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},formKeysItemButtonObj:{},onFinish:function(e){console.log(e)},cancelHandle:function(){console.log("Cancel Handle")},deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}};var O=function(e){var t=e.columns,n=e.disabledKeys,u=e.notShowKeys,i=e.formKeyLabelObj,m=e.formKeySelectComponentsObj,d=e.onFinish,f=e.onFinishButtonTips,p=e.cancelHandle,j=e.showCancelButton,O=e.deleteHandle,y=e.showDeleteButton,g=e.updateFormObj,C=e.formInitialObj,E=e.initFormCount,K=e.rulesObj,h=e.passwordKeys,v=(e.getFieldsValueHandle,l.a.useForm()[0]);Object(a.useEffect)((function(){v.setFieldsValue(g)}),[g]),Object(a.useEffect)((function(){v.setFieldsValue(C)}),[E]);var q=function(e){var t=e.formKey,a=n.includes(t),s=i[t],c=g[t];return o.a.createElement(l.a.Item,{name:t,initialValue:c,rules:K[t]?K[t]:[]},Object.keys(m).includes(t)?m[t]:h.includes(t)?o.a.createElement(r.a.Password,{style:b}):o.a.createElement(r.a,{style:b,placeholder:"请输入 "+s,disabled:a}))};return o.a.createElement(l.a,Object.assign({},{labelCol:{span:0},wrapperCol:{span:8}},{form:v,layout:"inline",onFinish:d,name:"adminer_info_edit"}),t.map((function(e,t){return u.includes(e)?null:o.a.createElement(q,{formKey:e,key:t.toString()})})),o.a.createElement(l.a.Item,null,o.a.createElement(c.b,null,o.a.createElement(s.a,{type:"primary",htmlType:"submit"},f),j?o.a.createElement(s.a,{onClick:p},"取消"):null,y?o.a.createElement(s.a,{onClick:O},"删除"):null)))};O.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},onFinish:function(e){console.log(e)},onFinishButtonTips:"确定/修改",cancelHandle:function(){console.log("Cancel Handle")},showCancelButton:!1,deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}}},rLCj:function(e,t,n){"use strict";n("91GP");var a=n("q1tI"),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},l=n("6VBw"),r=function(e,t){return a.createElement(l.a,Object.assign({},e,{ref:t,icon:o}))};r.displayName="ReloadOutlined";t.a=a.forwardRef(r)}}]);
//# sourceMappingURL=component---src-pages-wxpayaccount-js-18d09517a5398a938ddd.js.map