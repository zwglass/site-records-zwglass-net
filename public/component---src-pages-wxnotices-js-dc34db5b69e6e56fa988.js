(self.webpackChunkzwglass_purchase_records=self.webpackChunkzwglass_purchase_records||[]).push([[8227],{30165:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var l=n(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},a=n(12112),o=function(e,t){return l.createElement(a.Z,Object.assign({},e,{ref:t,icon:r}))};o.displayName="ReloadOutlined";var s=l.forwardRef(o)},80328:function(e,t,n){"use strict";n.d(t,{vc:function(){return l},T9:function(){return r}});var l=function(e,t){t=t||"Y-m-d H:i:s";var n=function(e){return e<10?"0"+e:e},l=e?new Date(e):new Date,r=l.getFullYear(),a=n(l.getMonth()+1),o=n(l.getDate()),s=n(l.getHours()),c=n(l.getMinutes()),i=n(l.getSeconds());return t.replace(/Y|m|d|H|i|s/gi,(function(e){return{Y:r,m:a,d:o,H:s,i:c,s:i}[e]}))},r=function(){var e=(new Date).getTime();return parseInt(e/1e3)}},86257:function(e,t,n){"use strict";n.d(t,{y:function(){return p},p:function(){return y}});var l=n(67294),r=n(28130),a=n(23796),o=n(93299),s=n(77371),c=n(48428).Z.formCommonStyle,i=c.layoutForm,u=c.formItemLayout,m=c.tailFormItemLayout,d={width:260},f=function(e){var t=e.formKey,n=e.formKeyLabelObj,o=e.disabledKeys,s=e.updateFormObj,c=e.rulesObj,i=e.formKeySelectComponentsObj,m=e.passwordKeys,f=e.showLabelName,b=void 0===f||f,p=o.includes(t),y=n[t],E=s[t];return l.createElement(r.Z.Item,Object.assign({},u,{name:t,label:b?y:"",initialValue:E,rules:c[t]?c[t]:[]}),Object.keys(i).includes(t)?i[t]:m.includes(t)?l.createElement(a.Z.Password,{style:d}):l.createElement(a.Z,{style:d,placeholder:"请输入 "+y,disabled:p}))},b=function(e){var t=e.formKey,n=e.formKeyLabelObj,a=e.disabledKeys,s=e.updateFormObj,c=e.rulesObj,i=e.formKeySelectComponentsObj,m=e.passwordKeys,d=e.formKeysItemButtonObj,b=d[t].buttonTips,p=n[t];return l.createElement(r.Z.Item,Object.assign({},u,{label:p}),l.createElement(f,{formKey:t,formKeyLabelObj:n,disabledKeys:a,updateFormObj:s,rulesObj:c,formKeySelectComponentsObj:i,passwordKeys:m,showLabelName:!1}),l.createElement(o.Z,{type:"link",onClick:function(e){console.log(e);try{d[t].clickMethod()}catch(n){console.log(n)}}},b))},p=function(e){var t=e.columns,n=e.disabledKeys,a=e.notShowKeys,c=e.formKeyLabelObj,u=e.formKeySelectComponentsObj,d=e.formKeysItemButtonObj,p=e.onFinish,y=e.cancelHandle,E=e.deleteHandle,g=e.showDeleteButton,O=e.updateFormObj,j=e.formInitialObj,h=e.initFormCount,v=e.rulesObj,Z=e.passwordKeys,C=r.Z.useForm()[0],K=(0,l.useState)(!1),S=K[0],w=K[1];(0,l.useEffect)((function(){C.setFieldsValue(O),w(!1)}),[O]),(0,l.useEffect)((function(){h>0&&(C.setFieldsValue(j),w(!1))}),[h]);return l.createElement(r.Z,Object.assign({},i,{form:C,layout:"horizontal",onFinish:function(e){w(!0),p(e)},name:"adminer_info_edit"}),t.map((function(e,t){return a.includes(e)?null:Object.keys(d).includes(e)?l.createElement(b,{key:t.toString(),formKey:e,formKeyLabelObj:c,disabledKeys:n,updateFormObj:O,rulesObj:v,formKeySelectComponentsObj:u,passwordKeys:Z,formKeysItemButtonObj:d}):l.createElement(f,{key:t.toString(),formKey:e,formKeyLabelObj:c,disabledKeys:n,updateFormObj:O,rulesObj:v,formKeySelectComponentsObj:u,passwordKeys:Z})})),l.createElement(r.Z.Item,m,l.createElement(s.Z,null,l.createElement(o.Z,{loading:S,disabled:S,type:"primary",htmlType:"submit"},"提交"),l.createElement(o.Z,{onClick:y},"取消"),g?l.createElement(o.Z,{loading:S,disabled:S,onClick:function(){w(!0),E()}},"删除"):null)))};p.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},formKeysItemButtonObj:{},onFinish:function(e){console.log(e)},cancelHandle:function(){console.log("Cancel Handle")},deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}};var y=function(e){var t=e.columns,n=e.disabledKeys,c=e.notShowKeys,i=e.formKeyLabelObj,u=e.formKeySelectComponentsObj,m=e.onFinish,f=e.onFinishButtonTips,b=e.cancelHandle,p=e.showCancelButton,y=e.deleteHandle,E=e.showDeleteButton,g=e.updateFormObj,O=e.formInitialObj,j=e.initFormCount,h=e.rulesObj,v=e.passwordKeys,Z=(e.getFieldsValueHandle,r.Z.useForm()[0]);(0,l.useEffect)((function(){Z.setFieldsValue(g)}),[g]),(0,l.useEffect)((function(){Z.setFieldsValue(O)}),[j]);var C=function(e){var t=e.formKey,o=n.includes(t),s=i[t],c=g[t];return l.createElement(r.Z.Item,{name:t,initialValue:c,rules:h[t]?h[t]:[]},Object.keys(u).includes(t)?u[t]:v.includes(t)?l.createElement(a.Z.Password,{style:d}):l.createElement(a.Z,{style:d,placeholder:"请输入 "+s,disabled:o}))};return l.createElement(r.Z,Object.assign({},{labelCol:{span:0},wrapperCol:{span:8}},{form:Z,layout:"inline",onFinish:m,name:"adminer_info_edit"}),t.map((function(e,t){return c.includes(e)?null:l.createElement(C,{formKey:e,key:t.toString()})})),l.createElement(r.Z.Item,null,l.createElement(s.Z,null,l.createElement(o.Z,{type:"primary",htmlType:"submit"},f),p?l.createElement(o.Z,{onClick:b},"取消"):null,E?l.createElement(o.Z,{onClick:y},"删除"):null)))};y.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},onFinish:function(e){console.log(e)},onFinishButtonTips:"确定/修改",cancelHandle:function(){console.log("Cancel Handle")},showCancelButton:!1,deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}}},15169:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var l=n(67294),r=n(27188),a=n(48428),o=r.Z.Option,s=function(e){var t=e.options,n=e.width,a=e.value,s=e.onChange,c=e.mode;return l.createElement(r.Z,{style:{width:n},onChange:s,value:a,mode:c,allowClear:!0},t.map((function(e,t){return l.createElement(o,{key:t.toString(),value:e.value},e.label)})))};s.defaultProps={options:[],width:a.Z.selectComponentWidth,value:null,onChange:function(e){console.log(e)},mode:null}},20028:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var l=n(67294);function r(){return l.createElement("footer",null,l.createElement("div",{className:"container"},l.createElement("p",null,"© JiangSu danyang zwglass"),l.createElement("p",null,"Tel: 0511-86917606"),l.createElement("ul",{className:"list-inline"},l.createElement("li",{className:"list-inline-item"},l.createElement("a",{href:"/#"},"Privacy")),l.createElement("li",{className:"list-inline-item"},l.createElement("a",{href:"/#"},"Terms")),l.createElement("li",{className:"list-inline-item"},l.createElement("a",{href:"/#"},"FAQ")))))}},93696:function(e,t,n){"use strict";var l=n(67294),r=n(26572),a=n(27600),o=n(16442),s=n(20028);n(7345);t.Z=function(e){var t=e.children,n=(0,l.useState)(0),c=n[0],i=n[1];return(0,l.useEffect)((function(){i(c+1)}),[]),l.createElement("div",{className:"flex-container"},l.createElement(o.Z,null),l.createElement(r.nZ,{size:"lg"}),l.createElement(a.l,{requestCount:c}),l.createElement(r.kC,null,l.createElement(r.kC.Item,null,l.createElement("div",{className:"flex-main-container"},t))),l.createElement(r.nZ,{size:"lg"}),l.createElement(s.Z,null))}},89560:function(e,t,n){"use strict";var l=n(67294),r=n(40977),a=n(77371),o=n(23148),s=n(56452),c=n(75334),i=n(93299),u=n(32210),m=n(50845),d=n(17858),f=n(28823),b=n(72373),p=function(e){var t=e.oldImageUrl,p=e.avatarSize,y=e.uploadedResponseHandle,E=e.fileKey,g=e.cleanFileListCount,O=(0,l.useRef)({}),j=(0,l.useRef)({}),h=(0,l.useRef)(""),v=(0,l.useState)(""),Z=v[0],C=v[1],K=(0,l.useState)(0),S=K[0],w=K[1],_=(0,l.useRef)({}),H=(0,l.useState)(!0),F=H[0],D=H[1],k=(0,l.useState)(!0),q=k[0],I=k[1];(0,l.useEffect)((function(){L()}),[g]),(0,l.useEffect)((function(){O.current={},C(""),D(!0)}),[t]),(0,l.useEffect)((function(){I(0===Object.keys(O.current).length)}),[O.current]);var P=function(e,t){var n=Object.assign({},j.current),l=n.credentials;t({TmpSecretId:l.tmpSecretId,TmpSecretKey:l.tmpSecretKey,XCosSecurityToken:l.sessionToken,StartTime:n.startTime,ExpiredTime:n.expiredTime})},T={fileList:[],beforeUpload:function(e){return O.current=e,w(S+1),!1}},L=function(){y({},E),C(""),O.current={},D(!1)};return l.createElement("div",null,l.createElement(a.Z,{direction:"vertical"},l.createElement(d.Z,{src:F?t:Z,width:p}),l.createElement(o.Z,{gutter:10},l.createElement(s.Z,{span:12},l.createElement("div",{style:{textAlign:"left"}},l.createElement(c.Z,T,q?l.createElement(i.Z,{size:"small"},l.createElement(u.Z,null)," 更新"):null))),l.createElement(s.Z,{span:12},Z.length>10||t.length>10?l.createElement(i.Z,{onClick:L,size:"small"},l.createElement(m.Z,null)," 删除"):null)),l.createElement(f.G,{requestCount:S,reqObject:_.current,responseDataHandle:function(e){(console.log(e),Object.keys(e).includes("image_cos_name")||Object.keys(e).includes("sts_obj"))?(j.current=e.sts_obj,h.current=e.image_cos_name,"undefined"!=typeof window&&new(n(74525))({getAuthorization:P}).putObject(Object.assign({},b.D1,{Key:h.current,Body:O.current,onProgress:function(e){console.log(JSON.stringify(e))}}),(function(t,n){console.log(t||n),n?(console.log(n),C(e.image_cos_name_url),D(!1),y(e,E),r.ZP.success("图片上传成功!")):(L(),r.ZP.error("图片上传失败..."))}))):console.log("Get temporary key error...")}})))};p.defaultProps={oldImageUrl:"",avatarSize:96,uploadedResponseHandle:function(e,t){console.log(e,t)},fileKey:"image1",cleanFileListCount:0},t.Z=p},61666:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var l=n(67294),r=n(93696),a=n(93751),o=n(23148),s=n(56452),c=n(77371),i=n(90579),u=n(93299),m=n(30165),d=n(73964),f=n.n(d),b=n(80328),p=n(45266),y=n(88175),E=n(33328),g=["notice-admin/v1/notices"],O=function(e){var t=e.requestCount,n=e.reqParams,r=e.responseDataHandle,a=g[0];return l.createElement(E.Z,{responseDataHandle:r,api:a,method:"get",reqParams:n,reqObject:{},requestCount:t})};O.defaultProps={requestCount:0,reqParams:{},responseDataHandle:function(e){console.log(e)}};var j=function(e){var t=e.requestCount,n=e.reqObject,r=e.responseDataHandle,a=[].concat(g)[0];return l.createElement(E.Z,{responseDataHandle:r,api:a,method:"post",reqParams:{},reqObject:n,requestCount:t})};j.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)}};var h=function(e){var t=e.requestCount,n=e.reqObject,r=e.responseDataHandle,a=e.id,o=[].concat(g)[0]+"/"+a;return l.createElement(E.Z,{responseDataHandle:r,api:o,method:"put",reqParams:{},reqObject:n,requestCount:t})};h.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)},id:0};var v=function(e){var t=e.requestCount,n=e.responseDataHandle,r=e.id,a=[].concat(g)[0]+"/"+r;return l.createElement(E.Z,{responseDataHandle:n,api:a,method:"delete",reqParams:{},reqObject:{},requestCount:t})};v.defaultProps={requestCount:0,responseDataHandle:function(e){console.log(e)},id:0};var Z=n(40977),C=n(94789),K=n(16306),S=n(86257),w=n(47696),_=n(15169),H=["id","handle_staff_id","content","end_time","add_time","update_time","explains","is_delete"],F=["id","handle_staff_id","add_time","update_time"],D=["handle_staff_id"],k={id:"ID",handle_staff_id:"编辑员ID",content:"内容",end_time:"结束时间",add_time:"创建时间",update_time:"更新时间",explains:"说明",is_delete:"已删除"},q={is_delete:l.createElement(_.A,{options:[{value:0,label:"否"},{value:1,label:"是"}]}),end_time:l.createElement(w.Z,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})},I={id:"",handle_staff_id:"0",content:"",end_time:"",add_time:"",update_time:"",explains:"",is_delete:0},P=function(e){var t=e.visible,n=e.setVisible,r=(0,l.useState)(0),a=r[0],o=r[1],s=(0,l.useState)(0),c=s[0],i=s[1],u=(0,l.useState)(0),m=u[0],d=u[1],f=(0,l.useRef)({});(0,l.useEffect)((function(){o(a+1),i(c+1)}),[t]);return l.createElement(C.Z,{visible:t,title:"Notices 新建",closable:!1,footer:null},l.createElement(K.Z,null),l.createElement(S.y,{columns:H,disabledKeys:F,notShowKeys:D,formKeyLabelObj:k,formKeySelectComponentsObj:q,onFinish:function(e){var t=Object.assign({},e),n=new Date(t.end_time);t.end_time=parseInt(n.getTime()),f.current=t,d(m+1)},cancelHandle:function(){return n(!1)},showDeleteButton:!1,formInitialObj:I,initFormCount:c}),l.createElement(j,{requestCount:m,reqObject:f.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?n(!1):Z.ZP.error("网络错误...")}}))};P.defaultProps={visible:!1,setVisible:function(e){return console.log(e)}};var T=P,L=(n(89560),function(e){var t=e.visible,n=e.setVisible,r=e.oldObj,a=(0,l.useState)({}),o=a[0],s=a[1],c=(0,l.useState)(0),i=c[0],u=c[1],m=(0,l.useState)(0),d=m[0],f=m[1],b=(0,l.useRef)({}),p=(0,l.useState)(0),y=p[0],E=p[1];(0,l.useEffect)((function(){u(i+1),s(Object.assign({},r))}),[r]);return l.createElement(C.Z,{visible:t,title:"Notices",closable:!1,footer:null},l.createElement(K.Z,null),l.createElement(S.y,{columns:H,disabledKeys:F,notShowKeys:D,formKeyLabelObj:k,formKeySelectComponentsObj:q,onFinish:function(e){var t=Object.assign({},e),n=new Date(t.end_time);t.end_time=parseInt(n.getTime()),b.current=t,f(d+1)},cancelHandle:function(){return n(!1)},showDeleteButton:!0,deleteHandle:function(){E(y+1)},updateFormObj:o,formInitialObj:{},initFormCount:i}),l.createElement(h,{requestCount:d,reqObject:b.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?(Z.ZP.success("修改成功"),n(!1)):Z.ZP.error("网络错误...")},id:o.id}),l.createElement(v,{requestCount:y,responseDataHandle:function(e){return n(!1)},id:o.id}))});L.defaultProps={visible:!1,setVisible:function(e){return console.log(e)},oldObj:{}};var B=L,N=function(){var e=(0,l.useState)(!0),t=e[0],n=e[1],r=(0,l.useState)(!1),a=r[0],d=r[1],E=(0,l.useRef)({page:0}),g=(0,l.useState)([]),j=g[0],h=g[1],v=(0,l.useState)(0),Z=v[0],C=v[1],K=(0,l.useState)(!1),S=K[0],w=K[1],_=(0,l.useState)(!1),H=_[0],F=_[1],D=(0,l.useState)({}),k=D[0],q=D[1];(0,l.useEffect)((function(){P()}),[S,H]);var I=function(){t&&!a&&(E.current=Object.assign({},E.current,{page:E.current.page+1}),C(Z+1),d(!0))},P=function(){h([]),n(!0),d(!1),E.current={page:0},setTimeout((function(){I()}),500)},L=function(e){var t=Object.assign({},j[e]);t.end_time=f()((0,b.vc)(t.end_time),"YYYY-MM-DD HH:mm:ss"),q(t),F(!0)};return l.createElement("div",null,l.createElement(o.Z,null,l.createElement(s.Z,{span:14},l.createElement(c.Z,null,l.createElement("h4",null,"Notices"),l.createElement(i.Z,{title:"刷新"},l.createElement(u.Z,{onClick:P,shape:"circle",icon:l.createElement(m.Z,null)})))),l.createElement(s.Z,{span:10},l.createElement("div",{style:{width:"100%",height:"auto"}},l.createElement(u.Z,{style:{float:"right"},type:"link",onClick:function(){return w(!0)}},"新建")))),l.createElement(O,{requestCount:Z,reqParams:E.current,responseDataHandle:function(e){d(!1),Object.keys(e).includes("code")&&1e3===e.code&&Object.keys(e).includes("results")?(h(j.concat(e.results)),n(function(e){return!!(Object.keys(e).includes("next")&&"string"==typeof e.next&&e.next.length>5)}(e))):console.log("Error: get data...")}}),l.createElement(p.Z,{productsData:j,loadMore:I,hasMore:t,ItemRendererComponent:function(e){var t=e.item,n=e.index;return l.createElement("div",null,l.createElement(y.Z,{listsIndex:n,productTitle:t.end_time,productEffects:t.content,sourcePrice:0,salePrice:0,clickDetailHandle:L}))}}),l.createElement(T,{visible:S,setVisible:w}),l.createElement(B,{visible:H,setVisible:F,oldObj:k}))},V=function(){return l.createElement(r.Z,null,l.createElement(a.Z,{title:"WX Notices"}),l.createElement(N,null))}}}]);
//# sourceMappingURL=component---src-pages-wxnotices-js-dc34db5b69e6e56fa988.js.map