{"version":3,"file":"e5a0279fb94508f0b7e870a17d4bae6554807ea6-5b2c7d066b0996031598.js","mappings":"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","sources":["webpack://client_admin_v102/./node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","webpack://client_admin_v102/./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","webpack://client_admin_v102/./node_modules/@ant-design/icons-svg/es/asn/UploadOutlined.js","webpack://client_admin_v102/./node_modules/@ant-design/icons/es/icons/UploadOutlined.js","webpack://client_admin_v102/./node_modules/@xmldom/xmldom/lib/conventions.js","webpack://client_admin_v102/./node_modules/@xmldom/xmldom/lib/dom-parser.js","webpack://client_admin_v102/./node_modules/@xmldom/xmldom/lib/dom.js","webpack://client_admin_v102/./node_modules/@xmldom/xmldom/lib/entities.js","webpack://client_admin_v102/./node_modules/@xmldom/xmldom/lib/index.js","webpack://client_admin_v102/./node_modules/@xmldom/xmldom/lib/sax.js","webpack://client_admin_v102/./node_modules/rc-upload/es/request.js","webpack://client_admin_v102/./node_modules/rc-upload/es/uid.js","webpack://client_admin_v102/./node_modules/rc-upload/es/attr-accept.js","webpack://client_admin_v102/./node_modules/rc-upload/es/traverseFileTree.js","webpack://client_admin_v102/./node_modules/rc-upload/es/AjaxUploader.js","webpack://client_admin_v102/./node_modules/rc-upload/es/Upload.js","webpack://client_admin_v102/./node_modules/rc-upload/es/index.js","webpack://client_admin_v102/./node_modules/@ant-design/icons-svg/es/asn/PaperClipOutlined.js","webpack://client_admin_v102/./node_modules/@ant-design/icons/es/icons/PaperClipOutlined.js","webpack://client_admin_v102/./node_modules/@ant-design/icons-svg/es/asn/PictureTwoTone.js","webpack://client_admin_v102/./node_modules/@ant-design/icons/es/icons/PictureTwoTone.js","webpack://client_admin_v102/./node_modules/@ant-design/icons-svg/es/asn/FileTwoTone.js","webpack://client_admin_v102/./node_modules/@ant-design/icons/es/icons/FileTwoTone.js","webpack://client_admin_v102/./node_modules/antd/es/upload/utils.js","webpack://client_admin_v102/./node_modules/@ant-design/icons-svg/es/asn/DownloadOutlined.js","webpack://client_admin_v102/./node_modules/@ant-design/icons/es/icons/DownloadOutlined.js","webpack://client_admin_v102/./node_modules/antd/es/progress/utils.js","webpack://client_admin_v102/./node_modules/antd/es/progress/Line.js","webpack://client_admin_v102/./node_modules/rc-progress/es/common.js","webpack://client_admin_v102/./node_modules/rc-progress/es/Line.js","webpack://client_admin_v102/./node_modules/rc-progress/es/hooks/useId.js","webpack://client_admin_v102/./node_modules/rc-progress/es/Circle.js","webpack://client_admin_v102/./node_modules/antd/es/progress/Circle.js","webpack://client_admin_v102/./node_modules/antd/es/progress/Steps.js","webpack://client_admin_v102/./node_modules/antd/es/progress/progress.js","webpack://client_admin_v102/./node_modules/antd/es/progress/index.js","webpack://client_admin_v102/./node_modules/antd/es/upload/UploadList/ListItem.js","webpack://client_admin_v102/./node_modules/antd/es/upload/UploadList/index.js","webpack://client_admin_v102/./node_modules/antd/es/upload/Upload.js","webpack://client_admin_v102/./node_modules/antd/es/upload/Dragger.js","webpack://client_admin_v102/./node_modules/antd/es/upload/index.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/index.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/lib/crypto.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/lib/json2xml.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/lib/md5.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/lib/request.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/lib/xml2json.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/src/advance.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/src/async.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/src/base.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/src/cos.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/src/event.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/src/session.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/src/task.js","webpack://client_admin_v102/./node_modules/cos-js-sdk-v5/src/util.js","webpack://client_admin_v102/./src/components/upload_files/sts_funcs_config.js","webpack://client_admin_v102/./src/components/upload_files/upload_file_requests.js"],"sourcesContent":["// This icon file is generated automatically.\nvar DeleteOutlined = {\n  \"icon\": {\n    \"tag\": \"svg\",\n    \"attrs\": {\n      \"viewBox\": \"64 64 896 896\",\n      \"focusable\": \"false\"\n    },\n    \"children\": [{\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\"\n      }\n    }]\n  },\n  \"name\": \"delete\",\n  \"theme\": \"outlined\"\n};\nexport default DeleteOutlined;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\"; // GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default /*#__PURE__*/React.forwardRef(DeleteOutlined);","// This icon file is generated automatically.\nvar UploadOutlined = {\n  \"icon\": {\n    \"tag\": \"svg\",\n    \"attrs\": {\n      \"viewBox\": \"64 64 896 896\",\n      \"focusable\": \"false\"\n    },\n    \"children\": [{\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\"\n      }\n    }]\n  },\n  \"name\": \"upload\",\n  \"theme\": \"outlined\"\n};\nexport default UploadOutlined;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\"; // GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport UploadOutlinedSvg from \"@ant-design/icons-svg/es/asn/UploadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UploadOutlined = function UploadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: UploadOutlinedSvg\n  }));\n};\n\nUploadOutlined.displayName = 'UploadOutlined';\nexport default /*#__PURE__*/React.forwardRef(UploadOutlined);","'use strict';\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\n\nfunction freeze(object, oc) {\n  if (oc === undefined) {\n    oc = Object;\n  }\n\n  return oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object;\n}\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\n\n\nfunction assign(target, source) {\n  if (target === null || typeof target !== 'object') {\n    throw new TypeError('target is not an object');\n  }\n\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\n\n\nvar MIME_TYPE = freeze({\n  /**\n   * `text/html`, the only mime type that triggers treating an XML document as HTML.\n   *\n   * @see DOMParser.SupportedType.isHTML\n   * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n   * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n   * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n   */\n  HTML: 'text/html',\n\n  /**\n   * Helper method to check a mime type if it indicates an HTML document\n   *\n   * @param {string} [value]\n   * @returns {boolean}\n   *\n   * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n   * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n   * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n  isHTML: function isHTML(value) {\n    return value === MIME_TYPE.HTML;\n  },\n\n  /**\n   * `application/xml`, the standard mime type for XML documents.\n   *\n   * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n   * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n   * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n   */\n  XML_APPLICATION: 'application/xml',\n\n  /**\n   * `text/html`, an alias for `application/xml`.\n   *\n   * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n   * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n   * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n   */\n  XML_TEXT: 'text/xml',\n\n  /**\n   * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n   * but is parsed as an XML document.\n   *\n   * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n   * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n   * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n   */\n  XML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n  /**\n   * `image/svg+xml`,\n   *\n   * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n   * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n   * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n   */\n  XML_SVG_IMAGE: 'image/svg+xml'\n});\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\n\nvar NAMESPACE = freeze({\n  /**\n   * The XHTML namespace.\n   *\n   * @see http://www.w3.org/1999/xhtml\n   */\n  HTML: 'http://www.w3.org/1999/xhtml',\n\n  /**\n   * Checks if `uri` equals `NAMESPACE.HTML`.\n   *\n   * @param {string} [uri]\n   *\n   * @see NAMESPACE.HTML\n   */\n  isHTML: function isHTML(uri) {\n    return uri === NAMESPACE.HTML;\n  },\n\n  /**\n   * The SVG namespace.\n   *\n   * @see http://www.w3.org/2000/svg\n   */\n  SVG: 'http://www.w3.org/2000/svg',\n\n  /**\n   * The `xml:` namespace.\n   *\n   * @see http://www.w3.org/XML/1998/namespace\n   */\n  XML: 'http://www.w3.org/XML/1998/namespace',\n\n  /**\n   * The `xmlns:` namespace\n   *\n   * @see https://www.w3.org/2000/xmlns/\n   */\n  XMLNS: 'http://www.w3.org/2000/xmlns/'\n});\nexports.assign = assign;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;","var conventions = require(\"./conventions\");\n\nvar dom = require('./dom');\n\nvar entities = require('./entities');\n\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\nvar NAMESPACE = conventions.NAMESPACE;\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\n\nfunction normalizeLineEndings(input) {\n  return input.replace(/\\r[\\n\\u0085]/g, '\\n').replace(/[\\r\\u0085\\u2028]/g, '\\n');\n}\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\n\n\nfunction DOMParser(options) {\n  this.options = options || {\n    locator: {}\n  };\n}\n\nDOMParser.prototype.parseFromString = function (source, mimeType) {\n  var options = this.options;\n  var sax = new XMLReader();\n  var domBuilder = options.domBuilder || new DOMHandler(); //contentHandler and LexicalHandler\n\n  var errorHandler = options.errorHandler;\n  var locator = options.locator;\n  var defaultNSMap = options.xmlns || {};\n  var isHTML = /\\/x?html?$/.test(mimeType); //mimeType.toLowerCase().indexOf('html') > -1;\n\n  var entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\n  if (locator) {\n    domBuilder.setDocumentLocator(locator);\n  }\n\n  sax.errorHandler = buildErrorHandler(errorHandler, domBuilder, locator);\n  sax.domBuilder = options.domBuilder || domBuilder;\n\n  if (isHTML) {\n    defaultNSMap[''] = NAMESPACE.HTML;\n  }\n\n  defaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n  var normalize = options.normalizeLineEndings || normalizeLineEndings;\n\n  if (source && typeof source === 'string') {\n    sax.parse(normalize(source), defaultNSMap, entityMap);\n  } else {\n    sax.errorHandler.error('invalid doc source');\n  }\n\n  return domBuilder.doc;\n};\n\nfunction buildErrorHandler(errorImpl, domBuilder, locator) {\n  if (!errorImpl) {\n    if (domBuilder instanceof DOMHandler) {\n      return domBuilder;\n    }\n\n    errorImpl = domBuilder;\n  }\n\n  var errorHandler = {};\n  var isCallback = errorImpl instanceof Function;\n  locator = locator || {};\n\n  function build(key) {\n    var fn = errorImpl[key];\n\n    if (!fn && isCallback) {\n      fn = errorImpl.length == 2 ? function (msg) {\n        errorImpl(key, msg);\n      } : errorImpl;\n    }\n\n    errorHandler[key] = fn && function (msg) {\n      fn('[xmldom ' + key + ']\\t' + msg + _locator(locator));\n    } || function () {};\n  }\n\n  build('warning');\n  build('error');\n  build('fatalError');\n  return errorHandler;\n} //console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\n\n\nfunction DOMHandler() {\n  this.cdata = false;\n}\n\nfunction position(locator, node) {\n  node.lineNumber = locator.lineNumber;\n  node.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\n\n\nDOMHandler.prototype = {\n  startDocument: function startDocument() {\n    this.doc = new DOMImplementation().createDocument(null, null, null);\n\n    if (this.locator) {\n      this.doc.documentURI = this.locator.systemId;\n    }\n  },\n  startElement: function startElement(namespaceURI, localName, qName, attrs) {\n    var doc = this.doc;\n    var el = doc.createElementNS(namespaceURI, qName || localName);\n    var len = attrs.length;\n    appendElement(this, el);\n    this.currentElement = el;\n    this.locator && position(this.locator, el);\n\n    for (var i = 0; i < len; i++) {\n      var namespaceURI = attrs.getURI(i);\n      var value = attrs.getValue(i);\n      var qName = attrs.getQName(i);\n      var attr = doc.createAttributeNS(namespaceURI, qName);\n      this.locator && position(attrs.getLocator(i), attr);\n      attr.value = attr.nodeValue = value;\n      el.setAttributeNode(attr);\n    }\n  },\n  endElement: function endElement(namespaceURI, localName, qName) {\n    var current = this.currentElement;\n    var tagName = current.tagName;\n    this.currentElement = current.parentNode;\n  },\n  startPrefixMapping: function startPrefixMapping(prefix, uri) {},\n  endPrefixMapping: function endPrefixMapping(prefix) {},\n  processingInstruction: function processingInstruction(target, data) {\n    var ins = this.doc.createProcessingInstruction(target, data);\n    this.locator && position(this.locator, ins);\n    appendElement(this, ins);\n  },\n  ignorableWhitespace: function ignorableWhitespace(ch, start, length) {},\n  characters: function characters(chars, start, length) {\n    chars = _toString.apply(this, arguments); //console.log(chars)\n\n    if (chars) {\n      if (this.cdata) {\n        var charNode = this.doc.createCDATASection(chars);\n      } else {\n        var charNode = this.doc.createTextNode(chars);\n      }\n\n      if (this.currentElement) {\n        this.currentElement.appendChild(charNode);\n      } else if (/^\\s*$/.test(chars)) {\n        this.doc.appendChild(charNode); //process xml\n      }\n\n      this.locator && position(this.locator, charNode);\n    }\n  },\n  skippedEntity: function skippedEntity(name) {},\n  endDocument: function endDocument() {\n    this.doc.normalize();\n  },\n  setDocumentLocator: function setDocumentLocator(locator) {\n    if (this.locator = locator) {\n      // && !('lineNumber' in locator)){\n      locator.lineNumber = 0;\n    }\n  },\n  //LexicalHandler\n  comment: function comment(chars, start, length) {\n    chars = _toString.apply(this, arguments);\n    var comm = this.doc.createComment(chars);\n    this.locator && position(this.locator, comm);\n    appendElement(this, comm);\n  },\n  startCDATA: function startCDATA() {\n    //used in characters() methods\n    this.cdata = true;\n  },\n  endCDATA: function endCDATA() {\n    this.cdata = false;\n  },\n  startDTD: function startDTD(name, publicId, systemId) {\n    var impl = this.doc.implementation;\n\n    if (impl && impl.createDocumentType) {\n      var dt = impl.createDocumentType(name, publicId, systemId);\n      this.locator && position(this.locator, dt);\n      appendElement(this, dt);\n      this.doc.doctype = dt;\n    }\n  },\n\n  /**\n   * @see org.xml.sax.ErrorHandler\n   * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n   */\n  warning: function warning(error) {\n    console.warn('[xmldom warning]\\t' + error, _locator(this.locator));\n  },\n  error: function error(_error) {\n    console.error('[xmldom error]\\t' + _error, _locator(this.locator));\n  },\n  fatalError: function fatalError(error) {\n    throw new ParseError(error, this.locator);\n  }\n};\n\nfunction _locator(l) {\n  if (l) {\n    return '\\n@' + (l.systemId || '') + '#[line:' + l.lineNumber + ',col:' + l.columnNumber + ']';\n  }\n}\n\nfunction _toString(chars, start, length) {\n  if (typeof chars == 'string') {\n    return chars.substr(start, length);\n  } else {\n    //java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n    if (chars.length >= start + length || start) {\n      return new java.lang.String(chars, start, length) + '';\n    }\n\n    return chars;\n  }\n}\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\n\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g, function (key) {\n  DOMHandler.prototype[key] = function () {\n    return null;\n  };\n});\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\n\nfunction appendElement(hander, node) {\n  if (!hander.currentElement) {\n    hander.doc.appendChild(node);\n  } else {\n    hander.currentElement.appendChild(node);\n  }\n} //appendChild and setAttributeNS are preformance key\n\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;","var conventions = require(\"./conventions\");\n\nvar NAMESPACE = conventions.NAMESPACE;\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\n\nfunction notEmptyString(input) {\n  return input !== '';\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\n\n\nfunction splitOnASCIIWhitespace(input) {\n  // U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n  return input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : [];\n}\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\n\n\nfunction orderedSetReducer(current, element) {\n  if (!current.hasOwnProperty(element)) {\n    current[element] = true;\n  }\n\n  return current;\n}\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\n\n\nfunction toOrderedSet(input) {\n  if (!input) return [];\n  var list = splitOnASCIIWhitespace(input);\n  return Object.keys(list.reduce(orderedSetReducer, {}));\n}\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\n\n\nfunction arrayIncludes(list) {\n  return function (element) {\n    return list && list.indexOf(element) !== -1;\n  };\n}\n\nfunction copy(src, dest) {\n  for (var p in src) {\n    dest[p] = src[p];\n  }\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\n\n\nfunction _extends(Class, Super) {\n  var pt = Class.prototype;\n\n  if (!(pt instanceof Super)) {\n    var t = function t() {};\n\n    ;\n    t.prototype = Super.prototype;\n    t = new t();\n    copy(pt, t);\n    Class.prototype = pt = t;\n  }\n\n  if (pt.constructor != Class) {\n    if (typeof Class != 'function') {\n      console.error(\"unknown Class:\" + Class);\n    }\n\n    pt.constructor = Class;\n  }\n} // Node Types\n\n\nvar NodeType = {};\nvar ELEMENT_NODE = NodeType.ELEMENT_NODE = 1;\nvar ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2;\nvar TEXT_NODE = NodeType.TEXT_NODE = 3;\nvar CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4;\nvar ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5;\nvar ENTITY_NODE = NodeType.ENTITY_NODE = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE = NodeType.COMMENT_NODE = 8;\nvar DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9;\nvar DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10;\nvar DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11;\nvar NOTATION_NODE = NodeType.NOTATION_NODE = 12; // ExceptionCode\n\nvar ExceptionCode = {};\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = (ExceptionMessage[1] = \"Index size error\", 1);\nvar DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = (ExceptionMessage[2] = \"DOMString size error\", 2);\nvar HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = (ExceptionMessage[3] = \"Hierarchy request error\", 3);\nvar WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = (ExceptionMessage[4] = \"Wrong document\", 4);\nvar INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = (ExceptionMessage[5] = \"Invalid character\", 5);\nvar NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = (ExceptionMessage[6] = \"No data allowed\", 6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = (ExceptionMessage[7] = \"No modification allowed\", 7);\nvar NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = (ExceptionMessage[8] = \"Not found\", 8);\nvar NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = (ExceptionMessage[9] = \"Not supported\", 9);\nvar INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = (ExceptionMessage[10] = \"Attribute in use\", 10); //level2\n\nvar INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = (ExceptionMessage[11] = \"Invalid state\", 11);\nvar SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = (ExceptionMessage[12] = \"Syntax error\", 12);\nvar INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = (ExceptionMessage[13] = \"Invalid modification\", 13);\nvar NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = (ExceptionMessage[14] = \"Invalid namespace\", 14);\nvar INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = (ExceptionMessage[15] = \"Invalid access\", 15);\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\n\nfunction DOMException(code, message) {\n  if (message instanceof Error) {\n    var error = message;\n  } else {\n    error = this;\n    Error.call(this, ExceptionMessage[code]);\n    this.message = ExceptionMessage[code];\n    if (Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n  }\n\n  error.code = code;\n  if (message) this.message = this.message + \": \" + message;\n  return error;\n}\n\n;\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode, DOMException);\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\n\nfunction NodeList() {}\n\n;\nNodeList.prototype = {\n  /**\n   * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n   * @standard level1\n   */\n  length: 0,\n\n  /**\n   * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n   * @standard level1\n   * @param index  unsigned long \n   *   Index into the collection.\n   * @return Node\n   * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n   */\n  item: function item(index) {\n    return this[index] || null;\n  },\n  toString: function toString(isHTML, nodeFilter) {\n    for (var buf = [], i = 0; i < this.length; i++) {\n      serializeToString(this[i], buf, isHTML, nodeFilter);\n    }\n\n    return buf.join('');\n  }\n};\n\nfunction LiveNodeList(node, refresh) {\n  this._node = node;\n  this._refresh = refresh;\n\n  _updateLiveList(this);\n}\n\nfunction _updateLiveList(list) {\n  var inc = list._node._inc || list._node.ownerDocument._inc;\n\n  if (list._inc != inc) {\n    var ls = list._refresh(list._node); //console.log(ls.length)\n\n\n    __set__(list, 'length', ls.length);\n\n    copy(ls, list);\n    list._inc = inc;\n  }\n}\n\nLiveNodeList.prototype.item = function (i) {\n  _updateLiveList(this);\n\n  return this[i];\n};\n\n_extends(LiveNodeList, NodeList);\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\n\n\nfunction NamedNodeMap() {}\n\n;\n\nfunction _findNodeIndex(list, node) {\n  var i = list.length;\n\n  while (i--) {\n    if (list[i] === node) {\n      return i;\n    }\n  }\n}\n\nfunction _addNamedNode(el, list, newAttr, oldAttr) {\n  if (oldAttr) {\n    list[_findNodeIndex(list, oldAttr)] = newAttr;\n  } else {\n    list[list.length++] = newAttr;\n  }\n\n  if (el) {\n    newAttr.ownerElement = el;\n    var doc = el.ownerDocument;\n\n    if (doc) {\n      oldAttr && _onRemoveAttribute(doc, el, oldAttr);\n\n      _onAddAttribute(doc, el, newAttr);\n    }\n  }\n}\n\nfunction _removeNamedNode(el, list, attr) {\n  //console.log('remove attr:'+attr)\n  var i = _findNodeIndex(list, attr);\n\n  if (i >= 0) {\n    var lastIndex = list.length - 1;\n\n    while (i < lastIndex) {\n      list[i] = list[++i];\n    }\n\n    list.length = lastIndex;\n\n    if (el) {\n      var doc = el.ownerDocument;\n\n      if (doc) {\n        _onRemoveAttribute(doc, el, attr);\n\n        attr.ownerElement = null;\n      }\n    }\n  } else {\n    throw DOMException(NOT_FOUND_ERR, new Error(el.tagName + '@' + attr));\n  }\n}\n\nNamedNodeMap.prototype = {\n  length: 0,\n  item: NodeList.prototype.item,\n  getNamedItem: function getNamedItem(key) {\n    //\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n    //\t\t\treturn null;\n    //\t\t}\n    //console.log()\n    var i = this.length;\n\n    while (i--) {\n      var attr = this[i]; //console.log(attr.nodeName,key)\n\n      if (attr.nodeName == key) {\n        return attr;\n      }\n    }\n  },\n  setNamedItem: function setNamedItem(attr) {\n    var el = attr.ownerElement;\n\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR);\n    }\n\n    var oldAttr = this.getNamedItem(attr.nodeName);\n\n    _addNamedNode(this._ownerElement, this, attr, oldAttr);\n\n    return oldAttr;\n  },\n\n  /* returns Node */\n  setNamedItemNS: function setNamedItemNS(attr) {\n    // raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n    var el = attr.ownerElement,\n        oldAttr;\n\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR);\n    }\n\n    oldAttr = this.getNamedItemNS(attr.namespaceURI, attr.localName);\n\n    _addNamedNode(this._ownerElement, this, attr, oldAttr);\n\n    return oldAttr;\n  },\n\n  /* returns Node */\n  removeNamedItem: function removeNamedItem(key) {\n    var attr = this.getNamedItem(key);\n\n    _removeNamedNode(this._ownerElement, this, attr);\n\n    return attr;\n  },\n  // raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n  //for level2\n  removeNamedItemNS: function removeNamedItemNS(namespaceURI, localName) {\n    var attr = this.getNamedItemNS(namespaceURI, localName);\n\n    _removeNamedNode(this._ownerElement, this, attr);\n\n    return attr;\n  },\n  getNamedItemNS: function getNamedItemNS(namespaceURI, localName) {\n    var i = this.length;\n\n    while (i--) {\n      var node = this[i];\n\n      if (node.localName == localName && node.namespaceURI == namespaceURI) {\n        return node;\n      }\n    }\n\n    return null;\n  }\n};\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\n\nfunction DOMImplementation() {}\n\nDOMImplementation.prototype = {\n  /**\n   * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n   * The different implementations fairly diverged in what kind of features were reported.\n   * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n   *\n   * @deprecated It is deprecated and modern browsers return true in all cases.\n   *\n   * @param {string} feature\n   * @param {string} [version]\n   * @returns {boolean} always true\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n   * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n   * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n   */\n  hasFeature: function hasFeature(feature, version) {\n    return true;\n  },\n\n  /**\n   * Creates an XML Document object of the specified type with its document element.\n   *\n   * __It behaves slightly different from the description in the living standard__:\n   * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n   * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n   * - this implementation is not validating names or qualified names\n   *   (when parsing XML strings, the SAX parser takes care of that)\n   *\n   * @param {string|null} namespaceURI\n   * @param {string} qualifiedName\n   * @param {DocumentType=null} doctype\n   * @returns {Document}\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n   * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n   * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n   *\n   * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n   * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n   * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n   */\n  createDocument: function createDocument(namespaceURI, qualifiedName, doctype) {\n    var doc = new Document();\n    doc.implementation = this;\n    doc.childNodes = new NodeList();\n    doc.doctype = doctype || null;\n\n    if (doctype) {\n      doc.appendChild(doctype);\n    }\n\n    if (qualifiedName) {\n      var root = doc.createElementNS(namespaceURI, qualifiedName);\n      doc.appendChild(root);\n    }\n\n    return doc;\n  },\n\n  /**\n   * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n   *\n   * __This behavior is slightly different from the in the specs__:\n   * - this implementation is not validating names or qualified names\n   *   (when parsing XML strings, the SAX parser takes care of that)\n   *\n   * @param {string} qualifiedName\n   * @param {string} [publicId]\n   * @param {string} [systemId]\n   * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n   * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n   * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n   * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n   *\n   * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n   * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n   * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n   */\n  createDocumentType: function createDocumentType(qualifiedName, publicId, systemId) {\n    var node = new DocumentType();\n    node.name = qualifiedName;\n    node.nodeName = qualifiedName;\n    node.publicId = publicId || '';\n    node.systemId = systemId || '';\n    return node;\n  }\n};\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {}\n\n;\nNode.prototype = {\n  firstChild: null,\n  lastChild: null,\n  previousSibling: null,\n  nextSibling: null,\n  attributes: null,\n  parentNode: null,\n  childNodes: null,\n  ownerDocument: null,\n  nodeValue: null,\n  namespaceURI: null,\n  prefix: null,\n  localName: null,\n  // Modified in DOM Level 2:\n  insertBefore: function insertBefore(newChild, refChild) {\n    //raises \n    return _insertBefore(this, newChild, refChild);\n  },\n  replaceChild: function replaceChild(newChild, oldChild) {\n    //raises \n    this.insertBefore(newChild, oldChild);\n\n    if (oldChild) {\n      this.removeChild(oldChild);\n    }\n  },\n  removeChild: function removeChild(oldChild) {\n    return _removeChild(this, oldChild);\n  },\n  appendChild: function appendChild(newChild) {\n    return this.insertBefore(newChild, null);\n  },\n  hasChildNodes: function hasChildNodes() {\n    return this.firstChild != null;\n  },\n  cloneNode: function cloneNode(deep) {\n    return _cloneNode(this.ownerDocument || this, this, deep);\n  },\n  // Modified in DOM Level 2:\n  normalize: function normalize() {\n    var child = this.firstChild;\n\n    while (child) {\n      var next = child.nextSibling;\n\n      if (next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE) {\n        this.removeChild(next);\n        child.appendData(next.data);\n      } else {\n        child.normalize();\n        child = next;\n      }\n    }\n  },\n  // Introduced in DOM Level 2:\n  isSupported: function isSupported(feature, version) {\n    return this.ownerDocument.implementation.hasFeature(feature, version);\n  },\n  // Introduced in DOM Level 2:\n  hasAttributes: function hasAttributes() {\n    return this.attributes.length > 0;\n  },\n\n  /**\n   * Look up the prefix associated to the given namespace URI, starting from this node.\n   * **The default namespace declarations are ignored by this method.**\n   * See Namespace Prefix Lookup for details on the algorithm used by this method.\n   *\n   * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n   *\n   * @param {string | null} namespaceURI\n   * @returns {string | null}\n   * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n   * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n   * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n   * @see https://github.com/xmldom/xmldom/issues/322\n   */\n  lookupPrefix: function lookupPrefix(namespaceURI) {\n    var el = this;\n\n    while (el) {\n      var map = el._nsMap; //console.dir(map)\n\n      if (map) {\n        for (var n in map) {\n          if (map[n] == namespaceURI) {\n            return n;\n          }\n        }\n      }\n\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode;\n    }\n\n    return null;\n  },\n  // Introduced in DOM Level 3:\n  lookupNamespaceURI: function lookupNamespaceURI(prefix) {\n    var el = this;\n\n    while (el) {\n      var map = el._nsMap; //console.dir(map)\n\n      if (map) {\n        if (prefix in map) {\n          return map[prefix];\n        }\n      }\n\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode;\n    }\n\n    return null;\n  },\n  // Introduced in DOM Level 3:\n  isDefaultNamespace: function isDefaultNamespace(namespaceURI) {\n    var prefix = this.lookupPrefix(namespaceURI);\n    return prefix == null;\n  }\n};\n\nfunction _xmlEncoder(c) {\n  return c == '<' && '&lt;' || c == '>' && '&gt;' || c == '&' && '&amp;' || c == '\"' && '&quot;' || '&#' + c.charCodeAt() + ';';\n}\n\ncopy(NodeType, Node);\ncopy(NodeType, Node.prototype);\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\n\nfunction _visitNode(node, callback) {\n  if (callback(node)) {\n    return true;\n  }\n\n  if (node = node.firstChild) {\n    do {\n      if (_visitNode(node, callback)) {\n        return true;\n      }\n    } while (node = node.nextSibling);\n  }\n}\n\nfunction Document() {}\n\nfunction _onAddAttribute(doc, el, newAttr) {\n  doc && doc._inc++;\n  var ns = newAttr.namespaceURI;\n\n  if (ns === NAMESPACE.XMLNS) {\n    //update namespace\n    el._nsMap[newAttr.prefix ? newAttr.localName : ''] = newAttr.value;\n  }\n}\n\nfunction _onRemoveAttribute(doc, el, newAttr, remove) {\n  doc && doc._inc++;\n  var ns = newAttr.namespaceURI;\n\n  if (ns === NAMESPACE.XMLNS) {\n    //update namespace\n    delete el._nsMap[newAttr.prefix ? newAttr.localName : ''];\n  }\n}\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\n\n\nfunction _onUpdateChild(doc, el, newChild) {\n  if (doc && doc._inc) {\n    doc._inc++; //update childNodes\n\n    var cs = el.childNodes;\n\n    if (newChild) {\n      cs[cs.length++] = newChild;\n    } else {\n      var child = el.firstChild;\n      var i = 0;\n\n      while (child) {\n        cs[i++] = child;\n        child = child.nextSibling;\n      }\n\n      cs.length = i;\n      delete cs[cs.length];\n    }\n  }\n}\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\n\n\nfunction _removeChild(parentNode, child) {\n  var previous = child.previousSibling;\n  var next = child.nextSibling;\n\n  if (previous) {\n    previous.nextSibling = next;\n  } else {\n    parentNode.firstChild = next;\n  }\n\n  if (next) {\n    next.previousSibling = previous;\n  } else {\n    parentNode.lastChild = previous;\n  }\n\n  child.parentNode = null;\n  child.previousSibling = null;\n  child.nextSibling = null;\n\n  _onUpdateChild(parentNode.ownerDocument, parentNode);\n\n  return child;\n}\n/**\n * preformance key(refChild == null)\n */\n\n\nfunction _insertBefore(parentNode, newChild, nextChild) {\n  var cp = newChild.parentNode;\n\n  if (cp) {\n    cp.removeChild(newChild); //remove and update\n  }\n\n  if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n    var newFirst = newChild.firstChild;\n\n    if (newFirst == null) {\n      return newChild;\n    }\n\n    var newLast = newChild.lastChild;\n  } else {\n    newFirst = newLast = newChild;\n  }\n\n  var pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n  newFirst.previousSibling = pre;\n  newLast.nextSibling = nextChild;\n\n  if (pre) {\n    pre.nextSibling = newFirst;\n  } else {\n    parentNode.firstChild = newFirst;\n  }\n\n  if (nextChild == null) {\n    parentNode.lastChild = newLast;\n  } else {\n    nextChild.previousSibling = newLast;\n  }\n\n  do {\n    newFirst.parentNode = parentNode;\n  } while (newFirst !== newLast && (newFirst = newFirst.nextSibling));\n\n  _onUpdateChild(parentNode.ownerDocument || parentNode, parentNode); //console.log(parentNode.lastChild.nextSibling == null)\n\n\n  if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n    newChild.firstChild = newChild.lastChild = null;\n  }\n\n  return newChild;\n}\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\n\n\nfunction _appendSingleChild(parentNode, newChild) {\n  if (newChild.parentNode) {\n    newChild.parentNode.removeChild(newChild);\n  }\n\n  newChild.parentNode = parentNode;\n  newChild.previousSibling = parentNode.lastChild;\n  newChild.nextSibling = null;\n\n  if (newChild.previousSibling) {\n    newChild.previousSibling.nextSibling = newChild;\n  } else {\n    parentNode.firstChild = newChild;\n  }\n\n  parentNode.lastChild = newChild;\n\n  _onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\n  return newChild;\n}\n\nDocument.prototype = {\n  //implementation : null,\n  nodeName: '#document',\n  nodeType: DOCUMENT_NODE,\n\n  /**\n   * The DocumentType node of the document.\n   *\n   * @readonly\n   * @type DocumentType\n   */\n  doctype: null,\n  documentElement: null,\n  _inc: 1,\n  insertBefore: function insertBefore(newChild, refChild) {\n    //raises\n    if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n      var child = newChild.firstChild;\n\n      while (child) {\n        var next = child.nextSibling;\n        this.insertBefore(child, refChild);\n        child = next;\n      }\n\n      return newChild;\n    }\n\n    if (this.documentElement == null && newChild.nodeType == ELEMENT_NODE) {\n      this.documentElement = newChild;\n    }\n\n    return _insertBefore(this, newChild, refChild), newChild.ownerDocument = this, newChild;\n  },\n  removeChild: function removeChild(oldChild) {\n    if (this.documentElement == oldChild) {\n      this.documentElement = null;\n    }\n\n    return _removeChild(this, oldChild);\n  },\n  // Introduced in DOM Level 2:\n  importNode: function importNode(importedNode, deep) {\n    return _importNode(this, importedNode, deep);\n  },\n  // Introduced in DOM Level 2:\n  getElementById: function getElementById(id) {\n    var rtv = null;\n\n    _visitNode(this.documentElement, function (node) {\n      if (node.nodeType == ELEMENT_NODE) {\n        if (node.getAttribute('id') == id) {\n          rtv = node;\n          return true;\n        }\n      }\n    });\n\n    return rtv;\n  },\n\n  /**\n   * The `getElementsByClassName` method of `Document` interface returns an array-like object\n   * of all child elements which have **all** of the given class name(s).\n   *\n   * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n   *\n   *\n   * Warning: This is a live LiveNodeList.\n   * Changes in the DOM will reflect in the array as the changes occur.\n   * If an element selected by this array no longer qualifies for the selector,\n   * it will automatically be removed. Be aware of this for iteration purposes.\n   *\n   * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n   * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n   */\n  getElementsByClassName: function getElementsByClassName(classNames) {\n    var classNamesSet = toOrderedSet(classNames);\n    return new LiveNodeList(this, function (base) {\n      var ls = [];\n\n      if (classNamesSet.length > 0) {\n        _visitNode(base.documentElement, function (node) {\n          if (node !== base && node.nodeType === ELEMENT_NODE) {\n            var nodeClassNames = node.getAttribute('class'); // can be null if the attribute does not exist\n\n            if (nodeClassNames) {\n              // before splitting and iterating just compare them for the most common case\n              var matches = classNames === nodeClassNames;\n\n              if (!matches) {\n                var nodeClassNamesSet = toOrderedSet(nodeClassNames);\n                matches = classNamesSet.every(arrayIncludes(nodeClassNamesSet));\n              }\n\n              if (matches) {\n                ls.push(node);\n              }\n            }\n          }\n        });\n      }\n\n      return ls;\n    });\n  },\n  //document factory method:\n  createElement: function createElement(tagName) {\n    var node = new Element();\n    node.ownerDocument = this;\n    node.nodeName = tagName;\n    node.tagName = tagName;\n    node.localName = tagName;\n    node.childNodes = new NodeList();\n    var attrs = node.attributes = new NamedNodeMap();\n    attrs._ownerElement = node;\n    return node;\n  },\n  createDocumentFragment: function createDocumentFragment() {\n    var node = new DocumentFragment();\n    node.ownerDocument = this;\n    node.childNodes = new NodeList();\n    return node;\n  },\n  createTextNode: function createTextNode(data) {\n    var node = new Text();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createComment: function createComment(data) {\n    var node = new Comment();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createCDATASection: function createCDATASection(data) {\n    var node = new CDATASection();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createProcessingInstruction: function createProcessingInstruction(target, data) {\n    var node = new ProcessingInstruction();\n    node.ownerDocument = this;\n    node.tagName = node.target = target;\n    node.nodeValue = node.data = data;\n    return node;\n  },\n  createAttribute: function createAttribute(name) {\n    var node = new Attr();\n    node.ownerDocument = this;\n    node.name = name;\n    node.nodeName = name;\n    node.localName = name;\n    node.specified = true;\n    return node;\n  },\n  createEntityReference: function createEntityReference(name) {\n    var node = new EntityReference();\n    node.ownerDocument = this;\n    node.nodeName = name;\n    return node;\n  },\n  // Introduced in DOM Level 2:\n  createElementNS: function createElementNS(namespaceURI, qualifiedName) {\n    var node = new Element();\n    var pl = qualifiedName.split(':');\n    var attrs = node.attributes = new NamedNodeMap();\n    node.childNodes = new NodeList();\n    node.ownerDocument = this;\n    node.nodeName = qualifiedName;\n    node.tagName = qualifiedName;\n    node.namespaceURI = namespaceURI;\n\n    if (pl.length == 2) {\n      node.prefix = pl[0];\n      node.localName = pl[1];\n    } else {\n      //el.prefix = null;\n      node.localName = qualifiedName;\n    }\n\n    attrs._ownerElement = node;\n    return node;\n  },\n  // Introduced in DOM Level 2:\n  createAttributeNS: function createAttributeNS(namespaceURI, qualifiedName) {\n    var node = new Attr();\n    var pl = qualifiedName.split(':');\n    node.ownerDocument = this;\n    node.nodeName = qualifiedName;\n    node.name = qualifiedName;\n    node.namespaceURI = namespaceURI;\n    node.specified = true;\n\n    if (pl.length == 2) {\n      node.prefix = pl[0];\n      node.localName = pl[1];\n    } else {\n      //el.prefix = null;\n      node.localName = qualifiedName;\n    }\n\n    return node;\n  }\n};\n\n_extends(Document, Node);\n\nfunction Element() {\n  this._nsMap = {};\n}\n\n;\nElement.prototype = {\n  nodeType: ELEMENT_NODE,\n  hasAttribute: function hasAttribute(name) {\n    return this.getAttributeNode(name) != null;\n  },\n  getAttribute: function getAttribute(name) {\n    var attr = this.getAttributeNode(name);\n    return attr && attr.value || '';\n  },\n  getAttributeNode: function getAttributeNode(name) {\n    return this.attributes.getNamedItem(name);\n  },\n  setAttribute: function setAttribute(name, value) {\n    var attr = this.ownerDocument.createAttribute(name);\n    attr.value = attr.nodeValue = \"\" + value;\n    this.setAttributeNode(attr);\n  },\n  removeAttribute: function removeAttribute(name) {\n    var attr = this.getAttributeNode(name);\n    attr && this.removeAttributeNode(attr);\n  },\n  //four real opeartion method\n  appendChild: function appendChild(newChild) {\n    if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return this.insertBefore(newChild, null);\n    } else {\n      return _appendSingleChild(this, newChild);\n    }\n  },\n  setAttributeNode: function setAttributeNode(newAttr) {\n    return this.attributes.setNamedItem(newAttr);\n  },\n  setAttributeNodeNS: function setAttributeNodeNS(newAttr) {\n    return this.attributes.setNamedItemNS(newAttr);\n  },\n  removeAttributeNode: function removeAttributeNode(oldAttr) {\n    //console.log(this == oldAttr.ownerElement)\n    return this.attributes.removeNamedItem(oldAttr.nodeName);\n  },\n  //get real attribute name,and remove it by removeAttributeNode\n  removeAttributeNS: function removeAttributeNS(namespaceURI, localName) {\n    var old = this.getAttributeNodeNS(namespaceURI, localName);\n    old && this.removeAttributeNode(old);\n  },\n  hasAttributeNS: function hasAttributeNS(namespaceURI, localName) {\n    return this.getAttributeNodeNS(namespaceURI, localName) != null;\n  },\n  getAttributeNS: function getAttributeNS(namespaceURI, localName) {\n    var attr = this.getAttributeNodeNS(namespaceURI, localName);\n    return attr && attr.value || '';\n  },\n  setAttributeNS: function setAttributeNS(namespaceURI, qualifiedName, value) {\n    var attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n    attr.value = attr.nodeValue = \"\" + value;\n    this.setAttributeNode(attr);\n  },\n  getAttributeNodeNS: function getAttributeNodeNS(namespaceURI, localName) {\n    return this.attributes.getNamedItemNS(namespaceURI, localName);\n  },\n  getElementsByTagName: function getElementsByTagName(tagName) {\n    return new LiveNodeList(this, function (base) {\n      var ls = [];\n\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)) {\n          ls.push(node);\n        }\n      });\n\n      return ls;\n    });\n  },\n  getElementsByTagNameNS: function getElementsByTagNameNS(namespaceURI, localName) {\n    return new LiveNodeList(this, function (base) {\n      var ls = [];\n\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)) {\n          ls.push(node);\n        }\n      });\n\n      return ls;\n    });\n  }\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n_extends(Element, Node);\n\nfunction Attr() {}\n\n;\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n\n_extends(Attr, Node);\n\nfunction CharacterData() {}\n\n;\nCharacterData.prototype = {\n  data: '',\n  substringData: function substringData(offset, count) {\n    return this.data.substring(offset, offset + count);\n  },\n  appendData: function appendData(text) {\n    text = this.data + text;\n    this.nodeValue = this.data = text;\n    this.length = text.length;\n  },\n  insertData: function insertData(offset, text) {\n    this.replaceData(offset, 0, text);\n  },\n  appendChild: function appendChild(newChild) {\n    throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR]);\n  },\n  deleteData: function deleteData(offset, count) {\n    this.replaceData(offset, count, \"\");\n  },\n  replaceData: function replaceData(offset, count, text) {\n    var start = this.data.substring(0, offset);\n    var end = this.data.substring(offset + count);\n    text = start + text + end;\n    this.nodeValue = this.data = text;\n    this.length = text.length;\n  }\n};\n\n_extends(CharacterData, Node);\n\nfunction Text() {}\n\n;\nText.prototype = {\n  nodeName: \"#text\",\n  nodeType: TEXT_NODE,\n  splitText: function splitText(offset) {\n    var text = this.data;\n    var newText = text.substring(offset);\n    text = text.substring(0, offset);\n    this.data = this.nodeValue = text;\n    this.length = text.length;\n    var newNode = this.ownerDocument.createTextNode(newText);\n\n    if (this.parentNode) {\n      this.parentNode.insertBefore(newNode, this.nextSibling);\n    }\n\n    return newNode;\n  }\n};\n\n_extends(Text, CharacterData);\n\nfunction Comment() {}\n\n;\nComment.prototype = {\n  nodeName: \"#comment\",\n  nodeType: COMMENT_NODE\n};\n\n_extends(Comment, CharacterData);\n\nfunction CDATASection() {}\n\n;\nCDATASection.prototype = {\n  nodeName: \"#cdata-section\",\n  nodeType: CDATA_SECTION_NODE\n};\n\n_extends(CDATASection, CharacterData);\n\nfunction DocumentType() {}\n\n;\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n\n_extends(DocumentType, Node);\n\nfunction Notation() {}\n\n;\nNotation.prototype.nodeType = NOTATION_NODE;\n\n_extends(Notation, Node);\n\nfunction Entity() {}\n\n;\nEntity.prototype.nodeType = ENTITY_NODE;\n\n_extends(Entity, Node);\n\nfunction EntityReference() {}\n\n;\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n\n_extends(EntityReference, Node);\n\nfunction DocumentFragment() {}\n\n;\nDocumentFragment.prototype.nodeName = \"#document-fragment\";\nDocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE;\n\n_extends(DocumentFragment, Node);\n\nfunction ProcessingInstruction() {}\n\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n\n_extends(ProcessingInstruction, Node);\n\nfunction XMLSerializer() {}\n\nXMLSerializer.prototype.serializeToString = function (node, isHtml, nodeFilter) {\n  return nodeSerializeToString.call(node, isHtml, nodeFilter);\n};\n\nNode.prototype.toString = nodeSerializeToString;\n\nfunction nodeSerializeToString(isHtml, nodeFilter) {\n  var buf = [];\n  var refNode = this.nodeType == 9 && this.documentElement || this;\n  var prefix = refNode.prefix;\n  var uri = refNode.namespaceURI;\n\n  if (uri && prefix == null) {\n    //console.log(prefix)\n    var prefix = refNode.lookupPrefix(uri);\n\n    if (prefix == null) {\n      //isHTML = true;\n      var visibleNamespaces = [{\n        namespace: uri,\n        prefix: null\n      } //{namespace:uri,prefix:''}\n      ];\n    }\n  }\n\n  serializeToString(this, buf, isHtml, nodeFilter, visibleNamespaces); //console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\n  return buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n  var prefix = node.prefix || '';\n  var uri = node.namespaceURI; // According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n  // and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n  // > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n  // in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n  // and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n  // > [...] Furthermore, the attribute value [...] must not be an empty string.\n  // so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\n  if (!uri) {\n    return false;\n  }\n\n  if (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n    return false;\n  }\n\n  var i = visibleNamespaces.length;\n\n  while (i--) {\n    var ns = visibleNamespaces[i]; // get namespace prefix\n\n    if (ns.prefix === prefix) {\n      return ns.namespace !== uri;\n    }\n  }\n\n  return true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\n\n\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n  buf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"');\n}\n\nfunction serializeToString(node, buf, isHTML, nodeFilter, visibleNamespaces) {\n  if (!visibleNamespaces) {\n    visibleNamespaces = [];\n  }\n\n  if (nodeFilter) {\n    node = nodeFilter(node);\n\n    if (node) {\n      if (typeof node == 'string') {\n        buf.push(node);\n        return;\n      }\n    } else {\n      return;\n    } //buf.sort.apply(attrs, attributeSorter);\n\n  }\n\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      var attrs = node.attributes;\n      var len = attrs.length;\n      var child = node.firstChild;\n      var nodeName = node.tagName;\n      isHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML;\n      var prefixedNodeName = nodeName;\n\n      if (!isHTML && !node.prefix && node.namespaceURI) {\n        var defaultNS; // lookup current default ns from `xmlns` attribute\n\n        for (var ai = 0; ai < attrs.length; ai++) {\n          if (attrs.item(ai).name === 'xmlns') {\n            defaultNS = attrs.item(ai).value;\n            break;\n          }\n        }\n\n        if (!defaultNS) {\n          // lookup current default ns in visibleNamespaces\n          for (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n            var namespace = visibleNamespaces[nsi];\n\n            if (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n              defaultNS = namespace.namespace;\n              break;\n            }\n          }\n        }\n\n        if (defaultNS !== node.namespaceURI) {\n          for (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n            var namespace = visibleNamespaces[nsi];\n\n            if (namespace.namespace === node.namespaceURI) {\n              if (namespace.prefix) {\n                prefixedNodeName = namespace.prefix + ':' + nodeName;\n              }\n\n              break;\n            }\n          }\n        }\n      }\n\n      buf.push('<', prefixedNodeName);\n\n      for (var i = 0; i < len; i++) {\n        // add namespaces for attributes\n        var attr = attrs.item(i);\n\n        if (attr.prefix == 'xmlns') {\n          visibleNamespaces.push({\n            prefix: attr.localName,\n            namespace: attr.value\n          });\n        } else if (attr.nodeName == 'xmlns') {\n          visibleNamespaces.push({\n            prefix: '',\n            namespace: attr.value\n          });\n        }\n      }\n\n      for (var i = 0; i < len; i++) {\n        var attr = attrs.item(i);\n\n        if (needNamespaceDefine(attr, isHTML, visibleNamespaces)) {\n          var prefix = attr.prefix || '';\n          var uri = attr.namespaceURI;\n          addSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n          visibleNamespaces.push({\n            prefix: prefix,\n            namespace: uri\n          });\n        }\n\n        serializeToString(attr, buf, isHTML, nodeFilter, visibleNamespaces);\n      } // add namespace for current node\t\t\n\n\n      if (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n        var prefix = node.prefix || '';\n        var uri = node.namespaceURI;\n        addSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n        visibleNamespaces.push({\n          prefix: prefix,\n          namespace: uri\n        });\n      }\n\n      if (child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)) {\n        buf.push('>'); //if is cdata child node\n\n        if (isHTML && /^script$/i.test(nodeName)) {\n          while (child) {\n            if (child.data) {\n              buf.push(child.data);\n            } else {\n              serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n            }\n\n            child = child.nextSibling;\n          }\n        } else {\n          while (child) {\n            serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n            child = child.nextSibling;\n          }\n        }\n\n        buf.push('</', prefixedNodeName, '>');\n      } else {\n        buf.push('/>');\n      } // remove added visible namespaces\n      //visibleNamespaces.length = startVisibleNamespaces;\n\n\n      return;\n\n    case DOCUMENT_NODE:\n    case DOCUMENT_FRAGMENT_NODE:\n      var child = node.firstChild;\n\n      while (child) {\n        serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n        child = child.nextSibling;\n      }\n\n      return;\n\n    case ATTRIBUTE_NODE:\n      return addSerializedAttribute(buf, node.name, node.value);\n\n    case TEXT_NODE:\n      /**\n       * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n       * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n       * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n       * `&amp;` and `&lt;` respectively.\n       * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n       * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n       * when that string is not marking the end of a CDATA section.\n       *\n       * In the content of elements, character data is any string of characters\n       * which does not contain the start-delimiter of any markup\n       * and does not include the CDATA-section-close delimiter, `]]>`.\n       *\n       * @see https://www.w3.org/TR/xml/#NT-CharData\n       * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n       */\n      return buf.push(node.data.replace(/[<&>]/g, _xmlEncoder));\n\n    case CDATA_SECTION_NODE:\n      return buf.push('<![CDATA[', node.data, ']]>');\n\n    case COMMENT_NODE:\n      return buf.push(\"<!--\", node.data, \"-->\");\n\n    case DOCUMENT_TYPE_NODE:\n      var pubid = node.publicId;\n      var sysid = node.systemId;\n      buf.push('<!DOCTYPE ', node.name);\n\n      if (pubid) {\n        buf.push(' PUBLIC ', pubid);\n\n        if (sysid && sysid != '.') {\n          buf.push(' ', sysid);\n        }\n\n        buf.push('>');\n      } else if (sysid && sysid != '.') {\n        buf.push(' SYSTEM ', sysid, '>');\n      } else {\n        var sub = node.internalSubset;\n\n        if (sub) {\n          buf.push(\" [\", sub, \"]\");\n        }\n\n        buf.push(\">\");\n      }\n\n      return;\n\n    case PROCESSING_INSTRUCTION_NODE:\n      return buf.push(\"<?\", node.target, \" \", node.data, \"?>\");\n\n    case ENTITY_REFERENCE_NODE:\n      return buf.push('&', node.nodeName, ';');\n    //case ENTITY_NODE:\n    //case NOTATION_NODE:\n\n    default:\n      buf.push('??', node.nodeName);\n  }\n}\n\nfunction _importNode(doc, node, deep) {\n  var node2;\n\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      node2 = node.cloneNode(false);\n      node2.ownerDocument = doc;\n    //var attrs = node2.attributes;\n    //var len = attrs.length;\n    //for(var i=0;i<len;i++){\n    //node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n    //}\n\n    case DOCUMENT_FRAGMENT_NODE:\n      break;\n\n    case ATTRIBUTE_NODE:\n      deep = true;\n      break;\n    //case ENTITY_REFERENCE_NODE:\n    //case PROCESSING_INSTRUCTION_NODE:\n    ////case TEXT_NODE:\n    //case CDATA_SECTION_NODE:\n    //case COMMENT_NODE:\n    //\tdeep = false;\n    //\tbreak;\n    //case DOCUMENT_NODE:\n    //case DOCUMENT_TYPE_NODE:\n    //cannot be imported.\n    //case ENTITY_NODE:\n    //case NOTATION_NODE：\n    //can not hit in level3\n    //default:throw e;\n  }\n\n  if (!node2) {\n    node2 = node.cloneNode(false); //false\n  }\n\n  node2.ownerDocument = doc;\n  node2.parentNode = null;\n\n  if (deep) {\n    var child = node.firstChild;\n\n    while (child) {\n      node2.appendChild(_importNode(doc, child, deep));\n      child = child.nextSibling;\n    }\n  }\n\n  return node2;\n} //\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\n\n\nfunction _cloneNode(doc, node, deep) {\n  var node2 = new node.constructor();\n\n  for (var n in node) {\n    var v = node[n];\n\n    if (typeof v != 'object') {\n      if (v != node2[n]) {\n        node2[n] = v;\n      }\n    }\n  }\n\n  if (node.childNodes) {\n    node2.childNodes = new NodeList();\n  }\n\n  node2.ownerDocument = doc;\n\n  switch (node2.nodeType) {\n    case ELEMENT_NODE:\n      var attrs = node.attributes;\n      var attrs2 = node2.attributes = new NamedNodeMap();\n      var len = attrs.length;\n      attrs2._ownerElement = node2;\n\n      for (var i = 0; i < len; i++) {\n        node2.setAttributeNode(_cloneNode(doc, attrs.item(i), true));\n      }\n\n      break;\n      ;\n\n    case ATTRIBUTE_NODE:\n      deep = true;\n  }\n\n  if (deep) {\n    var child = node.firstChild;\n\n    while (child) {\n      node2.appendChild(_cloneNode(doc, child, deep));\n      child = child.nextSibling;\n    }\n  }\n\n  return node2;\n}\n\nfunction __set__(object, key, value) {\n  object[key] = value;\n} //do dynamic\n\n\ntry {\n  if (Object.defineProperty) {\n    var getTextContent = function getTextContent(node) {\n      switch (node.nodeType) {\n        case ELEMENT_NODE:\n        case DOCUMENT_FRAGMENT_NODE:\n          var buf = [];\n          node = node.firstChild;\n\n          while (node) {\n            if (node.nodeType !== 7 && node.nodeType !== 8) {\n              buf.push(getTextContent(node));\n            }\n\n            node = node.nextSibling;\n          }\n\n          return buf.join('');\n\n        default:\n          return node.nodeValue;\n      }\n    };\n\n    Object.defineProperty(LiveNodeList.prototype, 'length', {\n      get: function get() {\n        _updateLiveList(this);\n\n        return this.$$length;\n      }\n    });\n    Object.defineProperty(Node.prototype, 'textContent', {\n      get: function get() {\n        return getTextContent(this);\n      },\n      set: function set(data) {\n        switch (this.nodeType) {\n          case ELEMENT_NODE:\n          case DOCUMENT_FRAGMENT_NODE:\n            while (this.firstChild) {\n              this.removeChild(this.firstChild);\n            }\n\n            if (data || String(data)) {\n              this.appendChild(this.ownerDocument.createTextNode(data));\n            }\n\n            break;\n\n          default:\n            this.data = data;\n            this.value = data;\n            this.nodeValue = data;\n        }\n      }\n    });\n\n    __set__ = function __set__(object, key, value) {\n      //console.log(value)\n      object['$$' + key] = value;\n    };\n  }\n} catch (e) {//ie8\n} //if(typeof require == 'function'){\n\n\nexports.DocumentType = DocumentType;\nexports.DOMException = DOMException;\nexports.DOMImplementation = DOMImplementation;\nexports.Element = Element;\nexports.Node = Node;\nexports.NodeList = NodeList;\nexports.XMLSerializer = XMLSerializer; //}","var freeze = require('./conventions').freeze;\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\n\n\nexports.XML_ENTITIES = freeze({\n  amp: '&',\n  apos: \"'\",\n  gt: '>',\n  lt: '<',\n  quot: '\"'\n});\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\n\nexports.HTML_ENTITIES = freeze({\n  lt: '<',\n  gt: '>',\n  amp: '&',\n  quot: '\"',\n  apos: \"'\",\n  Agrave: \"À\",\n  Aacute: \"Á\",\n  Acirc: \"Â\",\n  Atilde: \"Ã\",\n  Auml: \"Ä\",\n  Aring: \"Å\",\n  AElig: \"Æ\",\n  Ccedil: \"Ç\",\n  Egrave: \"È\",\n  Eacute: \"É\",\n  Ecirc: \"Ê\",\n  Euml: \"Ë\",\n  Igrave: \"Ì\",\n  Iacute: \"Í\",\n  Icirc: \"Î\",\n  Iuml: \"Ï\",\n  ETH: \"Ð\",\n  Ntilde: \"Ñ\",\n  Ograve: \"Ò\",\n  Oacute: \"Ó\",\n  Ocirc: \"Ô\",\n  Otilde: \"Õ\",\n  Ouml: \"Ö\",\n  Oslash: \"Ø\",\n  Ugrave: \"Ù\",\n  Uacute: \"Ú\",\n  Ucirc: \"Û\",\n  Uuml: \"Ü\",\n  Yacute: \"Ý\",\n  THORN: \"Þ\",\n  szlig: \"ß\",\n  agrave: \"à\",\n  aacute: \"á\",\n  acirc: \"â\",\n  atilde: \"ã\",\n  auml: \"ä\",\n  aring: \"å\",\n  aelig: \"æ\",\n  ccedil: \"ç\",\n  egrave: \"è\",\n  eacute: \"é\",\n  ecirc: \"ê\",\n  euml: \"ë\",\n  igrave: \"ì\",\n  iacute: \"í\",\n  icirc: \"î\",\n  iuml: \"ï\",\n  eth: \"ð\",\n  ntilde: \"ñ\",\n  ograve: \"ò\",\n  oacute: \"ó\",\n  ocirc: \"ô\",\n  otilde: \"õ\",\n  ouml: \"ö\",\n  oslash: \"ø\",\n  ugrave: \"ù\",\n  uacute: \"ú\",\n  ucirc: \"û\",\n  uuml: \"ü\",\n  yacute: \"ý\",\n  thorn: \"þ\",\n  yuml: \"ÿ\",\n  nbsp: \"\\xA0\",\n  iexcl: \"¡\",\n  cent: \"¢\",\n  pound: \"£\",\n  curren: \"¤\",\n  yen: \"¥\",\n  brvbar: \"¦\",\n  sect: \"§\",\n  uml: \"¨\",\n  copy: \"©\",\n  ordf: \"ª\",\n  laquo: \"«\",\n  not: \"¬\",\n  shy: \"­­\",\n  reg: \"®\",\n  macr: \"¯\",\n  deg: \"°\",\n  plusmn: \"±\",\n  sup2: \"²\",\n  sup3: \"³\",\n  acute: \"´\",\n  micro: \"µ\",\n  para: \"¶\",\n  middot: \"·\",\n  cedil: \"¸\",\n  sup1: \"¹\",\n  ordm: \"º\",\n  raquo: \"»\",\n  frac14: \"¼\",\n  frac12: \"½\",\n  frac34: \"¾\",\n  iquest: \"¿\",\n  times: \"×\",\n  divide: \"÷\",\n  forall: \"∀\",\n  part: \"∂\",\n  exist: \"∃\",\n  empty: \"∅\",\n  nabla: \"∇\",\n  isin: \"∈\",\n  notin: \"∉\",\n  ni: \"∋\",\n  prod: \"∏\",\n  sum: \"∑\",\n  minus: \"−\",\n  lowast: \"∗\",\n  radic: \"√\",\n  prop: \"∝\",\n  infin: \"∞\",\n  ang: \"∠\",\n  and: \"∧\",\n  or: \"∨\",\n  cap: \"∩\",\n  cup: \"∪\",\n  'int': \"∫\",\n  there4: \"∴\",\n  sim: \"∼\",\n  cong: \"≅\",\n  asymp: \"≈\",\n  ne: \"≠\",\n  equiv: \"≡\",\n  le: \"≤\",\n  ge: \"≥\",\n  sub: \"⊂\",\n  sup: \"⊃\",\n  nsub: \"⊄\",\n  sube: \"⊆\",\n  supe: \"⊇\",\n  oplus: \"⊕\",\n  otimes: \"⊗\",\n  perp: \"⊥\",\n  sdot: \"⋅\",\n  Alpha: \"Α\",\n  Beta: \"Β\",\n  Gamma: \"Γ\",\n  Delta: \"Δ\",\n  Epsilon: \"Ε\",\n  Zeta: \"Ζ\",\n  Eta: \"Η\",\n  Theta: \"Θ\",\n  Iota: \"Ι\",\n  Kappa: \"Κ\",\n  Lambda: \"Λ\",\n  Mu: \"Μ\",\n  Nu: \"Ν\",\n  Xi: \"Ξ\",\n  Omicron: \"Ο\",\n  Pi: \"Π\",\n  Rho: \"Ρ\",\n  Sigma: \"Σ\",\n  Tau: \"Τ\",\n  Upsilon: \"Υ\",\n  Phi: \"Φ\",\n  Chi: \"Χ\",\n  Psi: \"Ψ\",\n  Omega: \"Ω\",\n  alpha: \"α\",\n  beta: \"β\",\n  gamma: \"γ\",\n  delta: \"δ\",\n  epsilon: \"ε\",\n  zeta: \"ζ\",\n  eta: \"η\",\n  theta: \"θ\",\n  iota: \"ι\",\n  kappa: \"κ\",\n  lambda: \"λ\",\n  mu: \"μ\",\n  nu: \"ν\",\n  xi: \"ξ\",\n  omicron: \"ο\",\n  pi: \"π\",\n  rho: \"ρ\",\n  sigmaf: \"ς\",\n  sigma: \"σ\",\n  tau: \"τ\",\n  upsilon: \"υ\",\n  phi: \"φ\",\n  chi: \"χ\",\n  psi: \"ψ\",\n  omega: \"ω\",\n  thetasym: \"ϑ\",\n  upsih: \"ϒ\",\n  piv: \"ϖ\",\n  OElig: \"Œ\",\n  oelig: \"œ\",\n  Scaron: \"Š\",\n  scaron: \"š\",\n  Yuml: \"Ÿ\",\n  fnof: \"ƒ\",\n  circ: \"ˆ\",\n  tilde: \"˜\",\n  ensp: \" \",\n  emsp: \" \",\n  thinsp: \" \",\n  zwnj: \"‌\",\n  zwj: \"‍\",\n  lrm: \"‎\",\n  rlm: \"‏\",\n  ndash: \"–\",\n  mdash: \"—\",\n  lsquo: \"‘\",\n  rsquo: \"’\",\n  sbquo: \"‚\",\n  ldquo: \"“\",\n  rdquo: \"”\",\n  bdquo: \"„\",\n  dagger: \"†\",\n  Dagger: \"‡\",\n  bull: \"•\",\n  hellip: \"…\",\n  permil: \"‰\",\n  prime: \"′\",\n  Prime: \"″\",\n  lsaquo: \"‹\",\n  rsaquo: \"›\",\n  oline: \"‾\",\n  euro: \"€\",\n  trade: \"™\",\n  larr: \"←\",\n  uarr: \"↑\",\n  rarr: \"→\",\n  darr: \"↓\",\n  harr: \"↔\",\n  crarr: \"↵\",\n  lceil: \"⌈\",\n  rceil: \"⌉\",\n  lfloor: \"⌊\",\n  rfloor: \"⌋\",\n  loz: \"◊\",\n  spades: \"♠\",\n  clubs: \"♣\",\n  hearts: \"♥\",\n  diams: \"♦\"\n});\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\n\nexports.entityMap = exports.HTML_ENTITIES;","var dom = require('./dom');\n\nexports.DOMImplementation = dom.DOMImplementation;\nexports.XMLSerializer = dom.XMLSerializer;\nexports.DOMParser = require('./dom-parser').DOMParser;","var NAMESPACE = require(\"./conventions\").NAMESPACE; //[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\n\n\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/; //\\u10000-\\uEFFFF\n\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\" + nameStartChar.source.slice(1, -1) + \"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^' + nameStartChar.source + nameChar.source + '*(?:\\:' + nameStartChar.source + nameChar.source + '*)?$'); //var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\nvar S_TAG = 0; //tag name offerring\n\nvar S_ATTR = 1; //attr name offerring\n\nvar S_ATTR_SPACE = 2; //attr name end and space offer\n\nvar S_EQ = 3; //=space?\n\nvar S_ATTR_NOQUOT_VALUE = 4; //attr value(no quot value only)\n\nvar S_ATTR_END = 5; //attr value end and no space(quot end)\n\nvar S_TAG_SPACE = 6; //(attr value end || tag end ) && (space offer)\n\nvar S_TAG_CLOSE = 7; //closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\n\nfunction ParseError(message, locator) {\n  this.message = message;\n  this.locator = locator;\n  if (Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\n\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name;\n\nfunction XMLReader() {}\n\nXMLReader.prototype = {\n  parse: function parse(source, defaultNSMap, entityMap) {\n    var domBuilder = this.domBuilder;\n    domBuilder.startDocument();\n\n    _copy(defaultNSMap, defaultNSMap = {});\n\n    _parse(source, defaultNSMap, entityMap, domBuilder, this.errorHandler);\n\n    domBuilder.endDocument();\n  }\n};\n\nfunction _parse(source, defaultNSMapCopy, entityMap, domBuilder, errorHandler) {\n  function fixedFromCharCode(code) {\n    // String.prototype.fromCharCode does not supports\n    // > 2 bytes unicode chars directly\n    if (code > 0xffff) {\n      code -= 0x10000;\n      var surrogate1 = 0xd800 + (code >> 10),\n          surrogate2 = 0xdc00 + (code & 0x3ff);\n      return String.fromCharCode(surrogate1, surrogate2);\n    } else {\n      return String.fromCharCode(code);\n    }\n  }\n\n  function entityReplacer(a) {\n    var k = a.slice(1, -1);\n\n    if (Object.hasOwnProperty.call(entityMap, k)) {\n      return entityMap[k];\n    } else if (k.charAt(0) === '#') {\n      return fixedFromCharCode(parseInt(k.substr(1).replace('x', '0x')));\n    } else {\n      errorHandler.error('entity not found:' + a);\n      return a;\n    }\n  }\n\n  function appendText(end) {\n    //has some bugs\n    if (end > start) {\n      var xt = source.substring(start, end).replace(/&#?\\w+;/g, entityReplacer);\n      locator && position(start);\n      domBuilder.characters(xt, 0, end - start);\n      start = end;\n    }\n  }\n\n  function position(p, m) {\n    while (p >= lineEnd && (m = linePattern.exec(source))) {\n      lineStart = m.index;\n      lineEnd = lineStart + m[0].length;\n      locator.lineNumber++; //console.log('line++:',locator,startPos,endPos)\n    }\n\n    locator.columnNumber = p - lineStart + 1;\n  }\n\n  var lineStart = 0;\n  var lineEnd = 0;\n  var linePattern = /.*(?:\\r\\n?|\\n)|.*$/g;\n  var locator = domBuilder.locator;\n  var parseStack = [{\n    currentNSMap: defaultNSMapCopy\n  }];\n  var closeMap = {};\n  var start = 0;\n\n  while (true) {\n    try {\n      var tagStart = source.indexOf('<', start);\n\n      if (tagStart < 0) {\n        if (!source.substr(start).match(/^\\s*$/)) {\n          var doc = domBuilder.doc;\n          var text = doc.createTextNode(source.substr(start));\n          doc.appendChild(text);\n          domBuilder.currentElement = text;\n        }\n\n        return;\n      }\n\n      if (tagStart > start) {\n        appendText(tagStart);\n      }\n\n      switch (source.charAt(tagStart + 1)) {\n        case '/':\n          var end = source.indexOf('>', tagStart + 3);\n          var tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n          var config = parseStack.pop();\n\n          if (end < 0) {\n            tagName = source.substring(tagStart + 2).replace(/[\\s<].*/, '');\n            errorHandler.error(\"end tag name: \" + tagName + ' is not complete:' + config.tagName);\n            end = tagStart + 1 + tagName.length;\n          } else if (tagName.match(/\\s</)) {\n            tagName = tagName.replace(/[\\s<].*/, '');\n            errorHandler.error(\"end tag name: \" + tagName + ' maybe not complete');\n            end = tagStart + 1 + tagName.length;\n          }\n\n          var localNSMap = config.localNSMap;\n          var endMatch = config.tagName == tagName;\n          var endIgnoreCaseMach = endMatch || config.tagName && config.tagName.toLowerCase() == tagName.toLowerCase();\n\n          if (endIgnoreCaseMach) {\n            domBuilder.endElement(config.uri, config.localName, tagName);\n\n            if (localNSMap) {\n              for (var prefix in localNSMap) {\n                domBuilder.endPrefixMapping(prefix);\n              }\n            }\n\n            if (!endMatch) {\n              errorHandler.fatalError(\"end tag name: \" + tagName + ' is not match the current start tagName:' + config.tagName); // No known test case\n            }\n          } else {\n            parseStack.push(config);\n          }\n\n          end++;\n          break;\n        // end elment\n\n        case '?':\n          // <?...?>\n          locator && position(tagStart);\n          end = parseInstruction(source, tagStart, domBuilder);\n          break;\n\n        case '!':\n          // <!doctype,<![CDATA,<!--\n          locator && position(tagStart);\n          end = parseDCC(source, tagStart, domBuilder, errorHandler);\n          break;\n\n        default:\n          locator && position(tagStart);\n          var el = new ElementAttributes();\n          var currentNSMap = parseStack[parseStack.length - 1].currentNSMap; //elStartEnd\n\n          var end = parseElementStartPart(source, tagStart, el, currentNSMap, entityReplacer, errorHandler);\n          var len = el.length;\n\n          if (!el.closed && fixSelfClosed(source, end, el.tagName, closeMap)) {\n            el.closed = true;\n\n            if (!entityMap.nbsp) {\n              errorHandler.warning('unclosed xml attribute');\n            }\n          }\n\n          if (locator && len) {\n            var locator2 = copyLocator(locator, {}); //try{//attribute position fixed\n\n            for (var i = 0; i < len; i++) {\n              var a = el[i];\n              position(a.offset);\n              a.locator = copyLocator(locator, {});\n            }\n\n            domBuilder.locator = locator2;\n\n            if (appendElement(el, domBuilder, currentNSMap)) {\n              parseStack.push(el);\n            }\n\n            domBuilder.locator = locator;\n          } else {\n            if (appendElement(el, domBuilder, currentNSMap)) {\n              parseStack.push(el);\n            }\n          }\n\n          if (NAMESPACE.isHTML(el.uri) && !el.closed) {\n            end = parseHtmlSpecialContent(source, end, el.tagName, entityReplacer, domBuilder);\n          } else {\n            end++;\n          }\n\n      }\n    } catch (e) {\n      if (e instanceof ParseError) {\n        throw e;\n      }\n\n      errorHandler.error('element parse error: ' + e);\n      end = -1;\n    }\n\n    if (end > start) {\n      start = end;\n    } else {\n      //TODO: 这里有可能sax回退，有位置错误风险\n      appendText(Math.max(tagStart, start) + 1);\n    }\n  }\n}\n\nfunction copyLocator(f, t) {\n  t.lineNumber = f.lineNumber;\n  t.columnNumber = f.columnNumber;\n  return t;\n}\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\n\n\nfunction parseElementStartPart(source, start, el, currentNSMap, entityReplacer, errorHandler) {\n  /**\n   * @param {string} qname\n   * @param {string} value\n   * @param {number} startIndex\n   */\n  function addAttribute(qname, value, startIndex) {\n    if (el.attributeNames.hasOwnProperty(qname)) {\n      errorHandler.fatalError('Attribute ' + qname + ' redefined');\n    }\n\n    el.addValue(qname, // @see https://www.w3.org/TR/xml/#AVNormalize\n    // since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n    // - recursive replacement of (DTD) entity references\n    // - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n    value.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer), startIndex);\n  }\n\n  var attrName;\n  var value;\n  var p = ++start;\n  var s = S_TAG; //status\n\n  while (true) {\n    var c = source.charAt(p);\n\n    switch (c) {\n      case '=':\n        if (s === S_ATTR) {\n          //attrName\n          attrName = source.slice(start, p);\n          s = S_EQ;\n        } else if (s === S_ATTR_SPACE) {\n          s = S_EQ;\n        } else {\n          //fatalError: equal must after attrName or space after attrName\n          throw new Error('attribute equal must after attrName'); // No known test case\n        }\n\n        break;\n\n      case '\\'':\n      case '\"':\n        if (s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n        ) {\n          //equal\n          if (s === S_ATTR) {\n            errorHandler.warning('attribute value must after \"=\"');\n            attrName = source.slice(start, p);\n          }\n\n          start = p + 1;\n          p = source.indexOf(c, start);\n\n          if (p > 0) {\n            value = source.slice(start, p);\n            addAttribute(attrName, value, start - 1);\n            s = S_ATTR_END;\n          } else {\n            //fatalError: no end quot match\n            throw new Error('attribute value no end \\'' + c + '\\' match');\n          }\n        } else if (s == S_ATTR_NOQUOT_VALUE) {\n          value = source.slice(start, p);\n          addAttribute(attrName, value, start);\n          errorHandler.warning('attribute \"' + attrName + '\" missed start quot(' + c + ')!!');\n          start = p + 1;\n          s = S_ATTR_END;\n        } else {\n          //fatalError: no equal before\n          throw new Error('attribute value must after \"=\"'); // No known test case\n        }\n\n        break;\n\n      case '/':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p));\n\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            s = S_TAG_CLOSE;\n            el.closed = true;\n\n          case S_ATTR_NOQUOT_VALUE:\n          case S_ATTR:\n          case S_ATTR_SPACE:\n            break;\n          //case S_EQ:\n\n          default:\n            throw new Error(\"attribute invalid close char('/')\");\n          // No known test case\n        }\n\n        break;\n\n      case '':\n        //end document\n        errorHandler.error('unexpected end of input');\n\n        if (s == S_TAG) {\n          el.setTagName(source.slice(start, p));\n        }\n\n        return p;\n\n      case '>':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p));\n\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            break;\n          //normal\n\n          case S_ATTR_NOQUOT_VALUE: //Compatible state\n\n          case S_ATTR:\n            value = source.slice(start, p);\n\n            if (value.slice(-1) === '/') {\n              el.closed = true;\n              value = value.slice(0, -1);\n            }\n\n          case S_ATTR_SPACE:\n            if (s === S_ATTR_SPACE) {\n              value = attrName;\n            }\n\n            if (s == S_ATTR_NOQUOT_VALUE) {\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!');\n              addAttribute(attrName, value, start);\n            } else {\n              if (!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + value + '\" missed value!! \"' + value + '\" instead!!');\n              }\n\n              addAttribute(value, value, start);\n            }\n\n            break;\n\n          case S_EQ:\n            throw new Error('attribute value missed!!');\n        } //\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\n\n        return p;\n\n      /*xml space '\\x20' | #x9 | #xD | #xA; */\n\n      case \"\\x80\":\n        c = ' ';\n\n      default:\n        if (c <= ' ') {\n          //space\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p)); //tagName\n\n              s = S_TAG_SPACE;\n              break;\n\n            case S_ATTR:\n              attrName = source.slice(start, p);\n              s = S_ATTR_SPACE;\n              break;\n\n            case S_ATTR_NOQUOT_VALUE:\n              var value = source.slice(start, p);\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n              addAttribute(attrName, value, start);\n\n            case S_ATTR_END:\n              s = S_TAG_SPACE;\n              break;\n            //case S_TAG_SPACE:\n            //case S_EQ:\n            //case S_ATTR_SPACE:\n            //\tvoid();break;\n            //case S_TAG_CLOSE:\n            //ignore warning\n          }\n        } else {\n          //not space\n          //S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n          //S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n          switch (s) {\n            //case S_TAG:void();break;\n            //case S_ATTR:void();break;\n            //case S_ATTR_NOQUOT_VALUE:void();break;\n            case S_ATTR_SPACE:\n              var tagName = el.tagName;\n\n              if (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + attrName + '\" missed value!! \"' + attrName + '\" instead2!!');\n              }\n\n              addAttribute(attrName, attrName, start);\n              start = p;\n              s = S_ATTR;\n              break;\n\n            case S_ATTR_END:\n              errorHandler.warning('attribute space is required\"' + attrName + '\"!!');\n\n            case S_TAG_SPACE:\n              s = S_ATTR;\n              start = p;\n              break;\n\n            case S_EQ:\n              s = S_ATTR_NOQUOT_VALUE;\n              start = p;\n              break;\n\n            case S_TAG_CLOSE:\n              throw new Error(\"elements closed character '/' and '>' must be connected to\");\n          }\n        }\n\n    } //end outer switch\n    //console.log('p++',p)\n\n\n    p++;\n  }\n}\n/**\n * @return true if has new namespace define\n */\n\n\nfunction appendElement(el, domBuilder, currentNSMap) {\n  var tagName = el.tagName;\n  var localNSMap = null; //var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\n  var i = el.length;\n\n  while (i--) {\n    var a = el[i];\n    var qName = a.qName;\n    var value = a.value;\n    var nsp = qName.indexOf(':');\n\n    if (nsp > 0) {\n      var prefix = a.prefix = qName.slice(0, nsp);\n      var localName = qName.slice(nsp + 1);\n      var nsPrefix = prefix === 'xmlns' && localName;\n    } else {\n      localName = qName;\n      prefix = null;\n      nsPrefix = qName === 'xmlns' && '';\n    } //can not set prefix,because prefix !== ''\n\n\n    a.localName = localName; //prefix == null for no ns prefix attribute\n\n    if (nsPrefix !== false) {\n      //hack!!\n      if (localNSMap == null) {\n        localNSMap = {}; //console.log(currentNSMap,0)\n\n        _copy(currentNSMap, currentNSMap = {}); //console.log(currentNSMap,1)\n\n      }\n\n      currentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n      a.uri = NAMESPACE.XMLNS;\n      domBuilder.startPrefixMapping(nsPrefix, value);\n    }\n  }\n\n  var i = el.length;\n\n  while (i--) {\n    a = el[i];\n    var prefix = a.prefix;\n\n    if (prefix) {\n      //no prefix attribute has no namespace\n      if (prefix === 'xml') {\n        a.uri = NAMESPACE.XML;\n      }\n\n      if (prefix !== 'xmlns') {\n        a.uri = currentNSMap[prefix || '']; //{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n      }\n    }\n  }\n\n  var nsp = tagName.indexOf(':');\n\n  if (nsp > 0) {\n    prefix = el.prefix = tagName.slice(0, nsp);\n    localName = el.localName = tagName.slice(nsp + 1);\n  } else {\n    prefix = null; //important!!\n\n    localName = el.localName = tagName;\n  } //no prefix element has default namespace\n\n\n  var ns = el.uri = currentNSMap[prefix || ''];\n  domBuilder.startElement(ns, localName, tagName, el); //endPrefixMapping and startPrefixMapping have not any help for dom builder\n  //localNSMap = null\n\n  if (el.closed) {\n    domBuilder.endElement(ns, localName, tagName);\n\n    if (localNSMap) {\n      for (prefix in localNSMap) {\n        domBuilder.endPrefixMapping(prefix);\n      }\n    }\n  } else {\n    el.currentNSMap = currentNSMap;\n    el.localNSMap = localNSMap; //parseStack.push(el);\n\n    return true;\n  }\n}\n\nfunction parseHtmlSpecialContent(source, elStartEnd, tagName, entityReplacer, domBuilder) {\n  if (/^(?:script|textarea)$/i.test(tagName)) {\n    var elEndStart = source.indexOf('</' + tagName + '>', elStartEnd);\n    var text = source.substring(elStartEnd + 1, elEndStart);\n\n    if (/[&<]/.test(text)) {\n      if (/^script$/i.test(tagName)) {\n        //if(!/\\]\\]>/.test(text)){\n        //lexHandler.startCDATA();\n        domBuilder.characters(text, 0, text.length); //lexHandler.endCDATA();\n\n        return elEndStart; //}\n      } //}else{//text area\n\n\n      text = text.replace(/&#?\\w+;/g, entityReplacer);\n      domBuilder.characters(text, 0, text.length);\n      return elEndStart; //}\n    }\n  }\n\n  return elStartEnd + 1;\n}\n\nfunction fixSelfClosed(source, elStartEnd, tagName, closeMap) {\n  //if(tagName in closeMap){\n  var pos = closeMap[tagName];\n\n  if (pos == null) {\n    //console.log(tagName)\n    pos = source.lastIndexOf('</' + tagName + '>');\n\n    if (pos < elStartEnd) {\n      //忘记闭合\n      pos = source.lastIndexOf('</' + tagName);\n    }\n\n    closeMap[tagName] = pos;\n  }\n\n  return pos < elStartEnd; //}\n}\n\nfunction _copy(source, target) {\n  for (var n in source) {\n    target[n] = source[n];\n  }\n}\n\nfunction parseDCC(source, start, domBuilder, errorHandler) {\n  //sure start with '<!'\n  var next = source.charAt(start + 2);\n\n  switch (next) {\n    case '-':\n      if (source.charAt(start + 3) === '-') {\n        var end = source.indexOf('-->', start + 4); //append comment source.substring(4,end)//<!--\n\n        if (end > start) {\n          domBuilder.comment(source, start + 4, end - start - 4);\n          return end + 3;\n        } else {\n          errorHandler.error(\"Unclosed comment\");\n          return -1;\n        }\n      } else {\n        //error\n        return -1;\n      }\n\n    default:\n      if (source.substr(start + 3, 6) == 'CDATA[') {\n        var end = source.indexOf(']]>', start + 9);\n        domBuilder.startCDATA();\n        domBuilder.characters(source, start + 9, end - start - 9);\n        domBuilder.endCDATA();\n        return end + 3;\n      } //<!DOCTYPE\n      //startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\n\n      var matchs = split(source, start);\n      var len = matchs.length;\n\n      if (len > 1 && /!doctype/i.test(matchs[0][0])) {\n        var name = matchs[1][0];\n        var pubid = false;\n        var sysid = false;\n\n        if (len > 3) {\n          if (/^public$/i.test(matchs[2][0])) {\n            pubid = matchs[3][0];\n            sysid = len > 4 && matchs[4][0];\n          } else if (/^system$/i.test(matchs[2][0])) {\n            sysid = matchs[3][0];\n          }\n        }\n\n        var lastMatch = matchs[len - 1];\n        domBuilder.startDTD(name, pubid, sysid);\n        domBuilder.endDTD();\n        return lastMatch.index + lastMatch[0].length;\n      }\n\n  }\n\n  return -1;\n}\n\nfunction parseInstruction(source, start, domBuilder) {\n  var end = source.indexOf('?>', start);\n\n  if (end) {\n    var match = source.substring(start, end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\n    if (match) {\n      var len = match[0].length;\n      domBuilder.processingInstruction(match[1], match[2]);\n      return end + 2;\n    } else {\n      //error\n      return -1;\n    }\n  }\n\n  return -1;\n}\n\nfunction ElementAttributes() {\n  this.attributeNames = {};\n}\n\nElementAttributes.prototype = {\n  setTagName: function setTagName(tagName) {\n    if (!tagNamePattern.test(tagName)) {\n      throw new Error('invalid tagName:' + tagName);\n    }\n\n    this.tagName = tagName;\n  },\n  addValue: function addValue(qName, value, offset) {\n    if (!tagNamePattern.test(qName)) {\n      throw new Error('invalid attribute:' + qName);\n    }\n\n    this.attributeNames[qName] = this.length;\n    this[this.length++] = {\n      qName: qName,\n      value: value,\n      offset: offset\n    };\n  },\n  length: 0,\n  getLocalName: function getLocalName(i) {\n    return this[i].localName;\n  },\n  getLocator: function getLocator(i) {\n    return this[i].locator;\n  },\n  getQName: function getQName(i) {\n    return this[i].qName;\n  },\n  getURI: function getURI(i) {\n    return this[i].uri;\n  },\n  getValue: function getValue(i) {\n    return this[i].value;\n  } //\t,getIndex:function(uri, localName)){\n  //\t\tif(localName){\n  //\n  //\t\t}else{\n  //\t\t\tvar qName = uri\n  //\t\t}\n  //\t},\n  //\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n  //\tgetType:function(uri,localName){}\n  //\tgetType:function(i){},\n\n};\n\nfunction split(source, start) {\n  var match;\n  var buf = [];\n  var reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n  reg.lastIndex = start;\n  reg.exec(source); //skip <\n\n  while (match = reg.exec(source)) {\n    buf.push(match);\n    if (match[1]) return buf;\n  }\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;","function getError(option, xhr) {\n  var msg = \"cannot \".concat(option.method, \" \").concat(option.action, \" \").concat(xhr.status, \"'\");\n  var err = new Error(msg);\n  err.status = xhr.status;\n  err.method = option.method;\n  err.url = option.action;\n  return err;\n}\n\nfunction getBody(xhr) {\n  var text = xhr.responseText || xhr.response;\n\n  if (!text) {\n    return text;\n  }\n\n  try {\n    return JSON.parse(text);\n  } catch (e) {\n    return text;\n  }\n}\n\nexport default function upload(option) {\n  // eslint-disable-next-line no-undef\n  var xhr = new XMLHttpRequest();\n\n  if (option.onProgress && xhr.upload) {\n    xhr.upload.onprogress = function progress(e) {\n      if (e.total > 0) {\n        e.percent = e.loaded / e.total * 100;\n      }\n\n      option.onProgress(e);\n    };\n  } // eslint-disable-next-line no-undef\n\n\n  var formData = new FormData();\n\n  if (option.data) {\n    Object.keys(option.data).forEach(function (key) {\n      var value = option.data[key]; // support key-value array data\n\n      if (Array.isArray(value)) {\n        value.forEach(function (item) {\n          // { list: [ 11, 22 ] }\n          // formData.append('list[]', 11);\n          formData.append(\"\".concat(key, \"[]\"), item);\n        });\n        return;\n      }\n\n      formData.append(key, value);\n    });\n  } // eslint-disable-next-line no-undef\n\n\n  if (option.file instanceof Blob) {\n    formData.append(option.filename, option.file, option.file.name);\n  } else {\n    formData.append(option.filename, option.file);\n  }\n\n  xhr.onerror = function error(e) {\n    option.onError(e);\n  };\n\n  xhr.onload = function onload() {\n    // allow success when 2xx status\n    // see https://github.com/react-component/upload/issues/34\n    if (xhr.status < 200 || xhr.status >= 300) {\n      return option.onError(getError(option, xhr), getBody(xhr));\n    }\n\n    return option.onSuccess(getBody(xhr), xhr);\n  };\n\n  xhr.open(option.method, option.action, true); // Has to be after `.open()`. See https://github.com/enyo/dropzone/issues/179\n\n  if (option.withCredentials && 'withCredentials' in xhr) {\n    xhr.withCredentials = true;\n  }\n\n  var headers = option.headers || {}; // when set headers['X-Requested-With'] = null , can close default XHR header\n  // see https://github.com/react-component/upload/issues/33\n\n  if (headers['X-Requested-With'] !== null) {\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n  }\n\n  Object.keys(headers).forEach(function (h) {\n    if (headers[h] !== null) {\n      xhr.setRequestHeader(h, headers[h]);\n    }\n  });\n  xhr.send(formData);\n  return {\n    abort: function abort() {\n      xhr.abort();\n    }\n  };\n}","var now = +new Date();\nvar index = 0;\nexport default function uid() {\n  // eslint-disable-next-line no-plusplus\n  return \"rc-upload-\".concat(now, \"-\").concat(++index);\n}","import warning from \"rc-util/es/warning\";\nexport default (function (file, acceptedFiles) {\n  if (file && acceptedFiles) {\n    var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n    var fileName = file.name || '';\n    var mimeType = file.type || '';\n    var baseMimeType = mimeType.replace(/\\/.*$/, '');\n    return acceptedFilesArray.some(function (type) {\n      var validType = type.trim(); // This is something like */*,*  allow all files\n\n      if (/^\\*(\\/\\*)?$/.test(type)) {\n        return true;\n      } // like .jpg, .png\n\n\n      if (validType.charAt(0) === '.') {\n        var lowerFileName = fileName.toLowerCase();\n        var lowerType = validType.toLowerCase();\n        var affixList = [lowerType];\n\n        if (lowerType === '.jpg' || lowerType === '.jpeg') {\n          affixList = ['.jpg', '.jpeg'];\n        }\n\n        return affixList.some(function (affix) {\n          return lowerFileName.endsWith(affix);\n        });\n      } // This is something like a image/* mime type\n\n\n      if (/\\/\\*$/.test(validType)) {\n        return baseMimeType === validType.replace(/\\/.*$/, '');\n      } // Full match\n\n\n      if (mimeType === validType) {\n        return true;\n      } // Invalidate type should skip\n\n\n      if (/^\\w+$/.test(validType)) {\n        warning(false, \"Upload takes an invalidate 'accept' type '\".concat(validType, \"'.Skip for check.\"));\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  return true;\n});","function loopFiles(item, callback) {\n  var dirReader = item.createReader();\n  var fileList = [];\n\n  function sequence() {\n    dirReader.readEntries(function (entries) {\n      var entryList = Array.prototype.slice.apply(entries);\n      fileList = fileList.concat(entryList); // Check if all the file has been viewed\n\n      var isFinished = !entryList.length;\n\n      if (isFinished) {\n        callback(fileList);\n      } else {\n        sequence();\n      }\n    });\n  }\n\n  sequence();\n}\n\nvar traverseFileTree = function traverseFileTree(files, callback, isAccepted) {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  var _traverseFileTree = function _traverseFileTree(item, path) {\n    // eslint-disable-next-line no-param-reassign\n    item.path = path || '';\n\n    if (item.isFile) {\n      item.file(function (file) {\n        if (isAccepted(file)) {\n          // https://github.com/ant-design/ant-design/issues/16426\n          if (item.fullPath && !file.webkitRelativePath) {\n            Object.defineProperties(file, {\n              webkitRelativePath: {\n                writable: true\n              }\n            }); // eslint-disable-next-line no-param-reassign\n\n            file.webkitRelativePath = item.fullPath.replace(/^\\//, '');\n            Object.defineProperties(file, {\n              webkitRelativePath: {\n                writable: false\n              }\n            });\n          }\n\n          callback([file]);\n        }\n      });\n    } else if (item.isDirectory) {\n      loopFiles(item, function (entries) {\n        entries.forEach(function (entryItem) {\n          _traverseFileTree(entryItem, \"\".concat(path).concat(item.name, \"/\"));\n        });\n      });\n    }\n  };\n\n  files.forEach(function (file) {\n    _traverseFileTree(file.webkitGetAsEntry());\n  });\n};\n\nexport default traverseFileTree;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nvar _excluded = [\"component\", \"prefixCls\", \"className\", \"disabled\", \"id\", \"style\", \"multiple\", \"accept\", \"capture\", \"children\", \"directory\", \"openFileDialogOnClick\", \"onMouseEnter\", \"onMouseLeave\"];\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport defaultRequest from './request';\nimport getUid from './uid';\nimport attrAccept from './attr-accept';\nimport traverseFileTree from './traverseFileTree';\n\nvar AjaxUploader = /*#__PURE__*/function (_Component) {\n  _inherits(AjaxUploader, _Component);\n\n  var _super = _createSuper(AjaxUploader);\n\n  function AjaxUploader() {\n    var _this;\n\n    _classCallCheck(this, AjaxUploader);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      uid: getUid()\n    };\n    _this.reqs = {};\n    _this.fileInput = void 0;\n    _this._isMounted = void 0;\n\n    _this.onChange = function (e) {\n      var _this$props = _this.props,\n          accept = _this$props.accept,\n          directory = _this$props.directory;\n      var files = e.target.files;\n\n      var acceptedFiles = _toConsumableArray(files).filter(function (file) {\n        return !directory || attrAccept(file, accept);\n      });\n\n      _this.uploadFiles(acceptedFiles);\n\n      _this.reset();\n    };\n\n    _this.onClick = function (e) {\n      var el = _this.fileInput;\n\n      if (!el) {\n        return;\n      }\n\n      var _this$props2 = _this.props,\n          children = _this$props2.children,\n          onClick = _this$props2.onClick;\n\n      if (children && children.type === 'button') {\n        var parent = el.parentNode;\n        parent.focus();\n        parent.querySelector('button').blur();\n      }\n\n      el.click();\n\n      if (onClick) {\n        onClick(e);\n      }\n    };\n\n    _this.onKeyDown = function (e) {\n      if (e.key === 'Enter') {\n        _this.onClick(e);\n      }\n    };\n\n    _this.onFileDrop = function (e) {\n      var multiple = _this.props.multiple;\n      e.preventDefault();\n\n      if (e.type === 'dragover') {\n        return;\n      }\n\n      if (_this.props.directory) {\n        traverseFileTree(Array.prototype.slice.call(e.dataTransfer.items), _this.uploadFiles, function (_file) {\n          return attrAccept(_file, _this.props.accept);\n        });\n      } else {\n        var files = _toConsumableArray(e.dataTransfer.files).filter(function (file) {\n          return attrAccept(file, _this.props.accept);\n        });\n\n        if (multiple === false) {\n          files = files.slice(0, 1);\n        }\n\n        _this.uploadFiles(files);\n      }\n    };\n\n    _this.uploadFiles = function (files) {\n      var originFiles = _toConsumableArray(files);\n\n      var postFiles = originFiles.map(function (file) {\n        // eslint-disable-next-line no-param-reassign\n        file.uid = getUid();\n        return _this.processFile(file, originFiles);\n      }); // Batch upload files\n\n      Promise.all(postFiles).then(function (fileList) {\n        var onBatchStart = _this.props.onBatchStart;\n        onBatchStart === null || onBatchStart === void 0 ? void 0 : onBatchStart(fileList.map(function (_ref) {\n          var origin = _ref.origin,\n              parsedFile = _ref.parsedFile;\n          return {\n            file: origin,\n            parsedFile: parsedFile\n          };\n        }));\n        fileList.filter(function (file) {\n          return file.parsedFile !== null;\n        }).forEach(function (file) {\n          _this.post(file);\n        });\n      });\n    };\n\n    _this.processFile = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(file, fileList) {\n        var beforeUpload, transformedFile, action, mergedAction, data, mergedData, parsedData, parsedFile, mergedParsedFile;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                beforeUpload = _this.props.beforeUpload;\n                transformedFile = file;\n\n                if (!beforeUpload) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _context.prev = 3;\n                _context.next = 6;\n                return beforeUpload(file, fileList);\n\n              case 6:\n                transformedFile = _context.sent;\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](3); // Rejection will also trade as false\n\n                transformedFile = false;\n\n              case 12:\n                if (!(transformedFile === false)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", {\n                  origin: file,\n                  parsedFile: null,\n                  action: null,\n                  data: null\n                });\n\n              case 14:\n                // Get latest action\n                action = _this.props.action;\n\n                if (!(typeof action === 'function')) {\n                  _context.next = 21;\n                  break;\n                }\n\n                _context.next = 18;\n                return action(file);\n\n              case 18:\n                mergedAction = _context.sent;\n                _context.next = 22;\n                break;\n\n              case 21:\n                mergedAction = action;\n\n              case 22:\n                // Get latest data\n                data = _this.props.data;\n\n                if (!(typeof data === 'function')) {\n                  _context.next = 29;\n                  break;\n                }\n\n                _context.next = 26;\n                return data(file);\n\n              case 26:\n                mergedData = _context.sent;\n                _context.next = 30;\n                break;\n\n              case 29:\n                mergedData = data;\n\n              case 30:\n                parsedData = // string type is from legacy `transformFile`.\n                // Not sure if this will work since no related test case works with it\n                (_typeof(transformedFile) === 'object' || typeof transformedFile === 'string') && transformedFile ? transformedFile : file;\n\n                if (parsedData instanceof File) {\n                  parsedFile = parsedData;\n                } else {\n                  parsedFile = new File([parsedData], file.name, {\n                    type: file.type\n                  });\n                }\n\n                mergedParsedFile = parsedFile;\n                mergedParsedFile.uid = file.uid;\n                return _context.abrupt(\"return\", {\n                  origin: file,\n                  data: mergedData,\n                  parsedFile: mergedParsedFile,\n                  action: mergedAction\n                });\n\n              case 35:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[3, 9]]);\n      }));\n\n      return function (_x, _x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    _this.saveFileInput = function (node) {\n      _this.fileInput = node;\n    };\n\n    return _this;\n  }\n\n  _createClass(AjaxUploader, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n      this.abort();\n    }\n  }, {\n    key: \"post\",\n    value: function post(_ref3) {\n      var _this2 = this;\n\n      var data = _ref3.data,\n          origin = _ref3.origin,\n          action = _ref3.action,\n          parsedFile = _ref3.parsedFile;\n\n      if (!this._isMounted) {\n        return;\n      }\n\n      var _this$props3 = this.props,\n          onStart = _this$props3.onStart,\n          customRequest = _this$props3.customRequest,\n          name = _this$props3.name,\n          headers = _this$props3.headers,\n          withCredentials = _this$props3.withCredentials,\n          method = _this$props3.method;\n      var uid = origin.uid;\n      var request = customRequest || defaultRequest;\n      var requestOption = {\n        action: action,\n        filename: name,\n        data: data,\n        file: parsedFile,\n        headers: headers,\n        withCredentials: withCredentials,\n        method: method || 'post',\n        onProgress: function onProgress(e) {\n          var onProgress = _this2.props.onProgress;\n          onProgress === null || onProgress === void 0 ? void 0 : onProgress(e, parsedFile);\n        },\n        onSuccess: function onSuccess(ret, xhr) {\n          var onSuccess = _this2.props.onSuccess;\n          onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(ret, parsedFile, xhr);\n          delete _this2.reqs[uid];\n        },\n        onError: function onError(err, ret) {\n          var onError = _this2.props.onError;\n          onError === null || onError === void 0 ? void 0 : onError(err, ret, parsedFile);\n          delete _this2.reqs[uid];\n        }\n      };\n      onStart(origin);\n      this.reqs[uid] = request(requestOption);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.setState({\n        uid: getUid()\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(file) {\n      var reqs = this.reqs;\n\n      if (file) {\n        var uid = file.uid ? file.uid : file;\n\n        if (reqs[uid] && reqs[uid].abort) {\n          reqs[uid].abort();\n        }\n\n        delete reqs[uid];\n      } else {\n        Object.keys(reqs).forEach(function (uid) {\n          if (reqs[uid] && reqs[uid].abort) {\n            reqs[uid].abort();\n          }\n\n          delete reqs[uid];\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props4 = this.props,\n          Tag = _this$props4.component,\n          prefixCls = _this$props4.prefixCls,\n          className = _this$props4.className,\n          disabled = _this$props4.disabled,\n          id = _this$props4.id,\n          style = _this$props4.style,\n          multiple = _this$props4.multiple,\n          accept = _this$props4.accept,\n          capture = _this$props4.capture,\n          children = _this$props4.children,\n          directory = _this$props4.directory,\n          openFileDialogOnClick = _this$props4.openFileDialogOnClick,\n          onMouseEnter = _this$props4.onMouseEnter,\n          onMouseLeave = _this$props4.onMouseLeave,\n          otherProps = _objectWithoutProperties(_this$props4, _excluded);\n\n      var cls = classNames((_classNames = {}, _defineProperty(_classNames, prefixCls, true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, className, className), _classNames)); // because input don't have directory/webkitdirectory type declaration\n\n      var dirProps = directory ? {\n        directory: 'directory',\n        webkitdirectory: 'webkitdirectory'\n      } : {};\n      var events = disabled ? {} : {\n        onClick: openFileDialogOnClick ? this.onClick : function () {},\n        onKeyDown: openFileDialogOnClick ? this.onKeyDown : function () {},\n        onMouseEnter: onMouseEnter,\n        onMouseLeave: onMouseLeave,\n        onDrop: this.onFileDrop,\n        onDragOver: this.onFileDrop,\n        tabIndex: '0'\n      };\n      return /*#__PURE__*/React.createElement(Tag, _extends({}, events, {\n        className: cls,\n        role: \"button\",\n        style: style\n      }), /*#__PURE__*/React.createElement(\"input\", _extends({}, pickAttrs(otherProps, {\n        aria: true,\n        data: true\n      }), {\n        id: id,\n        type: \"file\",\n        ref: this.saveFileInput,\n        onClick: function onClick(e) {\n          return e.stopPropagation();\n        } // https://github.com/ant-design/ant-design/issues/19948\n        ,\n        key: this.state.uid,\n        style: {\n          display: 'none'\n        },\n        accept: accept\n      }, dirProps, {\n        multiple: multiple,\n        onChange: this.onChange\n      }, capture != null ? {\n        capture: capture\n      } : {})), children);\n    }\n  }]);\n\n  return AjaxUploader;\n}(Component);\n\nexport default AjaxUploader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n/* eslint react/prop-types:0 */\n\nimport React, { Component } from 'react';\nimport AjaxUpload from './AjaxUploader';\n\nfunction empty() {}\n\nvar Upload = /*#__PURE__*/function (_Component) {\n  _inherits(Upload, _Component);\n\n  var _super = _createSuper(Upload);\n\n  function Upload() {\n    var _this;\n\n    _classCallCheck(this, Upload);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.uploader = void 0;\n\n    _this.saveUploader = function (node) {\n      _this.uploader = node;\n    };\n\n    return _this;\n  }\n\n  _createClass(Upload, [{\n    key: \"abort\",\n    value: function abort(file) {\n      this.uploader.abort(file);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(AjaxUpload, _extends({}, this.props, {\n        ref: this.saveUploader\n      }));\n    }\n  }]);\n\n  return Upload;\n}(Component);\n\nUpload.defaultProps = {\n  component: 'span',\n  prefixCls: 'rc-upload',\n  data: {},\n  headers: {},\n  name: 'file',\n  multipart: false,\n  onStart: empty,\n  onError: empty,\n  onSuccess: empty,\n  multiple: false,\n  beforeUpload: null,\n  customRequest: null,\n  withCredentials: false,\n  openFileDialogOnClick: true\n};\nexport default Upload;","import Upload from './Upload';\nexport default Upload;","// This icon file is generated automatically.\nvar PaperClipOutlined = {\n  \"icon\": {\n    \"tag\": \"svg\",\n    \"attrs\": {\n      \"viewBox\": \"64 64 896 896\",\n      \"focusable\": \"false\"\n    },\n    \"children\": [{\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z\"\n      }\n    }]\n  },\n  \"name\": \"paper-clip\",\n  \"theme\": \"outlined\"\n};\nexport default PaperClipOutlined;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\"; // GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PaperClipOutlinedSvg from \"@ant-design/icons-svg/es/asn/PaperClipOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PaperClipOutlined = function PaperClipOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PaperClipOutlinedSvg\n  }));\n};\n\nPaperClipOutlined.displayName = 'PaperClipOutlined';\nexport default /*#__PURE__*/React.forwardRef(PaperClipOutlined);","// This icon file is generated automatically.\nvar PictureTwoTone = {\n  \"icon\": function render(primaryColor, secondaryColor) {\n    return {\n      \"tag\": \"svg\",\n      \"attrs\": {\n        \"viewBox\": \"64 64 896 896\",\n        \"focusable\": \"false\"\n      },\n      \"children\": [{\n        \"tag\": \"path\",\n        \"attrs\": {\n          \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z\",\n          \"fill\": primaryColor\n        }\n      }, {\n        \"tag\": \"path\",\n        \"attrs\": {\n          \"d\": \"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z\",\n          \"fill\": secondaryColor\n        }\n      }, {\n        \"tag\": \"path\",\n        \"attrs\": {\n          \"d\": \"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z\",\n          \"fill\": secondaryColor\n        }\n      }, {\n        \"tag\": \"path\",\n        \"attrs\": {\n          \"d\": \"M276 368a28 28 0 1056 0 28 28 0 10-56 0z\",\n          \"fill\": secondaryColor\n        }\n      }, {\n        \"tag\": \"path\",\n        \"attrs\": {\n          \"d\": \"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z\",\n          \"fill\": primaryColor\n        }\n      }]\n    };\n  },\n  \"name\": \"picture\",\n  \"theme\": \"twotone\"\n};\nexport default PictureTwoTone;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\"; // GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PictureTwoToneSvg from \"@ant-design/icons-svg/es/asn/PictureTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PictureTwoTone = function PictureTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PictureTwoToneSvg\n  }));\n};\n\nPictureTwoTone.displayName = 'PictureTwoTone';\nexport default /*#__PURE__*/React.forwardRef(PictureTwoTone);","// This icon file is generated automatically.\nvar FileTwoTone = {\n  \"icon\": function render(primaryColor, secondaryColor) {\n    return {\n      \"tag\": \"svg\",\n      \"attrs\": {\n        \"viewBox\": \"64 64 896 896\",\n        \"focusable\": \"false\"\n      },\n      \"children\": [{\n        \"tag\": \"path\",\n        \"attrs\": {\n          \"d\": \"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z\",\n          \"fill\": secondaryColor\n        }\n      }, {\n        \"tag\": \"path\",\n        \"attrs\": {\n          \"d\": \"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z\",\n          \"fill\": primaryColor\n        }\n      }]\n    };\n  },\n  \"name\": \"file\",\n  \"theme\": \"twotone\"\n};\nexport default FileTwoTone;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\"; // GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport FileTwoToneSvg from \"@ant-design/icons-svg/es/asn/FileTwoTone\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar FileTwoTone = function FileTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: FileTwoToneSvg\n  }));\n};\n\nFileTwoTone.displayName = 'FileTwoTone';\nexport default /*#__PURE__*/React.forwardRef(FileTwoTone);","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nexport function file2Obj(file) {\n  return _extends(_extends({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\n\nexport function updateFileList(file, fileList) {\n  var nextFileList = _toConsumableArray(fileList);\n\n  var fileIndex = nextFileList.findIndex(function (_ref) {\n    var uid = _ref.uid;\n    return uid === file.uid;\n  });\n\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n\n  return nextFileList;\n}\nexport function getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nexport function removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n\n  if (removed.length === fileList.length) {\n    return null;\n  }\n\n  return removed;\n} // ==================== Default Image Preview ====================\n\nvar extname = function extname() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageFileType = function isImageFileType(type) {\n  return type.indexOf('image/') === 0;\n};\n\nexport var isImageUrl = function isImageUrl(file) {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n\n  var url = file.thumbUrl || file.url || '';\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(extension)) {\n    return true;\n  }\n\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\nvar MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(function (resolve) {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n\n    var canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n    document.body.appendChild(canvas);\n    var ctx = canvas.getContext('2d');\n    var img = new Image();\n\n    img.onload = function () {\n      var width = img.width,\n          height = img.height;\n      var drawWidth = MEASURE_SIZE;\n      var drawHeight = MEASURE_SIZE;\n      var offsetX = 0;\n      var offsetY = 0;\n\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      var dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      resolve(dataURL);\n    };\n\n    img.src = window.URL.createObjectURL(file);\n  });\n}","// This icon file is generated automatically.\nvar DownloadOutlined = {\n  \"icon\": {\n    \"tag\": \"svg\",\n    \"attrs\": {\n      \"viewBox\": \"64 64 896 896\",\n      \"focusable\": \"false\"\n    },\n    \"children\": [{\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\"\n      }\n    }]\n  },\n  \"name\": \"download\",\n  \"theme\": \"outlined\"\n};\nexport default DownloadOutlined;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\"; // GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/DownloadOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DownloadOutlined = function DownloadOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DownloadOutlinedSvg\n  }));\n};\n\nDownloadOutlined.displayName = 'DownloadOutlined';\nexport default /*#__PURE__*/React.forwardRef(DownloadOutlined);","import devWarning from '../_util/devWarning';\nexport function validProgress(progress) {\n  if (!progress || progress < 0) {\n    return 0;\n  }\n\n  if (progress > 100) {\n    return 100;\n  }\n\n  return progress;\n}\nexport function getSuccessPercent(_ref) {\n  var success = _ref.success,\n      successPercent = _ref.successPercent;\n  var percent = successPercent;\n  /** @deprecated Use `percent` instead */\n\n  if (success && 'progress' in success) {\n    devWarning(false, 'Progress', '`success.progress` is deprecated. Please use `success.percent` instead.');\n    percent = success.progress;\n  }\n\n  if (success && 'percent' in success) {\n    percent = success.percent;\n  }\n\n  return percent;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { presetPrimaryColors } from '@ant-design/colors';\nimport { validProgress, getSuccessPercent } from './utils';\n/**\n * @example\n *   {\n *     \"0%\": \"#afc163\",\n *     \"75%\": \"#009900\",\n *     \"50%\": \"green\", // ====> '#afc163 0%, #66FF00 25%, #00CC00 50%, #009900 75%, #ffffff 100%'\n *     \"25%\": \"#66FF00\",\n *     \"100%\": \"#ffffff\"\n *   }\n */\n\nexport var sortGradient = function sortGradient(gradients) {\n  var tempArr = [];\n  Object.keys(gradients).forEach(function (key) {\n    var formattedKey = parseFloat(key.replace(/%/g, ''));\n\n    if (!isNaN(formattedKey)) {\n      tempArr.push({\n        key: formattedKey,\n        value: gradients[key]\n      });\n    }\n  });\n  tempArr = tempArr.sort(function (a, b) {\n    return a.key - b.key;\n  });\n  return tempArr.map(function (_ref) {\n    var key = _ref.key,\n        value = _ref.value;\n    return \"\".concat(value, \" \").concat(key, \"%\");\n  }).join(', ');\n};\n/**\n * Then this man came to realize the truth: Besides six pence, there is the moon. Besides bread and\n * butter, there is the bug. And... Besides women, there is the code.\n *\n * @example\n *   {\n *     \"0%\": \"#afc163\",\n *     \"25%\": \"#66FF00\",\n *     \"50%\": \"#00CC00\", // ====>  linear-gradient(to right, #afc163 0%, #66FF00 25%,\n *     \"75%\": \"#009900\", //        #00CC00 50%, #009900 75%, #ffffff 100%)\n *     \"100%\": \"#ffffff\"\n *   }\n */\n\nexport var handleGradient = function handleGradient(strokeColor, directionConfig) {\n  var _strokeColor$from = strokeColor.from,\n      from = _strokeColor$from === void 0 ? presetPrimaryColors.blue : _strokeColor$from,\n      _strokeColor$to = strokeColor.to,\n      to = _strokeColor$to === void 0 ? presetPrimaryColors.blue : _strokeColor$to,\n      _strokeColor$directio = strokeColor.direction,\n      direction = _strokeColor$directio === void 0 ? directionConfig === 'rtl' ? 'to left' : 'to right' : _strokeColor$directio,\n      rest = __rest(strokeColor, [\"from\", \"to\", \"direction\"]);\n\n  if (Object.keys(rest).length !== 0) {\n    var sortedGradients = sortGradient(rest);\n    return {\n      backgroundImage: \"linear-gradient(\".concat(direction, \", \").concat(sortedGradients, \")\")\n    };\n  }\n\n  return {\n    backgroundImage: \"linear-gradient(\".concat(direction, \", \").concat(from, \", \").concat(to, \")\")\n  };\n};\n\nvar Line = function Line(props) {\n  var prefixCls = props.prefixCls,\n      directionConfig = props.direction,\n      percent = props.percent,\n      strokeWidth = props.strokeWidth,\n      size = props.size,\n      strokeColor = props.strokeColor,\n      strokeLinecap = props.strokeLinecap,\n      children = props.children,\n      trailColor = props.trailColor,\n      success = props.success;\n  var backgroundProps = strokeColor && typeof strokeColor !== 'string' ? handleGradient(strokeColor, directionConfig) : {\n    background: strokeColor\n  };\n  var trailStyle = trailColor ? {\n    backgroundColor: trailColor\n  } : undefined;\n\n  var percentStyle = _extends({\n    width: \"\".concat(validProgress(percent), \"%\"),\n    height: strokeWidth || (size === 'small' ? 6 : 8),\n    borderRadius: strokeLinecap === 'square' ? 0 : undefined\n  }, backgroundProps);\n\n  var successPercent = getSuccessPercent(props);\n  var successPercentStyle = {\n    width: \"\".concat(validProgress(successPercent), \"%\"),\n    height: strokeWidth || (size === 'small' ? 6 : 8),\n    borderRadius: strokeLinecap === 'square' ? 0 : undefined,\n    backgroundColor: success === null || success === void 0 ? void 0 : success.strokeColor\n  };\n  var successSegment = successPercent !== undefined ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-success-bg\"),\n    style: successPercentStyle\n  }) : null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-outer\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-inner\"),\n    style: trailStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-bg\"),\n    style: percentStyle\n  }), successSegment)), children);\n};\n\nexport default Line;","import { useRef, useEffect } from 'react';\nexport var defaultProps = {\n  className: '',\n  percent: 0,\n  prefixCls: 'rc-progress',\n  strokeColor: '#2db7f5',\n  strokeLinecap: 'round',\n  strokeWidth: 1,\n  style: {},\n  trailColor: '#D9D9D9',\n  trailWidth: 1\n};\nexport var useTransitionDuration = function useTransitionDuration(percentList) {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  var paths = percentList.map(function () {\n    return useRef();\n  });\n  var prevTimeStamp = useRef(null);\n  useEffect(function () {\n    var now = Date.now();\n    var updated = false;\n    Object.keys(paths).forEach(function (key) {\n      var path = paths[key].current;\n\n      if (!path) {\n        return;\n      }\n\n      updated = true;\n      var pathStyle = path.style;\n      pathStyle.transitionDuration = '.3s, .3s, .3s, .06s';\n\n      if (prevTimeStamp.current && now - prevTimeStamp.current < 100) {\n        pathStyle.transitionDuration = '0s, 0s';\n      }\n    });\n\n    if (updated) {\n      prevTimeStamp.current = Date.now();\n    }\n  });\n  return [paths];\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"className\", \"percent\", \"prefixCls\", \"strokeColor\", \"strokeLinecap\", \"strokeWidth\", \"style\", \"trailColor\", \"trailWidth\", \"transition\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useTransitionDuration, defaultProps } from './common';\n\nvar Line = function Line(_ref) {\n  var className = _ref.className,\n      percent = _ref.percent,\n      prefixCls = _ref.prefixCls,\n      strokeColor = _ref.strokeColor,\n      strokeLinecap = _ref.strokeLinecap,\n      strokeWidth = _ref.strokeWidth,\n      style = _ref.style,\n      trailColor = _ref.trailColor,\n      trailWidth = _ref.trailWidth,\n      transition = _ref.transition,\n      restProps = _objectWithoutProperties(_ref, _excluded); // eslint-disable-next-line no-param-reassign\n\n\n  delete restProps.gapPosition;\n  var percentList = Array.isArray(percent) ? percent : [percent];\n  var strokeColorList = Array.isArray(strokeColor) ? strokeColor : [strokeColor];\n\n  var _useTransitionDuratio = useTransitionDuration(percentList),\n      _useTransitionDuratio2 = _slicedToArray(_useTransitionDuratio, 1),\n      paths = _useTransitionDuratio2[0];\n\n  var center = strokeWidth / 2;\n  var right = 100 - strokeWidth / 2;\n  var pathString = \"M \".concat(strokeLinecap === 'round' ? center : 0, \",\").concat(center, \"\\n         L \").concat(strokeLinecap === 'round' ? right : 100, \",\").concat(center);\n  var viewBoxString = \"0 0 100 \".concat(strokeWidth);\n  var stackPtg = 0;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: classNames(\"\".concat(prefixCls, \"-line\"), className),\n    viewBox: viewBoxString,\n    preserveAspectRatio: \"none\",\n    style: style\n  }, restProps), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"\".concat(prefixCls, \"-line-trail\"),\n    d: pathString,\n    strokeLinecap: strokeLinecap,\n    stroke: trailColor,\n    strokeWidth: trailWidth || strokeWidth,\n    fillOpacity: \"0\"\n  }), percentList.map(function (ptg, index) {\n    var dashPercent = 1;\n\n    switch (strokeLinecap) {\n      case 'round':\n        dashPercent = 1 - strokeWidth / 100;\n        break;\n\n      case 'square':\n        dashPercent = 1 - strokeWidth / 2 / 100;\n        break;\n\n      default:\n        dashPercent = 1;\n        break;\n    }\n\n    var pathStyle = {\n      strokeDasharray: \"\".concat(ptg * dashPercent, \"px, 100px\"),\n      strokeDashoffset: \"-\".concat(stackPtg, \"px\"),\n      transition: transition || 'stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear'\n    };\n    var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n    stackPtg += ptg;\n    return /*#__PURE__*/React.createElement(\"path\", {\n      key: index,\n      className: \"\".concat(prefixCls, \"-line-path\"),\n      d: pathString,\n      strokeLinecap: strokeLinecap,\n      stroke: color,\n      strokeWidth: strokeWidth,\n      fillOpacity: \"0\",\n      ref: paths[index],\n      style: pathStyle\n    });\n  }));\n};\n\nLine.defaultProps = defaultProps;\nLine.displayName = 'Line';\nexport default Line;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nvar uuid = 0;\n/** Is client side and not jsdom */\n\nexport var isBrowserClient = process.env.NODE_ENV !== 'test' && canUseDom();\n/** Get unique id for accessibility usage */\n\nfunction getUUID() {\n  var retId; // Test never reach\n\n  /* istanbul ignore if */\n\n  if (isBrowserClient) {\n    retId = uuid;\n    uuid += 1;\n  } else {\n    retId = 'TEST_OR_SSR';\n  }\n\n  return retId;\n}\n\nexport default (function (id) {\n  // Inner id for accessibility usage. Only work in client side\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      innerId = _React$useState2[0],\n      setInnerId = _React$useState2[1];\n\n  React.useEffect(function () {\n    setInnerId(\"rc_progress_\".concat(getUUID()));\n  }, []);\n  return id || innerId;\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"id\", \"prefixCls\", \"strokeWidth\", \"trailWidth\", \"gapDegree\", \"gapPosition\", \"trailColor\", \"strokeLinecap\", \"style\", \"className\", \"strokeColor\", \"percent\"];\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { useTransitionDuration, defaultProps } from './common';\nimport useId from './hooks/useId';\n\nfunction stripPercentToNumber(percent) {\n  return +percent.replace('%', '');\n}\n\nfunction toArray(value) {\n  var mergedValue = value !== null && value !== void 0 ? value : [];\n  return Array.isArray(mergedValue) ? mergedValue : [mergedValue];\n}\n\nfunction getPathStyles(offset, percent, strokeColor, strokeWidth) {\n  var gapDegree = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var gapPosition = arguments.length > 5 ? arguments[5] : undefined;\n  var radius = 50 - strokeWidth / 2;\n  var beginPositionX = 0;\n  var beginPositionY = -radius;\n  var endPositionX = 0;\n  var endPositionY = -2 * radius;\n\n  switch (gapPosition) {\n    case 'left':\n      beginPositionX = -radius;\n      beginPositionY = 0;\n      endPositionX = 2 * radius;\n      endPositionY = 0;\n      break;\n\n    case 'right':\n      beginPositionX = radius;\n      beginPositionY = 0;\n      endPositionX = -2 * radius;\n      endPositionY = 0;\n      break;\n\n    case 'bottom':\n      beginPositionY = radius;\n      endPositionY = 2 * radius;\n      break;\n\n    default:\n  }\n\n  var pathString = \"M 50,50 m \".concat(beginPositionX, \",\").concat(beginPositionY, \"\\n   a \").concat(radius, \",\").concat(radius, \" 0 1 1 \").concat(endPositionX, \",\").concat(-endPositionY, \"\\n   a \").concat(radius, \",\").concat(radius, \" 0 1 1 \").concat(-endPositionX, \",\").concat(endPositionY);\n  var len = Math.PI * 2 * radius;\n  var pathStyle = {\n    stroke: typeof strokeColor === 'string' ? strokeColor : undefined,\n    strokeDasharray: \"\".concat(percent / 100 * (len - gapDegree), \"px \").concat(len, \"px\"),\n    strokeDashoffset: \"-\".concat(gapDegree / 2 + offset / 100 * (len - gapDegree), \"px\"),\n    transition: 'stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s' // eslint-disable-line\n\n  };\n  return {\n    pathString: pathString,\n    pathStyle: pathStyle\n  };\n}\n\nvar Circle = function Circle(_ref) {\n  var id = _ref.id,\n      prefixCls = _ref.prefixCls,\n      strokeWidth = _ref.strokeWidth,\n      trailWidth = _ref.trailWidth,\n      gapDegree = _ref.gapDegree,\n      gapPosition = _ref.gapPosition,\n      trailColor = _ref.trailColor,\n      strokeLinecap = _ref.strokeLinecap,\n      style = _ref.style,\n      className = _ref.className,\n      strokeColor = _ref.strokeColor,\n      percent = _ref.percent,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var mergedId = useId(id);\n  var gradientId = \"\".concat(mergedId, \"-gradient\");\n\n  var _getPathStyles = getPathStyles(0, 100, trailColor, strokeWidth, gapDegree, gapPosition),\n      pathString = _getPathStyles.pathString,\n      pathStyle = _getPathStyles.pathStyle;\n\n  var percentList = toArray(percent);\n  var strokeColorList = toArray(strokeColor);\n  var gradient = strokeColorList.find(function (color) {\n    return color && _typeof(color) === 'object';\n  });\n\n  var _useTransitionDuratio = useTransitionDuration(percentList),\n      _useTransitionDuratio2 = _slicedToArray(_useTransitionDuratio, 1),\n      paths = _useTransitionDuratio2[0];\n\n  var getStokeList = function getStokeList() {\n    var stackPtg = 0;\n    return percentList.map(function (ptg, index) {\n      var color = strokeColorList[index] || strokeColorList[strokeColorList.length - 1];\n      var stroke = color && _typeof(color) === 'object' ? \"url(#\".concat(gradientId, \")\") : '';\n      var pathStyles = getPathStyles(stackPtg, ptg, color, strokeWidth, gapDegree, gapPosition);\n      stackPtg += ptg;\n      return /*#__PURE__*/React.createElement(\"path\", {\n        key: index,\n        className: \"\".concat(prefixCls, \"-circle-path\"),\n        d: pathStyles.pathString,\n        stroke: stroke,\n        strokeLinecap: strokeLinecap,\n        strokeWidth: strokeWidth,\n        opacity: ptg === 0 ? 0 : 1,\n        fillOpacity: \"0\",\n        style: pathStyles.pathStyle,\n        ref: paths[index]\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: classNames(\"\".concat(prefixCls, \"-circle\"), className),\n    viewBox: \"0 0 100 100\",\n    style: style,\n    id: id\n  }, restProps), gradient && /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: gradientId,\n    x1: \"100%\",\n    y1: \"0%\",\n    x2: \"0%\",\n    y2: \"0%\"\n  }, Object.keys(gradient).sort(function (a, b) {\n    return stripPercentToNumber(a) - stripPercentToNumber(b);\n  }).map(function (key, index) {\n    return /*#__PURE__*/React.createElement(\"stop\", {\n      key: index,\n      offset: key,\n      stopColor: gradient[key]\n    });\n  }))), /*#__PURE__*/React.createElement(\"path\", {\n    className: \"\".concat(prefixCls, \"-circle-trail\"),\n    d: pathString,\n    stroke: trailColor,\n    strokeLinecap: strokeLinecap,\n    strokeWidth: trailWidth || strokeWidth,\n    fillOpacity: \"0\",\n    style: pathStyle\n  }), getStokeList().reverse());\n};\n\nCircle.defaultProps = defaultProps;\nCircle.displayName = 'Circle';\nexport default Circle;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport { Circle as RCCircle } from 'rc-progress';\nimport { presetPrimaryColors } from '@ant-design/colors';\nimport classNames from 'classnames';\nimport { validProgress, getSuccessPercent } from './utils';\n\nfunction getPercentage(_ref) {\n  var percent = _ref.percent,\n      success = _ref.success,\n      successPercent = _ref.successPercent;\n  var realSuccessPercent = validProgress(getSuccessPercent({\n    success: success,\n    successPercent: successPercent\n  }));\n  return [realSuccessPercent, validProgress(validProgress(percent) - realSuccessPercent)];\n}\n\nfunction getStrokeColor(_ref2) {\n  var _ref2$success = _ref2.success,\n      success = _ref2$success === void 0 ? {} : _ref2$success,\n      strokeColor = _ref2.strokeColor;\n  var successColor = success.strokeColor;\n  return [successColor || presetPrimaryColors.green, strokeColor || null];\n}\n\nvar Circle = function Circle(props) {\n  var prefixCls = props.prefixCls,\n      width = props.width,\n      strokeWidth = props.strokeWidth,\n      trailColor = props.trailColor,\n      strokeLinecap = props.strokeLinecap,\n      gapPosition = props.gapPosition,\n      gapDegree = props.gapDegree,\n      type = props.type,\n      children = props.children,\n      success = props.success;\n  var circleSize = width || 120;\n  var circleStyle = {\n    width: circleSize,\n    height: circleSize,\n    fontSize: circleSize * 0.15 + 6\n  };\n  var circleWidth = strokeWidth || 6;\n  var gapPos = gapPosition || type === 'dashboard' && 'bottom' || 'top';\n\n  var getGapDegree = function getGapDegree() {\n    // Support gapDeg = 0 when type = 'dashboard'\n    if (gapDegree || gapDegree === 0) {\n      return gapDegree;\n    }\n\n    if (type === 'dashboard') {\n      return 75;\n    }\n\n    return undefined;\n  }; // using className to style stroke color\n\n\n  var isGradient = Object.prototype.toString.call(props.strokeColor) === '[object Object]';\n  var strokeColor = getStrokeColor({\n    success: success,\n    strokeColor: props.strokeColor\n  });\n  var wrapperClassName = classNames(\"\".concat(prefixCls, \"-inner\"), _defineProperty({}, \"\".concat(prefixCls, \"-circle-gradient\"), isGradient));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClassName,\n    style: circleStyle\n  }, /*#__PURE__*/React.createElement(RCCircle, {\n    percent: getPercentage(props),\n    strokeWidth: circleWidth,\n    trailWidth: circleWidth,\n    strokeColor: strokeColor,\n    strokeLinecap: strokeLinecap,\n    trailColor: trailColor,\n    prefixCls: prefixCls,\n    gapDegree: getGapDegree(),\n    gapPosition: gapPos\n  }), children);\n};\n\nexport default Circle;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\n\nvar Steps = function Steps(props) {\n  var size = props.size,\n      steps = props.steps,\n      _props$percent = props.percent,\n      percent = _props$percent === void 0 ? 0 : _props$percent,\n      _props$strokeWidth = props.strokeWidth,\n      strokeWidth = _props$strokeWidth === void 0 ? 8 : _props$strokeWidth,\n      strokeColor = props.strokeColor,\n      trailColor = props.trailColor,\n      prefixCls = props.prefixCls,\n      children = props.children;\n  var current = Math.round(steps * (percent / 100));\n  var stepWidth = size === 'small' ? 2 : 14;\n  var styledSteps = [];\n\n  for (var i = 0; i < steps; i += 1) {\n    styledSteps.push( /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      className: classNames(\"\".concat(prefixCls, \"-steps-item\"), _defineProperty({}, \"\".concat(prefixCls, \"-steps-item-active\"), i <= current - 1)),\n      style: {\n        backgroundColor: i <= current - 1 ? strokeColor : trailColor,\n        width: stepWidth,\n        height: strokeWidth\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-steps-outer\")\n  }, styledSteps, children);\n};\n\nexport default Steps;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport CheckOutlined from \"@ant-design/icons/es/icons/CheckOutlined\";\nimport CheckCircleFilled from \"@ant-design/icons/es/icons/CheckCircleFilled\";\nimport CloseCircleFilled from \"@ant-design/icons/es/icons/CloseCircleFilled\";\nimport { ConfigConsumer } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport devWarning from '../_util/devWarning';\nimport Line from './Line';\nimport Circle from './Circle';\nimport Steps from './Steps';\nimport { validProgress, getSuccessPercent } from './utils';\nvar ProgressTypes = tuple('line', 'circle', 'dashboard');\nvar ProgressStatuses = tuple('normal', 'exception', 'active', 'success');\n\nvar Progress = /*#__PURE__*/function (_React$Component) {\n  _inherits(Progress, _React$Component);\n\n  var _super = _createSuper(Progress);\n\n  function Progress() {\n    var _this;\n\n    _classCallCheck(this, Progress);\n\n    _this = _super.apply(this, arguments);\n\n    _this.renderProgress = function (_ref) {\n      var _classNames;\n\n      var getPrefixCls = _ref.getPrefixCls,\n          direction = _ref.direction;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      var customizePrefixCls = props.prefixCls,\n          className = props.className,\n          size = props.size,\n          type = props.type,\n          steps = props.steps,\n          showInfo = props.showInfo,\n          strokeColor = props.strokeColor,\n          restProps = __rest(props, [\"prefixCls\", \"className\", \"size\", \"type\", \"steps\", \"showInfo\", \"strokeColor\"]);\n\n      var prefixCls = getPrefixCls('progress', customizePrefixCls);\n\n      var progressStatus = _this.getProgressStatus();\n\n      var progressInfo = _this.renderProcessInfo(prefixCls, progressStatus);\n\n      devWarning(!('successPercent' in props), 'Progress', '`successPercent` is deprecated. Please use `success.percent` instead.');\n      var progress; // Render progress shape\n\n      if (type === 'line') {\n        progress = steps ? /*#__PURE__*/React.createElement(Steps, _extends({}, _this.props, {\n          strokeColor: typeof strokeColor === 'string' ? strokeColor : undefined,\n          prefixCls: prefixCls,\n          steps: steps\n        }), progressInfo) : /*#__PURE__*/React.createElement(Line, _extends({}, _this.props, {\n          prefixCls: prefixCls,\n          direction: direction\n        }), progressInfo);\n      } else if (type === 'circle' || type === 'dashboard') {\n        progress = /*#__PURE__*/React.createElement(Circle, _extends({}, _this.props, {\n          prefixCls: prefixCls,\n          progressStatus: progressStatus\n        }), progressInfo);\n      }\n\n      var classString = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(type === 'dashboard' && 'circle' || steps && 'steps' || type), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-status-\").concat(progressStatus), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-info\"), showInfo), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), size), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n      return /*#__PURE__*/React.createElement(\"div\", _extends({}, omit(restProps, ['status', 'format', 'trailColor', 'strokeWidth', 'width', 'gapDegree', 'gapPosition', 'strokeLinecap', 'percent', 'success', 'successPercent']), {\n        className: classString\n      }), progress);\n    };\n\n    return _this;\n  }\n\n  _createClass(Progress, [{\n    key: \"getPercentNumber\",\n    value: function getPercentNumber() {\n      var _this$props$percent = this.props.percent,\n          percent = _this$props$percent === void 0 ? 0 : _this$props$percent;\n      var successPercent = getSuccessPercent(this.props);\n      return parseInt(successPercent !== undefined ? successPercent.toString() : percent.toString(), 10);\n    }\n  }, {\n    key: \"getProgressStatus\",\n    value: function getProgressStatus() {\n      var status = this.props.status;\n\n      if (ProgressStatuses.indexOf(status) < 0 && this.getPercentNumber() >= 100) {\n        return 'success';\n      }\n\n      return status || 'normal';\n    }\n  }, {\n    key: \"renderProcessInfo\",\n    value: function renderProcessInfo(prefixCls, progressStatus) {\n      var _this$props = this.props,\n          showInfo = _this$props.showInfo,\n          format = _this$props.format,\n          type = _this$props.type,\n          percent = _this$props.percent;\n      var successPercent = getSuccessPercent(this.props);\n\n      if (!showInfo) {\n        return null;\n      }\n\n      var text;\n\n      var textFormatter = format || function (percentNumber) {\n        return \"\".concat(percentNumber, \"%\");\n      };\n\n      var isLineType = type === 'line';\n\n      if (format || progressStatus !== 'exception' && progressStatus !== 'success') {\n        text = textFormatter(validProgress(percent), validProgress(successPercent));\n      } else if (progressStatus === 'exception') {\n        text = isLineType ? /*#__PURE__*/React.createElement(CloseCircleFilled, null) : /*#__PURE__*/React.createElement(CloseOutlined, null);\n      } else if (progressStatus === 'success') {\n        text = isLineType ? /*#__PURE__*/React.createElement(CheckCircleFilled, null) : /*#__PURE__*/React.createElement(CheckOutlined, null);\n      }\n\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-text\"),\n        title: typeof text === 'string' ? text : undefined\n      }, text);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderProgress);\n    }\n  }]);\n\n  return Progress;\n}(React.Component);\n\nexport { Progress as default };\nProgress.defaultProps = {\n  type: 'line',\n  percent: 0,\n  showInfo: true,\n  // null for different theme definition\n  trailColor: null,\n  size: 'default',\n  gapDegree: undefined,\n  strokeLinecap: 'round'\n};","import Progress from './progress';\nexport default Progress;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport CSSMotion from 'rc-motion';\nimport classNames from 'classnames';\nimport EyeOutlined from \"@ant-design/icons/es/icons/EyeOutlined\";\nimport DeleteOutlined from \"@ant-design/icons/es/icons/DeleteOutlined\";\nimport DownloadOutlined from \"@ant-design/icons/es/icons/DownloadOutlined\";\nimport Tooltip from '../../tooltip';\nimport Progress from '../../progress';\nimport { ConfigContext } from '../../config-provider';\nvar ListItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var _classNames3;\n\n  var prefixCls = _ref.prefixCls,\n      className = _ref.className,\n      style = _ref.style,\n      locale = _ref.locale,\n      listType = _ref.listType,\n      file = _ref.file,\n      items = _ref.items,\n      progressProps = _ref.progress,\n      iconRender = _ref.iconRender,\n      actionIconRender = _ref.actionIconRender,\n      itemRender = _ref.itemRender,\n      isImgUrl = _ref.isImgUrl,\n      showPreviewIcon = _ref.showPreviewIcon,\n      showRemoveIcon = _ref.showRemoveIcon,\n      showDownloadIcon = _ref.showDownloadIcon,\n      customPreviewIcon = _ref.previewIcon,\n      customRemoveIcon = _ref.removeIcon,\n      customDownloadIcon = _ref.downloadIcon,\n      onPreview = _ref.onPreview,\n      onDownload = _ref.onDownload,\n      onClose = _ref.onClose;\n\n  var _a, _b; // Delay to show the progress bar\n\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      showProgress = _React$useState2[0],\n      setShowProgress = _React$useState2[1];\n\n  var progressRafRef = React.useRef();\n  React.useEffect(function () {\n    progressRafRef.current = setTimeout(function () {\n      setShowProgress(true);\n    }, 300);\n    return function () {\n      window.clearTimeout(progressRafRef.current);\n    };\n  }, []); // This is used for legacy span make scrollHeight the wrong value.\n  // We will force these to be `display: block` with non `picture-card`\n\n  var spanClassName = \"\".concat(prefixCls, \"-span\");\n  var iconNode = iconRender(file);\n  var icon = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-text-icon\")\n  }, iconNode);\n\n  if (listType === 'picture' || listType === 'picture-card') {\n    if (file.status === 'uploading' || !file.thumbUrl && !file.url) {\n      var _classNames;\n\n      var uploadingClassName = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-item-file\"), file.status !== 'uploading'), _classNames));\n      icon = /*#__PURE__*/React.createElement(\"div\", {\n        className: uploadingClassName\n      }, iconNode);\n    } else {\n      var _classNames2;\n\n      var thumbnail = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? /*#__PURE__*/React.createElement(\"img\", {\n        src: file.thumbUrl || file.url,\n        alt: file.name,\n        className: \"\".concat(prefixCls, \"-list-item-image\"),\n        crossOrigin: file.crossOrigin\n      }) : iconNode;\n      var aClassName = classNames((_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list-item-thumbnail\"), true), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-list-item-file\"), isImgUrl && !isImgUrl(file)), _classNames2));\n      icon = /*#__PURE__*/React.createElement(\"a\", {\n        className: aClassName,\n        onClick: function onClick(e) {\n          return onPreview(file, e);\n        },\n        href: file.url || file.thumbUrl,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\"\n      }, thumbnail);\n    }\n  }\n\n  var infoUploadingClass = classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item\"), true), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item-\").concat(file.status), true), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-list-item-list-type-\").concat(listType), true), _classNames3));\n  var linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n  var removeIcon = showRemoveIcon ? actionIconRender((typeof customRemoveIcon === 'function' ? customRemoveIcon(file) : customRemoveIcon) || /*#__PURE__*/React.createElement(DeleteOutlined, null), function () {\n    return onClose(file);\n  }, prefixCls, locale.removeFile) : null;\n  var downloadIcon = showDownloadIcon && file.status === 'done' ? actionIconRender((typeof customDownloadIcon === 'function' ? customDownloadIcon(file) : customDownloadIcon) || /*#__PURE__*/React.createElement(DownloadOutlined, null), function () {\n    return onDownload(file);\n  }, prefixCls, locale.downloadFile) : null;\n  var downloadOrDelete = listType !== 'picture-card' && /*#__PURE__*/React.createElement(\"span\", {\n    key: \"download-delete\",\n    className: classNames(\"\".concat(prefixCls, \"-list-item-card-actions\"), {\n      picture: listType === 'picture'\n    })\n  }, downloadIcon, removeIcon);\n  var listItemNameClass = classNames(\"\".concat(prefixCls, \"-list-item-name\"));\n  var preview = file.url ? [/*#__PURE__*/React.createElement(\"a\", _extends({\n    key: \"view\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: listItemNameClass,\n    title: file.name\n  }, linkProps, {\n    href: file.url,\n    onClick: function onClick(e) {\n      return onPreview(file, e);\n    }\n  }), file.name), downloadOrDelete] : [/*#__PURE__*/React.createElement(\"span\", {\n    key: \"view\",\n    className: listItemNameClass,\n    onClick: function onClick(e) {\n      return onPreview(file, e);\n    },\n    title: file.name\n  }, file.name), downloadOrDelete];\n  var previewStyle = {\n    pointerEvents: 'none',\n    opacity: 0.5\n  };\n  var previewIcon = showPreviewIcon ? /*#__PURE__*/React.createElement(\"a\", {\n    href: file.url || file.thumbUrl,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    style: file.url || file.thumbUrl ? undefined : previewStyle,\n    onClick: function onClick(e) {\n      return onPreview(file, e);\n    },\n    title: locale.previewFile\n  }, typeof customPreviewIcon === 'function' ? customPreviewIcon(file) : customPreviewIcon || /*#__PURE__*/React.createElement(EyeOutlined, null)) : null;\n  var actions = listType === 'picture-card' && file.status !== 'uploading' && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-list-item-actions\")\n  }, previewIcon, file.status === 'done' && downloadIcon, removeIcon);\n  var message;\n\n  if (file.response && typeof file.response === 'string') {\n    message = file.response;\n  } else {\n    message = ((_a = file.error) === null || _a === void 0 ? void 0 : _a.statusText) || ((_b = file.error) === null || _b === void 0 ? void 0 : _b.message) || locale.uploadError;\n  }\n\n  var iconAndPreview = /*#__PURE__*/React.createElement(\"span\", {\n    className: spanClassName\n  }, icon, preview);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var rootPrefixCls = getPrefixCls();\n  var dom = /*#__PURE__*/React.createElement(\"div\", {\n    className: infoUploadingClass\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-list-item-info\")\n  }, iconAndPreview), actions, showProgress && /*#__PURE__*/React.createElement(CSSMotion, {\n    motionName: \"\".concat(rootPrefixCls, \"-fade\"),\n    visible: file.status === 'uploading',\n    motionDeadline: 2000\n  }, function (_ref2) {\n    var motionClassName = _ref2.className; // show loading icon if upload progress listener is disabled\n\n    var loadingProgress = 'percent' in file ? /*#__PURE__*/React.createElement(Progress, _extends({}, progressProps, {\n      type: \"line\",\n      percent: file.percent\n    })) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(prefixCls, \"-list-item-progress\"), motionClassName)\n    }, loadingProgress);\n  }));\n  var listContainerNameClass = classNames(\"\".concat(prefixCls, \"-list-\").concat(listType, \"-container\"), className);\n  var item = file.status === 'error' ? /*#__PURE__*/React.createElement(Tooltip, {\n    title: message,\n    getPopupContainer: function getPopupContainer(node) {\n      return node.parentNode;\n    }\n  }, dom) : dom;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: listContainerNameClass,\n    style: style,\n    ref: ref\n  }, itemRender ? itemRender(item, file, items, {\n    download: onDownload.bind(null, file),\n    preview: onPreview.bind(null, file),\n    remove: onClose.bind(null, file)\n  }) : item);\n});\nexport default ListItem;","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport CSSMotion, { CSSMotionList } from 'rc-motion';\nimport classNames from 'classnames';\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport PaperClipOutlined from \"@ant-design/icons/es/icons/PaperClipOutlined\";\nimport PictureTwoTone from \"@ant-design/icons/es/icons/PictureTwoTone\";\nimport FileTwoTone from \"@ant-design/icons/es/icons/FileTwoTone\";\nimport { cloneElement, isValidElement } from '../../_util/reactNode';\nimport { previewImage, isImageUrl } from '../utils';\nimport collapseMotion from '../../_util/motion';\nimport { ConfigContext } from '../../config-provider';\nimport Button from '../../button';\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\nimport ListItem from './ListItem';\n\nvar listItemMotion = _extends({}, collapseMotion);\n\ndelete listItemMotion.onAppearEnd;\ndelete listItemMotion.onEnterEnd;\ndelete listItemMotion.onLeaveEnd;\n\nvar InternalUploadList = function InternalUploadList(_ref, ref) {\n  var _classNames;\n\n  var listType = _ref.listType,\n      previewFile = _ref.previewFile,\n      onPreview = _ref.onPreview,\n      onDownload = _ref.onDownload,\n      onRemove = _ref.onRemove,\n      locale = _ref.locale,\n      iconRender = _ref.iconRender,\n      isImgUrl = _ref.isImageUrl,\n      customizePrefixCls = _ref.prefixCls,\n      _ref$items = _ref.items,\n      items = _ref$items === void 0 ? [] : _ref$items,\n      showPreviewIcon = _ref.showPreviewIcon,\n      showRemoveIcon = _ref.showRemoveIcon,\n      showDownloadIcon = _ref.showDownloadIcon,\n      removeIcon = _ref.removeIcon,\n      previewIcon = _ref.previewIcon,\n      downloadIcon = _ref.downloadIcon,\n      progress = _ref.progress,\n      appendAction = _ref.appendAction,\n      appendActionVisible = _ref.appendActionVisible,\n      itemRender = _ref.itemRender;\n  var forceUpdate = useForceUpdate();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      motionAppear = _React$useState2[0],\n      setMotionAppear = _React$useState2[1]; // ============================= Effect =============================\n\n\n  React.useEffect(function () {\n    if (listType !== 'picture' && listType !== 'picture-card') {\n      return;\n    }\n\n    (items || []).forEach(function (file) {\n      if (typeof document === 'undefined' || typeof window === 'undefined' || !window.FileReader || !window.File || !(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n\n      file.thumbUrl = '';\n\n      if (previewFile) {\n        previewFile(file.originFileObj).then(function (previewDataUrl) {\n          // Need append '' to avoid dead loop\n          file.thumbUrl = previewDataUrl || '';\n          forceUpdate();\n        });\n      }\n    });\n  }, [listType, items, previewFile]);\n  React.useEffect(function () {\n    setMotionAppear(true);\n  }, []); // ============================= Events =============================\n\n  var onInternalPreview = function onInternalPreview(file, e) {\n    if (!onPreview) {\n      return;\n    }\n\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    return onPreview(file);\n  };\n\n  var onInternalDownload = function onInternalDownload(file) {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n\n  var onInternalClose = function onInternalClose(file) {\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(file);\n  };\n\n  var internalIconRender = function internalIconRender(file) {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n\n    var isLoading = file.status === 'uploading';\n    var fileIcon = isImgUrl && isImgUrl(file) ? /*#__PURE__*/React.createElement(PictureTwoTone, null) : /*#__PURE__*/React.createElement(FileTwoTone, null);\n    var icon = isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PaperClipOutlined, null);\n\n    if (listType === 'picture') {\n      icon = isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : fileIcon;\n    } else if (listType === 'picture-card') {\n      icon = isLoading ? locale.uploading : fileIcon;\n    }\n\n    return icon;\n  };\n\n  var actionIconRender = function actionIconRender(customIcon, callback, prefixCls, title) {\n    var btnProps = {\n      type: 'text',\n      size: 'small',\n      title: title,\n      onClick: function onClick(e) {\n        callback();\n\n        if (isValidElement(customIcon) && customIcon.props.onClick) {\n          customIcon.props.onClick(e);\n        }\n      },\n      className: \"\".concat(prefixCls, \"-list-item-card-actions-btn\")\n    };\n\n    if (isValidElement(customIcon)) {\n      var btnIcon = cloneElement(customIcon, _extends(_extends({}, customIcon.props), {\n        onClick: function onClick() {}\n      }));\n      return /*#__PURE__*/React.createElement(Button, _extends({}, btnProps, {\n        icon: btnIcon\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(Button, btnProps, /*#__PURE__*/React.createElement(\"span\", null, customIcon));\n  }; // ============================== Ref ===============================\n  // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      handlePreview: onInternalPreview,\n      handleDownload: onInternalDownload\n    };\n  });\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction; // ============================= Render =============================\n\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var listClassNames = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-list\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-\").concat(listType), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-list-rtl\"), direction === 'rtl'), _classNames)); // >>> Motion config\n\n  var motionKeyList = _toConsumableArray(items.map(function (file) {\n    return {\n      key: file.uid,\n      file: file\n    };\n  }));\n\n  var animationDirection = listType === 'picture-card' ? 'animate-inline' : 'animate'; // const transitionName = list.length === 0 ? '' : `${prefixCls}-${animationDirection}`;\n\n  var motionConfig = {\n    motionDeadline: 2000,\n    motionName: \"\".concat(prefixCls, \"-\").concat(animationDirection),\n    keys: motionKeyList,\n    motionAppear: motionAppear\n  };\n\n  if (listType !== 'picture-card') {\n    motionConfig = _extends(_extends({}, listItemMotion), motionConfig);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: listClassNames\n  }, /*#__PURE__*/React.createElement(CSSMotionList, _extends({}, motionConfig, {\n    component: false\n  }), function (_ref2) {\n    var key = _ref2.key,\n        file = _ref2.file,\n        motionClassName = _ref2.className,\n        motionStyle = _ref2.style;\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: key,\n      locale: locale,\n      prefixCls: prefixCls,\n      className: motionClassName,\n      style: motionStyle,\n      file: file,\n      items: items,\n      progress: progress,\n      listType: listType,\n      isImgUrl: isImgUrl,\n      showPreviewIcon: showPreviewIcon,\n      showRemoveIcon: showRemoveIcon,\n      showDownloadIcon: showDownloadIcon,\n      removeIcon: removeIcon,\n      previewIcon: previewIcon,\n      downloadIcon: downloadIcon,\n      iconRender: internalIconRender,\n      actionIconRender: actionIconRender,\n      itemRender: itemRender,\n      onPreview: onInternalPreview,\n      onDownload: onInternalDownload,\n      onClose: onInternalClose\n    });\n  }), appendAction && /*#__PURE__*/React.createElement(CSSMotion, _extends({}, motionConfig, {\n    visible: appendActionVisible,\n    forceRender: true\n  }), function (_ref3) {\n    var motionClassName = _ref3.className,\n        motionStyle = _ref3.style;\n    return cloneElement(appendAction, function (oriProps) {\n      return {\n        className: classNames(oriProps.className, motionClassName),\n        style: _extends(_extends(_extends({}, motionStyle), {\n          // prevent the element has hover css pseudo-class that may cause animation to end prematurely.\n          pointerEvents: motionClassName ? 'none' : undefined\n        }), oriProps.style)\n      };\n    });\n  }));\n};\n\nvar UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nUploadList.displayName = 'UploadList';\nUploadList.defaultProps = {\n  listType: 'text',\n  progress: {\n    strokeWidth: 2,\n    showInfo: false\n  },\n  showRemoveIcon: true,\n  showDownloadIcon: false,\n  showPreviewIcon: true,\n  appendActionVisible: true,\n  previewFile: previewImage,\n  isImageUrl: isImageUrl\n};\nexport default UploadList;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport * as React from 'react';\nimport RcUpload from 'rc-upload';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport classNames from 'classnames';\nimport UploadList from './UploadList';\nimport { file2Obj, getFileItem, removeFileItem, updateFileList } from './utils';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigContext } from '../config-provider';\nimport devWarning from '../_util/devWarning';\nexport var LIST_IGNORE = \"__LIST_IGNORE_\".concat(Date.now(), \"__\");\n\nvar InternalUpload = function InternalUpload(props, ref) {\n  var _classNames2;\n\n  var fileList = props.fileList,\n      defaultFileList = props.defaultFileList,\n      onRemove = props.onRemove,\n      showUploadList = props.showUploadList,\n      listType = props.listType,\n      onPreview = props.onPreview,\n      onDownload = props.onDownload,\n      onChange = props.onChange,\n      onDrop = props.onDrop,\n      previewFile = props.previewFile,\n      disabled = props.disabled,\n      propLocale = props.locale,\n      iconRender = props.iconRender,\n      isImageUrl = props.isImageUrl,\n      progress = props.progress,\n      customizePrefixCls = props.prefixCls,\n      className = props.className,\n      type = props.type,\n      children = props.children,\n      style = props.style,\n      itemRender = props.itemRender,\n      maxCount = props.maxCount;\n\n  var _useMergedState = useMergedState(defaultFileList || [], {\n    value: fileList,\n    postState: function postState(list) {\n      return list !== null && list !== void 0 ? list : [];\n    }\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      mergedFileList = _useMergedState2[0],\n      setMergedFileList = _useMergedState2[1];\n\n  var _React$useState = React.useState('drop'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      dragState = _React$useState2[0],\n      setDragState = _React$useState2[1];\n\n  var upload = React.useRef();\n  React.useEffect(function () {\n    devWarning('fileList' in props || !('value' in props), 'Upload', '`value` is not a valid prop, do you mean `fileList`?');\n    devWarning(!('transformFile' in props), 'Upload', '`transformFile` is deprecated. Please use `beforeUpload` directly.');\n  }, []); // Control mode will auto fill file uid if not provided\n\n  React.useMemo(function () {\n    var timestamp = Date.now();\n    (fileList || []).forEach(function (file, index) {\n      if (!file.uid && !Object.isFrozen(file)) {\n        file.uid = \"__AUTO__\".concat(timestamp, \"_\").concat(index, \"__\");\n      }\n    });\n  }, [fileList]);\n\n  var onInternalChange = function onInternalChange(file, changedFileList, event) {\n    var cloneList = _toConsumableArray(changedFileList); // Cut to match count\n\n\n    if (maxCount === 1) {\n      cloneList = cloneList.slice(-1);\n    } else if (maxCount) {\n      cloneList = cloneList.slice(0, maxCount);\n    }\n\n    setMergedFileList(cloneList);\n    var changeInfo = {\n      file: file,\n      fileList: cloneList\n    };\n\n    if (event) {\n      changeInfo.event = event;\n    }\n\n    onChange === null || onChange === void 0 ? void 0 : onChange(changeInfo);\n  };\n\n  var mergedBeforeUpload = function mergedBeforeUpload(file, fileListArgs) {\n    return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var beforeUpload, transformFile, parsedFile, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              beforeUpload = props.beforeUpload, transformFile = props.transformFile;\n              parsedFile = file;\n\n              if (!beforeUpload) {\n                _context.next = 13;\n                break;\n              }\n\n              _context.next = 5;\n              return beforeUpload(file, fileListArgs);\n\n            case 5:\n              result = _context.sent;\n\n              if (!(result === false)) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", false);\n\n            case 8:\n              // Hack for LIST_IGNORE, we add additional info to remove from the list\n              delete file[LIST_IGNORE];\n\n              if (!(result === LIST_IGNORE)) {\n                _context.next = 12;\n                break;\n              }\n\n              Object.defineProperty(file, LIST_IGNORE, {\n                value: true,\n                configurable: true\n              });\n              return _context.abrupt(\"return\", false);\n\n            case 12:\n              if (_typeof(result) === 'object' && result) {\n                parsedFile = result;\n              }\n\n            case 13:\n              if (!transformFile) {\n                _context.next = 17;\n                break;\n              }\n\n              _context.next = 16;\n              return transformFile(parsedFile);\n\n            case 16:\n              parsedFile = _context.sent;\n\n            case 17:\n              return _context.abrupt(\"return\", parsedFile);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  };\n\n  var onBatchStart = function onBatchStart(batchFileInfoList) {\n    // Skip file which marked as `LIST_IGNORE`, these file will not add to file list\n    var filteredFileInfoList = batchFileInfoList.filter(function (info) {\n      return !info.file[LIST_IGNORE];\n    }); // Nothing to do since no file need upload\n\n    if (!filteredFileInfoList.length) {\n      return;\n    }\n\n    var objectFileList = filteredFileInfoList.map(function (info) {\n      return file2Obj(info.file);\n    }); // Concat new files with prev files\n\n    var newFileList = _toConsumableArray(mergedFileList);\n\n    objectFileList.forEach(function (fileObj) {\n      // Replace file if exist\n      newFileList = updateFileList(fileObj, newFileList);\n    });\n    objectFileList.forEach(function (fileObj, index) {\n      // Repeat trigger `onChange` event for compatible\n      var triggerFileObj = fileObj;\n\n      if (!filteredFileInfoList[index].parsedFile) {\n        // `beforeUpload` return false\n        var originFileObj = fileObj.originFileObj;\n        var clone;\n\n        try {\n          clone = new File([originFileObj], originFileObj.name, {\n            type: originFileObj.type\n          });\n        } catch (e) {\n          clone = new Blob([originFileObj], {\n            type: originFileObj.type\n          });\n          clone.name = originFileObj.name;\n          clone.lastModifiedDate = new Date();\n          clone.lastModified = new Date().getTime();\n        }\n\n        clone.uid = fileObj.uid;\n        triggerFileObj = clone;\n      } else {\n        // Inject `uploading` status\n        fileObj.status = 'uploading';\n      }\n\n      onInternalChange(triggerFileObj, newFileList);\n    });\n  };\n\n  var onSuccess = function onSuccess(response, file, xhr) {\n    try {\n      if (typeof response === 'string') {\n        response = JSON.parse(response);\n      }\n    } catch (e) {\n      /* do nothing */\n    } // removed\n\n\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n\n    var targetItem = file2Obj(file);\n    targetItem.status = 'done';\n    targetItem.percent = 100;\n    targetItem.response = response;\n    targetItem.xhr = xhr;\n    var nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList);\n  };\n\n  var onProgress = function onProgress(e, file) {\n    // removed\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n\n    var targetItem = file2Obj(file);\n    targetItem.status = 'uploading';\n    targetItem.percent = e.percent;\n    var nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList, e);\n  };\n\n  var onError = function onError(error, response, file) {\n    // removed\n    if (!getFileItem(file, mergedFileList)) {\n      return;\n    }\n\n    var targetItem = file2Obj(file);\n    targetItem.error = error;\n    targetItem.response = response;\n    targetItem.status = 'error';\n    var nextFileList = updateFileList(targetItem, mergedFileList);\n    onInternalChange(targetItem, nextFileList);\n  };\n\n  var handleRemove = function handleRemove(file) {\n    var currentFile;\n    Promise.resolve(typeof onRemove === 'function' ? onRemove(file) : onRemove).then(function (ret) {\n      var _a; // Prevent removing file\n\n\n      if (ret === false) {\n        return;\n      }\n\n      var removedFileList = removeFileItem(file, mergedFileList);\n\n      if (removedFileList) {\n        currentFile = _extends(_extends({}, file), {\n          status: 'removed'\n        });\n        mergedFileList === null || mergedFileList === void 0 ? void 0 : mergedFileList.forEach(function (item) {\n          var matchKey = currentFile.uid !== undefined ? 'uid' : 'name';\n\n          if (item[matchKey] === currentFile[matchKey] && !Object.isFrozen(item)) {\n            item.status = 'removed';\n          }\n        });\n        (_a = upload.current) === null || _a === void 0 ? void 0 : _a.abort(currentFile);\n        onInternalChange(currentFile, removedFileList);\n      }\n    });\n  };\n\n  var onFileDrop = function onFileDrop(e) {\n    setDragState(e.type);\n\n    if (e.type === 'drop') {\n      onDrop === null || onDrop === void 0 ? void 0 : onDrop(e);\n    }\n  }; // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      onBatchStart: onBatchStart,\n      onSuccess: onSuccess,\n      onProgress: onProgress,\n      onError: onError,\n      fileList: mergedFileList,\n      upload: upload.current\n    };\n  });\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n\n  var rcUploadProps = _extends(_extends({\n    onBatchStart: onBatchStart,\n    onError: onError,\n    onProgress: onProgress,\n    onSuccess: onSuccess\n  }, props), {\n    prefixCls: prefixCls,\n    beforeUpload: mergedBeforeUpload,\n    onChange: undefined\n  });\n\n  delete rcUploadProps.className;\n  delete rcUploadProps.style; // Remove id to avoid open by label when trigger is hidden\n  // !children: https://github.com/ant-design/ant-design/issues/14298\n  // disabled: https://github.com/ant-design/ant-design/issues/16478\n  //           https://github.com/ant-design/ant-design/issues/24197\n\n  if (!children || disabled) {\n    delete rcUploadProps.id;\n  }\n\n  var renderUploadList = function renderUploadList(button, buttonVisible) {\n    return showUploadList ? /*#__PURE__*/React.createElement(LocaleReceiver, {\n      componentName: \"Upload\",\n      defaultLocale: defaultLocale.Upload\n    }, function (locale) {\n      var _ref = typeof showUploadList === 'boolean' ? {} : showUploadList,\n          showRemoveIcon = _ref.showRemoveIcon,\n          showPreviewIcon = _ref.showPreviewIcon,\n          showDownloadIcon = _ref.showDownloadIcon,\n          removeIcon = _ref.removeIcon,\n          previewIcon = _ref.previewIcon,\n          downloadIcon = _ref.downloadIcon;\n\n      return /*#__PURE__*/React.createElement(UploadList, {\n        prefixCls: prefixCls,\n        listType: listType,\n        items: mergedFileList,\n        previewFile: previewFile,\n        onPreview: onPreview,\n        onDownload: onDownload,\n        onRemove: handleRemove,\n        showRemoveIcon: !disabled && showRemoveIcon,\n        showPreviewIcon: showPreviewIcon,\n        showDownloadIcon: showDownloadIcon,\n        removeIcon: removeIcon,\n        previewIcon: previewIcon,\n        downloadIcon: downloadIcon,\n        iconRender: iconRender,\n        locale: _extends(_extends({}, locale), propLocale),\n        isImageUrl: isImageUrl,\n        progress: progress,\n        appendAction: button,\n        appendActionVisible: buttonVisible,\n        itemRender: itemRender\n      });\n    }) : button;\n  };\n\n  if (type === 'drag') {\n    var _classNames;\n\n    var dragCls = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-drag\"), true), _defineProperty(_classNames, \"\".concat(prefixCls, \"-drag-uploading\"), mergedFileList.some(function (file) {\n      return file.status === 'uploading';\n    })), _defineProperty(_classNames, \"\".concat(prefixCls, \"-drag-hover\"), dragState === 'dragover'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"div\", {\n      className: dragCls,\n      onDrop: onFileDrop,\n      onDragOver: onFileDrop,\n      onDragLeave: onFileDrop,\n      style: style\n    }, /*#__PURE__*/React.createElement(RcUpload, _extends({}, rcUploadProps, {\n      ref: upload,\n      className: \"\".concat(prefixCls, \"-btn\")\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-drag-container\")\n    }, children))), renderUploadList());\n  }\n\n  var uploadButtonCls = classNames(prefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-select\"), true), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-select-\").concat(listType), true), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2));\n\n  var renderUploadButton = function renderUploadButton(uploadButtonStyle) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: uploadButtonCls,\n      style: uploadButtonStyle\n    }, /*#__PURE__*/React.createElement(RcUpload, _extends({}, rcUploadProps, {\n      ref: upload\n    })));\n  };\n\n  if (listType === 'picture-card') {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames(\"\".concat(prefixCls, \"-picture-card-wrapper\"), className)\n    }, renderUploadList(renderUploadButton(), !!children));\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: className\n  }, renderUploadButton(children ? undefined : {\n    display: 'none'\n  }), renderUploadList());\n};\n\nvar Upload = /*#__PURE__*/React.forwardRef(InternalUpload);\nUpload.displayName = 'Upload';\nUpload.defaultProps = {\n  type: 'select',\n  multiple: false,\n  action: '',\n  data: {},\n  accept: '',\n  showUploadList: true,\n  listType: 'text',\n  className: '',\n  disabled: false,\n  supportServerRender: true\n};\nexport default Upload;","import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Upload from './Upload';\n\nvar InternalDragger = function InternalDragger(_a, ref) {\n  var style = _a.style,\n      height = _a.height,\n      restProps = __rest(_a, [\"style\", \"height\"]);\n\n  return /*#__PURE__*/React.createElement(Upload, _extends({\n    ref: ref\n  }, restProps, {\n    type: \"drag\",\n    style: _extends(_extends({}, style), {\n      height: height\n    })\n  }));\n};\n\nvar Dragger = /*#__PURE__*/React.forwardRef(InternalDragger);\nDragger.displayName = 'Dragger';\nexport default Dragger;","import Dragger from './Dragger';\nimport InternalUpload, { LIST_IGNORE } from './Upload';\nvar Upload = InternalUpload;\nUpload.Dragger = Dragger;\nUpload.LIST_IGNORE = LIST_IGNORE;\nexport default Upload;","var COS = require('./src/cos');\n\nmodule.exports = COS;","/*\n CryptoJS v3.1.2\n code.google.com/p/crypto-js\n (c) 2009-2013 by Jeff Mott. All rights reserved.\n code.google.com/p/crypto-js/wiki/License\n */\nvar CryptoJS = CryptoJS || function (g, l) {\n  var e = {},\n      d = e.lib = {},\n      m = function m() {},\n      k = d.Base = {\n    extend: function extend(a) {\n      m.prototype = this;\n      var c = new m();\n      a && c.mixIn(a);\n      c.hasOwnProperty(\"init\") || (c.init = function () {\n        c.$super.init.apply(this, arguments);\n      });\n      c.init.prototype = c;\n      c.$super = this;\n      return c;\n    },\n    create: function create() {\n      var a = this.extend();\n      a.init.apply(a, arguments);\n      return a;\n    },\n    init: function init() {},\n    mixIn: function mixIn(a) {\n      for (var c in a) {\n        a.hasOwnProperty(c) && (this[c] = a[c]);\n      }\n\n      a.hasOwnProperty(\"toString\") && (this.toString = a.toString);\n    },\n    clone: function clone() {\n      return this.init.prototype.extend(this);\n    }\n  },\n      p = d.WordArray = k.extend({\n    init: function init(a, c) {\n      a = this.words = a || [];\n      this.sigBytes = c != l ? c : 4 * a.length;\n    },\n    toString: function toString(a) {\n      return (a || n).stringify(this);\n    },\n    concat: function concat(a) {\n      var c = this.words,\n          q = a.words,\n          f = this.sigBytes;\n      a = a.sigBytes;\n      this.clamp();\n      if (f % 4) for (var b = 0; b < a; b++) {\n        c[f + b >>> 2] |= (q[b >>> 2] >>> 24 - 8 * (b % 4) & 255) << 24 - 8 * ((f + b) % 4);\n      } else if (65535 < q.length) for (b = 0; b < a; b += 4) {\n        c[f + b >>> 2] = q[b >>> 2];\n      } else c.push.apply(c, q);\n      this.sigBytes += a;\n      return this;\n    },\n    clamp: function clamp() {\n      var a = this.words,\n          c = this.sigBytes;\n      a[c >>> 2] &= 4294967295 << 32 - 8 * (c % 4);\n      a.length = g.ceil(c / 4);\n    },\n    clone: function clone() {\n      var a = k.clone.call(this);\n      a.words = this.words.slice(0);\n      return a;\n    },\n    random: function random(a) {\n      for (var c = [], b = 0; b < a; b += 4) {\n        c.push(4294967296 * g.random() | 0);\n      }\n\n      return new p.init(c, a);\n    }\n  }),\n      b = e.enc = {},\n      n = b.Hex = {\n    stringify: function stringify(a) {\n      var c = a.words;\n      a = a.sigBytes;\n\n      for (var b = [], f = 0; f < a; f++) {\n        var d = c[f >>> 2] >>> 24 - 8 * (f % 4) & 255;\n        b.push((d >>> 4).toString(16));\n        b.push((d & 15).toString(16));\n      }\n\n      return b.join(\"\");\n    },\n    parse: function parse(a) {\n      for (var c = a.length, b = [], f = 0; f < c; f += 2) {\n        b[f >>> 3] |= parseInt(a.substr(f, 2), 16) << 24 - 4 * (f % 8);\n      }\n\n      return new p.init(b, c / 2);\n    }\n  },\n      j = b.Latin1 = {\n    stringify: function stringify(a) {\n      var c = a.words;\n      a = a.sigBytes;\n\n      for (var b = [], f = 0; f < a; f++) {\n        b.push(String.fromCharCode(c[f >>> 2] >>> 24 - 8 * (f % 4) & 255));\n      }\n\n      return b.join(\"\");\n    },\n    parse: function parse(a) {\n      for (var c = a.length, b = [], f = 0; f < c; f++) {\n        b[f >>> 2] |= (a.charCodeAt(f) & 255) << 24 - 8 * (f % 4);\n      }\n\n      return new p.init(b, c);\n    }\n  },\n      h = b.Utf8 = {\n    stringify: function stringify(a) {\n      try {\n        return decodeURIComponent(escape(j.stringify(a)));\n      } catch (c) {\n        throw Error(\"Malformed UTF-8 data\");\n      }\n    },\n    parse: function parse(a) {\n      return j.parse(unescape(encodeURIComponent(a)));\n    }\n  },\n      r = d.BufferedBlockAlgorithm = k.extend({\n    reset: function reset() {\n      this._data = new p.init();\n      this._nDataBytes = 0;\n    },\n    _append: function _append(a) {\n      \"string\" == typeof a && (a = h.parse(a));\n\n      this._data.concat(a);\n\n      this._nDataBytes += a.sigBytes;\n    },\n    _process: function _process(a) {\n      var c = this._data,\n          b = c.words,\n          f = c.sigBytes,\n          d = this.blockSize,\n          e = f / (4 * d),\n          e = a ? g.ceil(e) : g.max((e | 0) - this._minBufferSize, 0);\n      a = e * d;\n      f = g.min(4 * a, f);\n\n      if (a) {\n        for (var k = 0; k < a; k += d) {\n          this._doProcessBlock(b, k);\n        }\n\n        k = b.splice(0, a);\n        c.sigBytes -= f;\n      }\n\n      return new p.init(k, f);\n    },\n    clone: function clone() {\n      var a = k.clone.call(this);\n      a._data = this._data.clone();\n      return a;\n    },\n    _minBufferSize: 0\n  });\n\n  d.Hasher = r.extend({\n    cfg: k.extend(),\n    init: function init(a) {\n      this.cfg = this.cfg.extend(a);\n      this.reset();\n    },\n    reset: function reset() {\n      r.reset.call(this);\n\n      this._doReset();\n    },\n    update: function update(a) {\n      this._append(a);\n\n      this._process();\n\n      return this;\n    },\n    finalize: function finalize(a) {\n      a && this._append(a);\n      return this._doFinalize();\n    },\n    blockSize: 16,\n    _createHelper: function _createHelper(a) {\n      return function (b, d) {\n        return new a.init(d).finalize(b);\n      };\n    },\n    _createHmacHelper: function _createHmacHelper(a) {\n      return function (b, d) {\n        return new s.HMAC.init(a, d).finalize(b);\n      };\n    }\n  });\n  var s = e.algo = {};\n  return e;\n}(Math);\n\n(function () {\n  var g = CryptoJS,\n      l = g.lib,\n      e = l.WordArray,\n      d = l.Hasher,\n      m = [],\n      l = g.algo.SHA1 = d.extend({\n    _doReset: function _doReset() {\n      this._hash = new e.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);\n    },\n    _doProcessBlock: function _doProcessBlock(d, e) {\n      for (var b = this._hash.words, n = b[0], j = b[1], h = b[2], g = b[3], l = b[4], a = 0; 80 > a; a++) {\n        if (16 > a) m[a] = d[e + a] | 0;else {\n          var c = m[a - 3] ^ m[a - 8] ^ m[a - 14] ^ m[a - 16];\n          m[a] = c << 1 | c >>> 31;\n        }\n        c = (n << 5 | n >>> 27) + l + m[a];\n        c = 20 > a ? c + ((j & h | ~j & g) + 1518500249) : 40 > a ? c + ((j ^ h ^ g) + 1859775393) : 60 > a ? c + ((j & h | j & g | h & g) - 1894007588) : c + ((j ^ h ^ g) - 899497514);\n        l = g;\n        g = h;\n        h = j << 30 | j >>> 2;\n        j = n;\n        n = c;\n      }\n\n      b[0] = b[0] + n | 0;\n      b[1] = b[1] + j | 0;\n      b[2] = b[2] + h | 0;\n      b[3] = b[3] + g | 0;\n      b[4] = b[4] + l | 0;\n    },\n    _doFinalize: function _doFinalize() {\n      var d = this._data,\n          e = d.words,\n          b = 8 * this._nDataBytes,\n          g = 8 * d.sigBytes;\n      e[g >>> 5] |= 128 << 24 - g % 32;\n      e[(g + 64 >>> 9 << 4) + 14] = Math.floor(b / 4294967296);\n      e[(g + 64 >>> 9 << 4) + 15] = b;\n      d.sigBytes = 4 * e.length;\n\n      this._process();\n\n      return this._hash;\n    },\n    clone: function clone() {\n      var e = d.clone.call(this);\n      e._hash = this._hash.clone();\n      return e;\n    }\n  });\n  g.SHA1 = d._createHelper(l);\n  g.HmacSHA1 = d._createHmacHelper(l);\n})();\n\n(function () {\n  var g = CryptoJS,\n      l = g.enc.Utf8;\n  g.algo.HMAC = g.lib.Base.extend({\n    init: function init(e, d) {\n      e = this._hasher = new e.init();\n      \"string\" == typeof d && (d = l.parse(d));\n      var g = e.blockSize,\n          k = 4 * g;\n      d.sigBytes > k && (d = e.finalize(d));\n      d.clamp();\n\n      for (var p = this._oKey = d.clone(), b = this._iKey = d.clone(), n = p.words, j = b.words, h = 0; h < g; h++) {\n        n[h] ^= 1549556828, j[h] ^= 909522486;\n      }\n\n      p.sigBytes = b.sigBytes = k;\n      this.reset();\n    },\n    reset: function reset() {\n      var e = this._hasher;\n      e.reset();\n      e.update(this._iKey);\n    },\n    update: function update(e) {\n      this._hasher.update(e);\n\n      return this;\n    },\n    finalize: function finalize(e) {\n      var d = this._hasher;\n      e = d.finalize(e);\n      d.reset();\n      return d.finalize(this._oKey.clone().concat(e));\n    }\n  });\n})();\n\n(function () {\n  // Shortcuts\n  var C = CryptoJS;\n  var C_lib = C.lib;\n  var WordArray = C_lib.WordArray;\n  var C_enc = C.enc;\n  /**\n   * Base64 encoding strategy.\n   */\n\n  var Base64 = C_enc.Base64 = {\n    /**\n     * Converts a word array to a Base64 string.\n     *\n     * @param {WordArray} wordArray The word array.\n     *\n     * @return {string} The Base64 string.\n     *\n     * @static\n     *\n     * @example\n     *\n     *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n     */\n    stringify: function stringify(wordArray) {\n      // Shortcuts\n      var words = wordArray.words;\n      var sigBytes = wordArray.sigBytes;\n      var map = this._map; // Clamp excess bits\n\n      wordArray.clamp(); // Convert\n\n      var base64Chars = [];\n\n      for (var i = 0; i < sigBytes; i += 3) {\n        var byte1 = words[i >>> 2] >>> 24 - i % 4 * 8 & 0xff;\n        var byte2 = words[i + 1 >>> 2] >>> 24 - (i + 1) % 4 * 8 & 0xff;\n        var byte3 = words[i + 2 >>> 2] >>> 24 - (i + 2) % 4 * 8 & 0xff;\n        var triplet = byte1 << 16 | byte2 << 8 | byte3;\n\n        for (var j = 0; j < 4 && i + j * 0.75 < sigBytes; j++) {\n          base64Chars.push(map.charAt(triplet >>> 6 * (3 - j) & 0x3f));\n        }\n      } // Add padding\n\n\n      var paddingChar = map.charAt(64);\n\n      if (paddingChar) {\n        while (base64Chars.length % 4) {\n          base64Chars.push(paddingChar);\n        }\n      }\n\n      return base64Chars.join('');\n    },\n\n    /**\n     * Converts a Base64 string to a word array.\n     *\n     * @param {string} base64Str The Base64 string.\n     *\n     * @return {WordArray} The word array.\n     *\n     * @static\n     *\n     * @example\n     *\n     *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n     */\n    parse: function parse(base64Str) {\n      // Shortcuts\n      var base64StrLength = base64Str.length;\n      var map = this._map; // Ignore padding\n\n      var paddingChar = map.charAt(64);\n\n      if (paddingChar) {\n        var paddingIndex = base64Str.indexOf(paddingChar);\n\n        if (paddingIndex != -1) {\n          base64StrLength = paddingIndex;\n        }\n      } // Convert\n\n\n      var words = [];\n      var nBytes = 0;\n\n      for (var i = 0; i < base64StrLength; i++) {\n        if (i % 4) {\n          var bits1 = map.indexOf(base64Str.charAt(i - 1)) << i % 4 * 2;\n          var bits2 = map.indexOf(base64Str.charAt(i)) >>> 6 - i % 4 * 2;\n          words[nBytes >>> 2] |= (bits1 | bits2) << 24 - nBytes % 4 * 8;\n          nBytes++;\n        }\n      }\n\n      return WordArray.create(words, nBytes);\n    },\n    _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n  };\n})();\n\nif (typeof module === 'object') {\n  module.exports = CryptoJS;\n} else {\n  window.CryptoJS = CryptoJS;\n}","//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\nvar element_start_char = \"a-zA-Z_\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\nvar element_non_start_char = \"-.0-9\\xB7\\u0300-\\u036F\\u203F\\u2040\";\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\n\nvar objKeys = function objKeys(obj) {\n  var l = [];\n\n  if (obj instanceof Object) {\n    for (var k in obj) {\n      if (obj.hasOwnProperty(k)) {\n        l.push(k);\n      }\n    }\n  }\n\n  return l;\n};\n\nvar process_to_xml = function process_to_xml(node_data, options) {\n  var makeNode = function makeNode(name, content, attributes, level, hasSubNodes) {\n    var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\n    var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\n\n    if (options.removeIllegalNameCharacters) {\n      name = name.replace(element_replace, '_');\n    }\n\n    var node = [indent, '<', name, attributes || ''];\n\n    if (content && content.length > 0) {\n      node.push('>');\n      node.push(content);\n      hasSubNodes && node.push(indent);\n      node.push('</');\n      node.push(name);\n      node.push('>');\n    } else {\n      node.push('/>');\n    }\n\n    return node.join('');\n  };\n\n  return function fn(node_data, node_descriptor, level) {\n    var type = typeof node_data;\n\n    if (Array.isArray ? Array.isArray(node_data) : node_data instanceof Array) {\n      type = 'array';\n    } else if (node_data instanceof Date) {\n      type = 'date';\n    }\n\n    switch (type) {\n      //if value is an array create child nodes from values\n      case 'array':\n        var ret = [];\n        node_data.map(function (v) {\n          ret.push(fn(v, 1, level + 1)); //entries that are values of an array are the only ones that can be special node descriptors\n        });\n        options.prettyPrint && ret.push('\\n');\n        return ret.join('');\n        break;\n\n      case 'date':\n        // cast dates to ISO 8601 date (soap likes it)\n        return node_data.toJSON ? node_data.toJSON() : node_data + '';\n        break;\n\n      case 'object':\n        var nodes = [];\n\n        for (var name in node_data) {\n          if (node_data.hasOwnProperty(name)) {\n            if (node_data[name] instanceof Array) {\n              for (var j = 0; j < node_data[name].length; j++) {\n                if (node_data[name].hasOwnProperty(j)) {\n                  nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\n                }\n              }\n            } else {\n              nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\n            }\n          }\n        }\n\n        options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\n        return nodes.join('');\n        break;\n\n      case 'function':\n        return node_data();\n        break;\n\n      default:\n        return options.escape ? esc(node_data) : '' + node_data;\n    }\n  }(node_data, 0, 0);\n};\n\nvar xml_header = function xml_header(standalone) {\n  var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\n\n  if (standalone) {\n    ret.push(' standalone=\"yes\"');\n  }\n\n  ret.push('?>');\n  return ret.join('');\n};\n\nfunction esc(str) {\n  return ('' + str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/'/g, '&apos;').replace(/\"/g, '&quot;').replace(not_safe_in_xml, '');\n}\n\nmodule.exports = function (obj, options) {\n  if (!options) {\n    options = {\n      xmlHeader: {\n        standalone: true\n      },\n      prettyPrint: true,\n      indent: \"  \",\n      escape: true\n    };\n  }\n\n  if (typeof obj == 'string') {\n    try {\n      obj = JSON.parse(obj.toString());\n    } catch (e) {\n      return false;\n    }\n  }\n\n  var xmlheader = '';\n  var docType = '';\n\n  if (options) {\n    if (typeof options == 'object') {\n      // our config is an object\n      if (options.xmlHeader) {\n        // the user wants an xml header\n        xmlheader = xml_header(!!options.xmlHeader.standalone);\n      }\n\n      if (typeof options.docType != 'undefined') {\n        docType = '<!DOCTYPE ' + options.docType + '>';\n      }\n    } else {\n      // our config is a boolean value, so just add xml header\n      xmlheader = xml_header();\n    }\n  }\n\n  options = options || {};\n  var ret = [xmlheader, options.prettyPrint && docType ? '\\n' : '', docType, process_to_xml(obj, options)];\n  return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\n};","/* https://github.com/emn178/js-md5 */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n\n  if (root.JS_MD5_NO_WINDOW) {\n    WINDOW = false;\n  }\n\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_MD5_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n\n  var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [128, 32768, 8388608, -2147483648];\n  var SHIFT = [0, 8, 16, 24];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];\n  var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n  var blocks = [],\n      buffer8;\n\n  if (ARRAY_BUFFER) {\n    var buffer = new ArrayBuffer(68);\n    buffer8 = new Uint8Array(buffer);\n    blocks = new Uint32Array(buffer);\n  }\n\n  if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n  /**\n   * @method hex\n   * @memberof md5\n   * @description Output hash as hex string\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {String} Hex string\n   * @example\n   * md5.hex('The quick brown fox jumps over the lazy dog');\n   * // equal to\n   * md5('The quick brown fox jumps over the lazy dog');\n   */\n\n  /**\n   * @method digest\n   * @memberof md5\n   * @description Output hash as bytes array\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {Array} Bytes array\n   * @example\n   * md5.digest('The quick brown fox jumps over the lazy dog');\n   */\n\n  /**\n   * @method array\n   * @memberof md5\n   * @description Output hash as bytes array\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {Array} Bytes array\n   * @example\n   * md5.array('The quick brown fox jumps over the lazy dog');\n   */\n\n  /**\n   * @method arrayBuffer\n   * @memberof md5\n   * @description Output hash as ArrayBuffer\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {ArrayBuffer} ArrayBuffer\n   * @example\n   * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');\n   */\n\n  /**\n   * @method buffer\n   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\n   * @memberof md5\n   * @description Output hash as ArrayBuffer\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {ArrayBuffer} ArrayBuffer\n   * @example\n   * md5.buffer('The quick brown fox jumps over the lazy dog');\n   */\n\n  /**\n   * @method base64\n   * @memberof md5\n   * @description Output hash as base64 string\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {String} base64 string\n   * @example\n   * md5.base64('The quick brown fox jumps over the lazy dog');\n   */\n\n\n  var createOutputMethod = function createOutputMethod(outputType) {\n    return function (message, isBinStr) {\n      return new Md5(true).update(message, isBinStr)[outputType]();\n    };\n  };\n  /**\n   * @method create\n   * @memberof md5\n   * @description Create Md5 object\n   * @returns {Md5} Md5 object.\n   * @example\n   * var hash = md5.create();\n   */\n\n  /**\n   * @method update\n   * @memberof md5\n   * @description Create and update Md5 object\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {Md5} Md5 object.\n   * @example\n   * var hash = md5.update('The quick brown fox jumps over the lazy dog');\n   * // equal to\n   * var hash = md5.create();\n   * hash.update('The quick brown fox jumps over the lazy dog');\n   */\n\n\n  var createMethod = function createMethod() {\n    var method = createOutputMethod('hex');\n\n    if (NODE_JS) {\n      method = nodeWrap(method);\n    }\n\n    method.getCtx = method.create = function () {\n      return new Md5();\n    };\n\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type);\n    }\n\n    return method;\n  };\n\n  var nodeWrap = function nodeWrap(method) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n\n    var nodeMethod = function nodeMethod(message) {\n      if (typeof message === 'string') {\n        return crypto.createHash('md5').update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw ERROR;\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n\n      if (Array.isArray(message) || ArrayBuffer.isView(message) || message.constructor === Buffer) {\n        return crypto.createHash('md5').update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n\n    return nodeMethod;\n  };\n  /**\n   * Md5 class\n   * @class Md5\n   * @description This is internal class.\n   * @see {@link md5.create}\n   */\n\n\n  function Md5(sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n      this.buffer8 = buffer8;\n    } else {\n      if (ARRAY_BUFFER) {\n        var buffer = new ArrayBuffer(68);\n        this.buffer8 = new Uint8Array(buffer);\n        this.blocks = new Uint32Array(buffer);\n      } else {\n        this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      }\n    }\n\n    this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n  }\n  /**\n   * @method update\n   * @memberof Md5\n   * @instance\n   * @description Update hash\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {Md5} Md5 object.\n   * @see {@link md5.update}\n   */\n\n\n  Md5.prototype.update = function (message, isBinStr) {\n    if (this.finalized) {\n      return;\n    }\n\n    var code,\n        index = 0,\n        i,\n        length = message.length,\n        blocks = this.blocks;\n    var buffer8 = this.buffer8;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = blocks[16];\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (ARRAY_BUFFER) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n\n          if (isBinStr || code < 0x80) {\n            buffer8[i++] = code;\n          } else if (code < 0x800) {\n            buffer8[i++] = 0xc0 | code >> 6;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          } else if (code < 0xd800 || code >= 0xe000) {\n            buffer8[i++] = 0xe0 | code >> 12;\n            buffer8[i++] = 0x80 | code >> 6 & 0x3f;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          } else {\n            code = 0x10000 + ((code & 0x3ff) << 10 | message.charCodeAt(++index) & 0x3ff);\n            buffer8[i++] = 0xf0 | code >> 18;\n            buffer8[i++] = 0x80 | code >> 12 & 0x3f;\n            buffer8[i++] = 0x80 | code >> 6 & 0x3f;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          }\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n\n          if (isBinStr || code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | code >> 6) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | code >> 12) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + ((code & 0x3ff) << 10 | message.charCodeAt(++index) & 0x3ff);\n            blocks[i >> 2] |= (0xf0 | code >> 18) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 12 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n\n      if (i >= 64) {\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n\n    return this;\n  };\n\n  Md5.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n\n    this.finalized = true;\n    var blocks = this.blocks,\n        i = this.lastByteIndex;\n    blocks[i >> 2] |= EXTRA[i & 3];\n\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n\n      blocks[0] = blocks[16];\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n\n    blocks[14] = this.bytes << 3;\n    blocks[15] = this.hBytes << 3 | this.bytes >>> 29;\n    this.hash();\n  };\n\n  Md5.prototype.hash = function () {\n    var a,\n        b,\n        c,\n        d,\n        bc,\n        da,\n        blocks = this.blocks;\n\n    if (this.first) {\n      a = blocks[0] - 680876937;\n      a = (a << 7 | a >>> 25) - 271733879 << 0;\n      d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;\n      d = (d << 12 | d >>> 20) + a << 0;\n      c = (-271733879 ^ d & (a ^ -271733879)) + blocks[2] - 1126478375;\n      c = (c << 17 | c >>> 15) + d << 0;\n      b = (a ^ c & (d ^ a)) + blocks[3] - 1316259209;\n      b = (b << 22 | b >>> 10) + c << 0;\n    } else {\n      a = this.h0;\n      b = this.h1;\n      c = this.h2;\n      d = this.h3;\n      a += (d ^ b & (c ^ d)) + blocks[0] - 680876936;\n      a = (a << 7 | a >>> 25) + b << 0;\n      d += (c ^ a & (b ^ c)) + blocks[1] - 389564586;\n      d = (d << 12 | d >>> 20) + a << 0;\n      c += (b ^ d & (a ^ b)) + blocks[2] + 606105819;\n      c = (c << 17 | c >>> 15) + d << 0;\n      b += (a ^ c & (d ^ a)) + blocks[3] - 1044525330;\n      b = (b << 22 | b >>> 10) + c << 0;\n    }\n\n    a += (d ^ b & (c ^ d)) + blocks[4] - 176418897;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[5] + 1200080426;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[6] - 1473231341;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[7] - 45705983;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (d ^ b & (c ^ d)) + blocks[8] + 1770035416;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[9] - 1958414417;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[10] - 42063;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[11] - 1990404162;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (d ^ b & (c ^ d)) + blocks[12] + 1804603682;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[13] - 40341101;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[14] - 1502002290;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[15] + 1236535329;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[1] - 165796510;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[6] - 1069501632;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[11] + 643717713;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[0] - 373897302;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[5] - 701558691;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[10] + 38016083;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[15] - 660478335;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[4] - 405537848;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[9] + 568446438;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[14] - 1019803690;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[3] - 187363961;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[8] + 1163531501;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[13] - 1444681467;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[2] - 51403784;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[7] + 1735328473;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[12] - 1926607734;\n    b = (b << 20 | b >>> 12) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[5] - 378558;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[8] - 2022574463;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[11] + 1839030562;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[14] - 35309556;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[1] - 1530992060;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[4] + 1272893353;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[7] - 155497632;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[10] - 1094730640;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[13] + 681279174;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[0] - 358537222;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[3] - 722521979;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[6] + 76029189;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[9] - 640364487;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[12] - 421815835;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[15] + 530742520;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[2] - 995338651;\n    b = (b << 23 | b >>> 9) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[0] - 198630844;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[7] + 1126891415;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[14] - 1416354905;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[5] - 57434055;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[12] + 1700485571;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[3] - 1894986606;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[10] - 1051523;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[1] - 2054922799;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[8] + 1873313359;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[15] - 30611744;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[6] - 1560198380;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[13] + 1309151649;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[4] - 145523070;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[11] - 1120210379;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[2] + 718787259;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[9] - 343485551;\n    b = (b << 21 | b >>> 11) + c << 0;\n\n    if (this.first) {\n      this.h0 = a + 1732584193 << 0;\n      this.h1 = b - 271733879 << 0;\n      this.h2 = c - 1732584194 << 0;\n      this.h3 = d + 271733878 << 0;\n      this.first = false;\n    } else {\n      this.h0 = this.h0 + a << 0;\n      this.h1 = this.h1 + b << 0;\n      this.h2 = this.h2 + c << 0;\n      this.h3 = this.h3 + d << 0;\n    }\n  };\n  /**\n   * @method hex\n   * @memberof Md5\n   * @instance\n   * @description Output hash as hex string\n   * @returns {String} Hex string\n   * @see {@link md5.hex}\n   * @example\n   * hash.hex();\n   */\n\n\n  Md5.prototype.hex = function () {\n    this.finalize();\n    var h0 = this.h0,\n        h1 = this.h1,\n        h2 = this.h2,\n        h3 = this.h3;\n    return HEX_CHARS[h0 >> 4 & 0x0F] + HEX_CHARS[h0 & 0x0F] + HEX_CHARS[h0 >> 12 & 0x0F] + HEX_CHARS[h0 >> 8 & 0x0F] + HEX_CHARS[h0 >> 20 & 0x0F] + HEX_CHARS[h0 >> 16 & 0x0F] + HEX_CHARS[h0 >> 28 & 0x0F] + HEX_CHARS[h0 >> 24 & 0x0F] + HEX_CHARS[h1 >> 4 & 0x0F] + HEX_CHARS[h1 & 0x0F] + HEX_CHARS[h1 >> 12 & 0x0F] + HEX_CHARS[h1 >> 8 & 0x0F] + HEX_CHARS[h1 >> 20 & 0x0F] + HEX_CHARS[h1 >> 16 & 0x0F] + HEX_CHARS[h1 >> 28 & 0x0F] + HEX_CHARS[h1 >> 24 & 0x0F] + HEX_CHARS[h2 >> 4 & 0x0F] + HEX_CHARS[h2 & 0x0F] + HEX_CHARS[h2 >> 12 & 0x0F] + HEX_CHARS[h2 >> 8 & 0x0F] + HEX_CHARS[h2 >> 20 & 0x0F] + HEX_CHARS[h2 >> 16 & 0x0F] + HEX_CHARS[h2 >> 28 & 0x0F] + HEX_CHARS[h2 >> 24 & 0x0F] + HEX_CHARS[h3 >> 4 & 0x0F] + HEX_CHARS[h3 & 0x0F] + HEX_CHARS[h3 >> 12 & 0x0F] + HEX_CHARS[h3 >> 8 & 0x0F] + HEX_CHARS[h3 >> 20 & 0x0F] + HEX_CHARS[h3 >> 16 & 0x0F] + HEX_CHARS[h3 >> 28 & 0x0F] + HEX_CHARS[h3 >> 24 & 0x0F];\n  };\n  /**\n   * @method toString\n   * @memberof Md5\n   * @instance\n   * @description Output hash as hex string\n   * @returns {String} Hex string\n   * @see {@link md5.hex}\n   * @example\n   * hash.toString();\n   */\n\n\n  Md5.prototype.toString = Md5.prototype.hex;\n  /**\n   * @method digest\n   * @memberof Md5\n   * @instance\n   * @description Output hash as bytes array\n   * @returns {Array} Bytes array\n   * @see {@link md5.digest}\n   * @example\n   * hash.digest();\n   */\n\n  Md5.prototype.digest = function (format) {\n    if (format === 'hex') return this.hex();\n    this.finalize();\n    var h0 = this.h0,\n        h1 = this.h1,\n        h2 = this.h2,\n        h3 = this.h3;\n    var res = [h0 & 0xFF, h0 >> 8 & 0xFF, h0 >> 16 & 0xFF, h0 >> 24 & 0xFF, h1 & 0xFF, h1 >> 8 & 0xFF, h1 >> 16 & 0xFF, h1 >> 24 & 0xFF, h2 & 0xFF, h2 >> 8 & 0xFF, h2 >> 16 & 0xFF, h2 >> 24 & 0xFF, h3 & 0xFF, h3 >> 8 & 0xFF, h3 >> 16 & 0xFF, h3 >> 24 & 0xFF];\n    return res;\n  };\n  /**\n   * @method array\n   * @memberof Md5\n   * @instance\n   * @description Output hash as bytes array\n   * @returns {Array} Bytes array\n   * @see {@link md5.array}\n   * @example\n   * hash.array();\n   */\n\n\n  Md5.prototype.array = Md5.prototype.digest;\n  /**\n   * @method arrayBuffer\n   * @memberof Md5\n   * @instance\n   * @description Output hash as ArrayBuffer\n   * @returns {ArrayBuffer} ArrayBuffer\n   * @see {@link md5.arrayBuffer}\n   * @example\n   * hash.arrayBuffer();\n   */\n\n  Md5.prototype.arrayBuffer = function () {\n    this.finalize();\n    var buffer = new ArrayBuffer(16);\n    var blocks = new Uint32Array(buffer);\n    blocks[0] = this.h0;\n    blocks[1] = this.h1;\n    blocks[2] = this.h2;\n    blocks[3] = this.h3;\n    return buffer;\n  };\n  /**\n   * @method buffer\n   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\n   * @memberof Md5\n   * @instance\n   * @description Output hash as ArrayBuffer\n   * @returns {ArrayBuffer} ArrayBuffer\n   * @see {@link md5.buffer}\n   * @example\n   * hash.buffer();\n   */\n\n\n  Md5.prototype.buffer = Md5.prototype.arrayBuffer;\n  /**\n   * @method base64\n   * @memberof Md5\n   * @instance\n   * @description Output hash as base64 string\n   * @returns {String} base64 string\n   * @see {@link md5.base64}\n   * @example\n   * hash.base64();\n   */\n\n  Md5.prototype.base64 = function () {\n    var v1,\n        v2,\n        v3,\n        base64Str = '',\n        bytes = this.array();\n\n    for (var i = 0; i < 15;) {\n      v1 = bytes[i++];\n      v2 = bytes[i++];\n      v3 = bytes[i++];\n      base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] + BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] + BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] + BASE64_ENCODE_CHAR[v3 & 63];\n    }\n\n    v1 = bytes[i];\n    base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] + BASE64_ENCODE_CHAR[v1 << 4 & 63] + '==';\n    return base64Str;\n  };\n\n  var exports = createMethod();\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    /**\n     * @method md5\b\n     * @description Md5 hash function, export to global in browsers.\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {String} md5 hashes\n     * @example\n     * md5(''); // d41d8cd98f00b204e9800998ecf8427e\n     * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6\n     * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0\n     *\n     * // It also supports UTF-8 encoding\n     * md5('中文'); // a7bac2239fcdcb3a067903d8077c4a07\n     *\n     * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`\n     * md5([]); // d41d8cd98f00b204e9800998ecf8427e\n     * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e\n     */\n    root.md5 = exports;\n\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();","var stringifyPrimitive = function stringifyPrimitive(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nvar queryStringify = function queryStringify(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function (k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function (v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).filter(Boolean).join(sep);\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar xhrRes = function xhrRes(err, xhr, body) {\n  var headers = {};\n  xhr.getAllResponseHeaders().trim().split('\\n').forEach(function (item) {\n    if (item) {\n      var index = item.indexOf(':');\n      var key = item.substr(0, index).trim().toLowerCase();\n      var val = item.substr(index + 1).trim();\n      headers[key] = val;\n    }\n  });\n  return {\n    error: err,\n    statusCode: xhr.status,\n    statusMessage: xhr.statusText,\n    headers: headers,\n    body: body\n  };\n};\n\nvar xhrBody = function xhrBody(xhr, dataType) {\n  return !dataType && dataType === 'text' ? xhr.responseText : xhr.response;\n};\n\nvar request = function request(opt, callback) {\n  // method\n  var method = (opt.method || 'GET').toUpperCase(); // url、qs\n\n  var url = opt.url;\n\n  if (opt.qs) {\n    var qsStr = queryStringify(opt.qs);\n\n    if (qsStr) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + qsStr;\n    }\n  } // 创建 ajax 实例\n\n\n  var xhr = new XMLHttpRequest();\n  xhr.open(method, url, true);\n  xhr.responseType = opt.dataType || 'text'; // 处理 xhrFields 属性\n\n  if (opt.xhrFields) {\n    for (var xhrField in opt.xhrFields) {\n      xhr[xhrField] = opt.xhrFields[xhrField];\n    }\n  } // 处理 headers\n\n\n  var headers = opt.headers;\n\n  if (headers) {\n    for (var key in headers) {\n      if (headers.hasOwnProperty(key) && key.toLowerCase() !== 'content-length' && key.toLowerCase() !== 'user-agent' && key.toLowerCase() !== 'origin' && key.toLowerCase() !== 'host') {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } // onprogress\n\n\n  if (opt.onProgress && xhr.upload) xhr.upload.onprogress = opt.onProgress;\n  if (opt.onDownloadProgress) xhr.onprogress = opt.onDownloadProgress; // timeout\n\n  if (opt.timeout) xhr.timeout = opt.timeout;\n\n  xhr.ontimeout = function (event) {\n    var error = new Error('timeout');\n    callback(xhrRes(error, xhr));\n  }; // success 2xx/3xx/4xx\n\n\n  xhr.onload = function () {\n    callback(xhrRes(null, xhr, xhrBody(xhr, opt.dataType)));\n  }; // error 5xx/0 (网络错误、跨域报错、Https connect-src 限制的报错时 statusCode 为 0)\n\n\n  xhr.onerror = function (err) {\n    var body = xhrBody(xhr, opt.dataType);\n\n    if (body) {\n      // 5xx\n      callback(xhrRes(null, xhr, body));\n    } else {\n      // 0\n      var error = xhr.statusText;\n      if (!error && xhr.status === 0) error = new Error('CORS blocked or network error');\n      callback(xhrRes(error, xhr, body));\n    }\n  }; // send\n\n\n  xhr.send(opt.body || ''); // 返回 ajax 实例，用于外部调用 xhr.abort\n\n  return xhr;\n};\n\nmodule.exports = request;","/* Copyright 2015 William Summers, MetaTribal LLC\n * adapted from https://developer.mozilla.org/en-US/docs/JXON\n *\n * Licensed under the MIT License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://opensource.org/licenses/MIT\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @author William Summers\n * https://github.com/metatribal/xmlToJSON\n */\nvar DOMParser = require('@xmldom/xmldom').DOMParser;\n\nvar xmlToJSON = function () {\n  this.version = \"1.3.5\";\n  var options = {\n    // set up the default options\n    mergeCDATA: true,\n    // extract cdata and merge with text\n    normalize: true,\n    // collapse multiple spaces to single space\n    stripElemPrefix: true // for elements of same name in diff namespaces, you can enable namespaces and access the nskey property\n\n  };\n  var prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n  var trimMatch = new RegExp(/^\\s+|\\s+$/g);\n\n  this.grokType = function (sValue) {\n    if (/^\\s*$/.test(sValue)) {\n      return null;\n    }\n\n    if (/^(?:true|false)$/i.test(sValue)) {\n      return sValue.toLowerCase() === \"true\";\n    }\n\n    if (isFinite(sValue)) {\n      return parseFloat(sValue);\n    }\n\n    return sValue;\n  };\n\n  this.parseString = function (xmlString, opt) {\n    if (xmlString) {\n      var xml = this.stringToXML(xmlString);\n\n      if (xml.getElementsByTagName('parsererror').length) {\n        return null;\n      } else {\n        return this.parseXML(xml, opt);\n      }\n    } else {\n      return null;\n    }\n  };\n\n  this.parseXML = function (oXMLParent, opt) {\n    // initialize options\n    for (var key in opt) {\n      options[key] = opt[key];\n    }\n\n    var vResult = {},\n        nLength = 0,\n        sCollectedTxt = \"\"; // iterate over the children\n\n    var childNum = oXMLParent.childNodes.length;\n\n    if (childNum) {\n      for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n        oNode = oXMLParent.childNodes.item(nItem);\n\n        if (oNode.nodeType === 4) {\n          if (options.mergeCDATA) {\n            sCollectedTxt += oNode.nodeValue;\n          }\n        }\n        /* nodeType is \"CDATASection\" (4) */\n        else if (oNode.nodeType === 3) {\n          sCollectedTxt += oNode.nodeValue;\n        }\n        /* nodeType is \"Text\" (3) */\n        else if (oNode.nodeType === 1) {\n          /* nodeType is \"Element\" (1) */\n          if (nLength === 0) {\n            vResult = {};\n          } // using nodeName to support browser (IE) implementation with no 'localName' property\n\n\n          if (options.stripElemPrefix) {\n            sProp = oNode.nodeName.replace(prefixMatch, '');\n          } else {\n            sProp = oNode.nodeName;\n          }\n\n          vContent = xmlToJSON.parseXML(oNode);\n\n          if (vResult.hasOwnProperty(sProp)) {\n            if (vResult[sProp].constructor !== Array) {\n              vResult[sProp] = [vResult[sProp]];\n            }\n\n            vResult[sProp].push(vContent);\n          } else {\n            vResult[sProp] = vContent;\n            nLength++;\n          }\n        }\n      }\n    }\n\n    if (!Object.keys(vResult).length) {\n      // vResult = sCollectedTxt.replace(trimMatch, '') || ''; // by carsonxu 修复 getBucket返回的 Key 是 \" /\" 这种场景\n      vResult = sCollectedTxt || '';\n    }\n\n    return vResult;\n  }; // Convert xmlDocument to a string\n  // Returns null on failure\n\n\n  this.xmlToString = function (xmlDoc) {\n    try {\n      var xmlString = xmlDoc.xml ? xmlDoc.xml : new XMLSerializer().serializeToString(xmlDoc);\n      return xmlString;\n    } catch (err) {\n      return null;\n    }\n  }; // Convert a string to XML Node Structure\n  // Returns null on failure\n\n\n  this.stringToXML = function (xmlString) {\n    try {\n      var xmlDoc = null;\n\n      if (window.DOMParser) {\n        var parser = new DOMParser();\n        xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\n        return xmlDoc;\n      } else {\n        xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n        xmlDoc.async = false;\n        xmlDoc.loadXML(xmlString);\n        return xmlDoc;\n      }\n    } catch (e) {\n      return null;\n    }\n  };\n\n  return this;\n}.call({});\n\nvar xml2json = function xml2json(xmlString) {\n  return xmlToJSON.parseString(xmlString);\n};\n\nmodule.exports = xml2json;","var session = require('./session');\n\nvar Async = require('./async');\n\nvar EventProxy = require('./event').EventProxy;\n\nvar util = require('./util'); // 文件分块上传全过程，暴露的分块上传接口\n\n\nfunction sliceUploadFile(params, callback) {\n  var self = this;\n  var ep = new EventProxy();\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var Body = params.Body;\n  var ChunkSize = params.ChunkSize || params.SliceSize || self.options.ChunkSize;\n  var AsyncLimit = params.AsyncLimit;\n  var StorageClass = params.StorageClass;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var FileSize;\n  var onProgress;\n  var onHashProgress = params.onHashProgress; // 上传过程中出现错误，返回错误\n\n  ep.on('error', function (err) {\n    if (!self._isRunningTask(TaskId)) return;\n    err.UploadId = params.UploadData.UploadId || '';\n    return callback(err);\n  }); // 上传分块完成，开始 uploadSliceComplete 操作\n\n  ep.on('upload_complete', function (UploadCompleteData) {\n    var _UploadCompleteData = util.extend({\n      UploadId: params.UploadData.UploadId || ''\n    }, UploadCompleteData);\n\n    callback(null, _UploadCompleteData);\n  }); // 上传分块完成，开始 uploadSliceComplete 操作\n\n  ep.on('upload_slice_complete', function (UploadData) {\n    var metaHeaders = {};\n    util.each(params.Headers, function (val, k) {\n      var shortKey = k.toLowerCase();\n      if (shortKey.indexOf('x-cos-meta-') === 0 || shortKey === 'pic-operations') metaHeaders[k] = val;\n    });\n    uploadSliceComplete.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      UploadId: UploadData.UploadId,\n      SliceList: UploadData.SliceList,\n      Headers: metaHeaders\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      session.removeUsing(UploadData.UploadId);\n\n      if (err) {\n        onProgress(null, true);\n        return ep.emit('error', err);\n      }\n\n      session.removeUploadId.call(self, UploadData.UploadId);\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      ep.emit('upload_complete', data);\n    });\n  }); // 获取 UploadId 完成，开始上传每个分片\n\n  ep.on('get_upload_data_finish', function (UploadData) {\n    // 处理 UploadId 缓存\n    var uuid = session.getFileId(Body, params.ChunkSize, Bucket, Key);\n    uuid && session.saveUploadId.call(self, uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // 缓存 UploadId\n\n    session.setUsing(UploadData.UploadId); // 标记 UploadId 为正在使用\n    // 获取 UploadId\n\n    onProgress(null, true); // 任务状态开始 uploading\n\n    uploadSliceList.call(self, {\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Body: Body,\n      FileSize: FileSize,\n      SliceSize: ChunkSize,\n      AsyncLimit: AsyncLimit,\n      ServerSideEncryption: ServerSideEncryption,\n      UploadData: UploadData,\n      Headers: params.Headers,\n      onProgress: onProgress\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n\n      if (err) {\n        onProgress(null, true);\n        return ep.emit('error', err);\n      }\n\n      ep.emit('upload_slice_complete', data);\n    });\n  }); // 开始获取文件 UploadId，里面会视情况计算 ETag，并比对，保证文件一致性，也优化上传\n\n  ep.on('get_file_size_finish', function () {\n    onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n    if (params.UploadData.UploadId) {\n      ep.emit('get_upload_data_finish', params.UploadData);\n    } else {\n      var _params = util.extend({\n        TaskId: TaskId,\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        Headers: params.Headers,\n        StorageClass: StorageClass,\n        Body: Body,\n        FileSize: FileSize,\n        SliceSize: ChunkSize,\n        onHashProgress: onHashProgress\n      }, params);\n\n      getUploadIdAndPartList.call(self, _params, function (err, UploadData) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) return ep.emit('error', err);\n        params.UploadData.UploadId = UploadData.UploadId;\n        params.UploadData.PartList = UploadData.PartList;\n        ep.emit('get_upload_data_finish', params.UploadData);\n      });\n    }\n  }); // 获取上传文件大小\n\n  FileSize = params.ContentLength;\n  delete params.ContentLength;\n  !params.Headers && (params.Headers = {});\n  util.each(params.Headers, function (item, key) {\n    if (key.toLowerCase() === 'content-length') {\n      delete params.Headers[key];\n    }\n  }); // 控制分片大小\n\n  (function () {\n    var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n    var AutoChunkSize = 1024 * 1024;\n\n    for (var i = 0; i < SIZE.length; i++) {\n      AutoChunkSize = SIZE[i] * 1024 * 1024;\n      if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n    }\n\n    params.ChunkSize = params.SliceSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n  })(); // 开始上传\n\n\n  if (FileSize === 0) {\n    params.Body = '';\n    params.ContentLength = 0;\n    params.SkipTask = true;\n    self.putObject(params, callback);\n  } else {\n    ep.emit('get_file_size_finish');\n  }\n} // 获取上传任务的 UploadId\n\n\nfunction getUploadIdAndPartList(params, callback) {\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var StorageClass = params.StorageClass;\n  var self = this; // 计算 ETag\n\n  var ETagMap = {};\n  var FileSize = params.FileSize;\n  var SliceSize = params.SliceSize;\n  var SliceCount = Math.ceil(FileSize / SliceSize);\n  var FinishSliceCount = 0;\n  var FinishSize = 0;\n  var onHashProgress = util.throttleOnProgress.call(self, FileSize, params.onHashProgress);\n\n  var getChunkETag = function getChunkETag(PartNumber, callback) {\n    var start = SliceSize * (PartNumber - 1);\n    var end = Math.min(start + SliceSize, FileSize);\n    var ChunkSize = end - start;\n\n    if (ETagMap[PartNumber]) {\n      callback(null, {\n        PartNumber: PartNumber,\n        ETag: ETagMap[PartNumber],\n        Size: ChunkSize\n      });\n    } else {\n      util.fileSlice(params.Body, start, end, false, function (chunkItem) {\n        util.getFileMd5(chunkItem, function (err, md5) {\n          if (err) return callback(util.error(err));\n          var ETag = '\"' + md5 + '\"';\n          ETagMap[PartNumber] = ETag;\n          FinishSliceCount += 1;\n          FinishSize += ChunkSize;\n          onHashProgress({\n            loaded: FinishSize,\n            total: FileSize\n          });\n          callback(null, {\n            PartNumber: PartNumber,\n            ETag: ETag,\n            Size: ChunkSize\n          });\n        });\n      });\n    }\n  }; // 通过和文件的 md5 对比，判断 UploadId 是否可用\n\n\n  var isAvailableUploadList = function isAvailableUploadList(PartList, callback) {\n    var PartCount = PartList.length; // 如果没有分片，通过\n\n    if (PartCount === 0) {\n      return callback(null, true);\n    } // 检查分片数量\n\n\n    if (PartCount > SliceCount) {\n      return callback(null, false);\n    } // 检查分片大小\n\n\n    if (PartCount > 1) {\n      var PartSliceSize = Math.max(PartList[0].Size, PartList[1].Size);\n\n      if (PartSliceSize !== SliceSize) {\n        return callback(null, false);\n      }\n    } // 逐个分片计算并检查 ETag 是否一致\n\n\n    var next = function next(index) {\n      if (index < PartCount) {\n        var Part = PartList[index];\n        getChunkETag(Part.PartNumber, function (err, chunk) {\n          if (chunk && chunk.ETag === Part.ETag && chunk.Size === Part.Size) {\n            next(index + 1);\n          } else {\n            callback(null, false);\n          }\n        });\n      } else {\n        callback(null, true);\n      }\n    };\n\n    next(0);\n  };\n\n  var ep = new EventProxy();\n  ep.on('error', function (errData) {\n    if (!self._isRunningTask(TaskId)) return;\n    return callback(errData);\n  }); // 存在 UploadId\n\n  ep.on('upload_id_available', function (UploadData) {\n    // 转换成 map\n    var map = {};\n    var list = [];\n    util.each(UploadData.PartList, function (item) {\n      map[item.PartNumber] = item;\n    });\n\n    for (var PartNumber = 1; PartNumber <= SliceCount; PartNumber++) {\n      var item = map[PartNumber];\n\n      if (item) {\n        item.PartNumber = PartNumber;\n        item.Uploaded = true;\n      } else {\n        item = {\n          PartNumber: PartNumber,\n          ETag: null,\n          Uploaded: false\n        };\n      }\n\n      list.push(item);\n    }\n\n    UploadData.PartList = list;\n    callback(null, UploadData);\n  }); // 不存在 UploadId, 初始化生成 UploadId\n\n  ep.on('no_available_upload_id', function () {\n    if (!self._isRunningTask(TaskId)) return;\n\n    var _params = util.extend({\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Query: util.clone(params.Query),\n      StorageClass: StorageClass,\n      Body: params.Body\n    }, params);\n\n    var headers = util.clone(params.Headers);\n    delete headers['x-cos-mime-limit'];\n    _params.Headers = headers;\n    self.multipartInit(_params, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (err) return ep.emit('error', err);\n      var UploadId = data.UploadId;\n\n      if (!UploadId) {\n        return callback(util.error(new Error('no such upload id')));\n      }\n\n      ep.emit('upload_id_available', {\n        UploadId: UploadId,\n        PartList: []\n      });\n    });\n  }); // 如果已存在 UploadId，找一个可以用的 UploadId\n\n  ep.on('has_and_check_upload_id', function (UploadIdList) {\n    // 串行地，找一个内容一致的 UploadId\n    UploadIdList = UploadIdList.reverse();\n    Async.eachLimit(UploadIdList, 1, function (UploadId, asyncCallback) {\n      if (!self._isRunningTask(TaskId)) return; // 如果正在上传，跳过\n\n      if (session.using[UploadId]) {\n        asyncCallback(); // 检查下一个 UploadId\n\n        return;\n      } // 判断 UploadId 是否可用\n\n\n      wholeMultipartListPart.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadId\n      }, function (err, PartListData) {\n        if (!self._isRunningTask(TaskId)) return;\n\n        if (err) {\n          session.removeUsing(UploadId);\n          return ep.emit('error', err);\n        }\n\n        var PartList = PartListData.PartList;\n        PartList.forEach(function (item) {\n          item.PartNumber *= 1;\n          item.Size *= 1;\n          item.ETag = item.ETag || '';\n        });\n        isAvailableUploadList(PartList, function (err, isAvailable) {\n          if (!self._isRunningTask(TaskId)) return;\n          if (err) return ep.emit('error', err);\n\n          if (isAvailable) {\n            asyncCallback({\n              UploadId: UploadId,\n              PartList: PartList\n            }); // 马上结束\n          } else {\n            asyncCallback(); // 检查下一个 UploadId\n          }\n        });\n      });\n    }, function (AvailableUploadData) {\n      if (!self._isRunningTask(TaskId)) return;\n      onHashProgress(null, true);\n\n      if (AvailableUploadData && AvailableUploadData.UploadId) {\n        ep.emit('upload_id_available', AvailableUploadData);\n      } else {\n        ep.emit('no_available_upload_id');\n      }\n    });\n  }); // 在本地缓存找可用的 UploadId\n\n  ep.on('seek_local_avail_upload_id', function (RemoteUploadIdList) {\n    // 在本地找可用的 UploadId\n    var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key);\n    var LocalUploadIdList = session.getUploadIdList.call(self, uuid);\n\n    if (!uuid || !LocalUploadIdList) {\n      ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n      return;\n    }\n\n    var next = function next(index) {\n      // 如果本地找不到可用 UploadId，再一个个遍历校验远端\n      if (index >= LocalUploadIdList.length) {\n        ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n        return;\n      }\n\n      var UploadId = LocalUploadIdList[index]; // 如果不在远端 UploadId 列表里，跳过并删除\n\n      if (!util.isInArray(RemoteUploadIdList, UploadId)) {\n        session.removeUploadId.call(self, UploadId);\n        next(index + 1);\n        return;\n      } // 如果正在上传，跳过\n\n\n      if (session.using[UploadId]) {\n        next(index + 1);\n        return;\n      } // 判断 UploadId 是否存在线上\n\n\n      wholeMultipartListPart.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadId\n      }, function (err, PartListData) {\n        if (!self._isRunningTask(TaskId)) return;\n\n        if (err) {\n          // 如果 UploadId 获取会出错，跳过并删除\n          session.removeUploadId.call(self, UploadId);\n          next(index + 1);\n        } else {\n          // 找到可用 UploadId\n          ep.emit('upload_id_available', {\n            UploadId: UploadId,\n            PartList: PartListData.PartList\n          });\n        }\n      });\n    };\n\n    next(0);\n  }); // 获取线上 UploadId 列表\n\n  ep.on('get_remote_upload_id_list', function () {\n    // 获取符合条件的 UploadId 列表，因为同一个文件可以有多个上传任务。\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (err) return ep.emit('error', err); // 整理远端 UploadId 列表\n\n      var RemoteUploadIdList = util.filter(data.UploadList, function (item) {\n        return item.Key === Key && (!StorageClass || item.StorageClass.toUpperCase() === StorageClass.toUpperCase());\n      }).reverse().map(function (item) {\n        return item.UploadId || item.UploadID;\n      });\n\n      if (RemoteUploadIdList.length) {\n        ep.emit('seek_local_avail_upload_id', RemoteUploadIdList);\n      } else {\n        // 远端没有 UploadId，清理缓存的 UploadId\n        var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key),\n            LocalUploadIdList;\n\n        if (uuid && (LocalUploadIdList = session.getUploadIdList.call(self, uuid))) {\n          util.each(LocalUploadIdList, function (UploadId) {\n            session.removeUploadId.call(self, UploadId);\n          });\n        }\n\n        ep.emit('no_available_upload_id');\n      }\n    });\n  }); // 开始找可用 UploadId\n\n  ep.emit('get_remote_upload_id_list');\n} // 获取符合条件的全部上传任务 (条件包括 Bucket, Region, Prefix)\n\n\nfunction wholeMultipartList(params, callback) {\n  var self = this;\n  var UploadList = [];\n  var sendParams = {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Prefix: params.Key\n  };\n\n  var next = function next() {\n    self.multipartList(sendParams, function (err, data) {\n      if (err) return callback(err);\n      UploadList.push.apply(UploadList, data.Upload || []);\n\n      if (data.IsTruncated === 'true') {\n        // 列表不完整\n        sendParams.KeyMarker = data.NextKeyMarker;\n        sendParams.UploadIdMarker = data.NextUploadIdMarker;\n        next();\n      } else {\n        callback(null, {\n          UploadList: UploadList\n        });\n      }\n    });\n  };\n\n  next();\n} // 获取指定上传任务的分块列表\n\n\nfunction wholeMultipartListPart(params, callback) {\n  var self = this;\n  var PartList = [];\n  var sendParams = {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    UploadId: params.UploadId\n  };\n\n  var next = function next() {\n    self.multipartListPart(sendParams, function (err, data) {\n      if (err) return callback(err);\n      PartList.push.apply(PartList, data.Part || []);\n\n      if (data.IsTruncated === 'true') {\n        // 列表不完整\n        sendParams.PartNumberMarker = data.NextPartNumberMarker;\n        next();\n      } else {\n        callback(null, {\n          PartList: PartList\n        });\n      }\n    });\n  };\n\n  next();\n} // 上传文件分块，包括\n\n/*\n UploadId (上传任务编号)\n AsyncLimit (并发量)，\n SliceList (上传的分块数组)，\n FilePath (本地文件的位置)，\n SliceSize (文件分块大小)\n FileSize (文件大小)\n onProgress (上传成功之后的回调函数)\n */\n\n\nfunction uploadSliceList(params, cb) {\n  var self = this;\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadData = params.UploadData;\n  var FileSize = params.FileSize;\n  var SliceSize = params.SliceSize;\n  var ChunkParallel = Math.min(params.AsyncLimit || self.options.ChunkParallelLimit || 1, 256);\n  var Body = params.Body;\n  var SliceCount = Math.ceil(FileSize / SliceSize);\n  var FinishSize = 0;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var Headers = params.Headers;\n  var needUploadSlices = util.filter(UploadData.PartList, function (SliceItem) {\n    if (SliceItem['Uploaded']) {\n      FinishSize += SliceItem['PartNumber'] >= SliceCount ? FileSize % SliceSize || SliceSize : SliceSize;\n    }\n\n    return !SliceItem['Uploaded'];\n  });\n  var _onProgress2 = params.onProgress;\n  Async.eachLimit(needUploadSlices, ChunkParallel, function (SliceItem, asyncCallback) {\n    if (!self._isRunningTask(TaskId)) return;\n    var PartNumber = SliceItem['PartNumber'];\n    var currentSize = Math.min(FileSize, SliceItem['PartNumber'] * SliceSize) - (SliceItem['PartNumber'] - 1) * SliceSize;\n    var preAddSize = 0;\n    uploadSliceItem.call(self, {\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      SliceSize: SliceSize,\n      FileSize: FileSize,\n      PartNumber: PartNumber,\n      ServerSideEncryption: ServerSideEncryption,\n      Body: Body,\n      UploadData: UploadData,\n      Headers: Headers,\n      onProgress: function onProgress(data) {\n        FinishSize += data.loaded - preAddSize;\n        preAddSize = data.loaded;\n\n        _onProgress2({\n          loaded: FinishSize,\n          total: FileSize\n        });\n      }\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (!err && !data.ETag) err = 'get ETag error, please add \"ETag\" to CORS ExposeHeader setting.( 获取ETag失败，请在CORS ExposeHeader设置中添加ETag，请参考文档：https://cloud.tencent.com/document/product/436/13318 )';\n\n      if (err) {\n        FinishSize -= preAddSize;\n      } else {\n        FinishSize += currentSize - preAddSize;\n        SliceItem.ETag = data.ETag;\n      }\n\n      _onProgress2({\n        loaded: FinishSize,\n        total: FileSize\n      });\n\n      asyncCallback(err || null, data);\n    });\n  }, function (err) {\n    if (!self._isRunningTask(TaskId)) return;\n    if (err) return cb(err);\n    cb(null, {\n      UploadId: UploadData.UploadId,\n      SliceList: UploadData.PartList\n    });\n  });\n} // 上传指定分片\n\n\nfunction uploadSliceItem(params, callback) {\n  var self = this;\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var FileSize = params.FileSize;\n  var FileBody = params.Body;\n  var PartNumber = params.PartNumber * 1;\n  var SliceSize = params.SliceSize;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var UploadData = params.UploadData;\n  var Headers = params.Headers || {};\n  var ChunkRetryTimes = self.options.ChunkRetryTimes + 1;\n  var start = SliceSize * (PartNumber - 1);\n  var ContentLength = SliceSize;\n  var end = start + SliceSize;\n\n  if (end > FileSize) {\n    end = FileSize;\n    ContentLength = end - start;\n  }\n\n  var headersWhiteList = ['x-cos-traffic-limit', 'x-cos-mime-limit'];\n  var headers = {};\n  util.each(Headers, function (v, k) {\n    if (headersWhiteList.indexOf(k) > -1) {\n      headers[k] = v;\n    }\n  });\n  var PartItem = UploadData.PartList[PartNumber - 1];\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    if (!self._isRunningTask(TaskId)) return;\n    util.fileSlice(FileBody, start, end, true, function (Body) {\n      self.multipartUpload({\n        TaskId: TaskId,\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        ContentLength: ContentLength,\n        PartNumber: PartNumber,\n        UploadId: UploadData.UploadId,\n        ServerSideEncryption: ServerSideEncryption,\n        Body: Body,\n        Headers: headers,\n        onProgress: params.onProgress\n      }, function (err, data) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) return tryCallback(err);\n        PartItem.Uploaded = true;\n        return tryCallback(null, data);\n      });\n    });\n  }, function (err, data) {\n    if (!self._isRunningTask(TaskId)) return;\n    return callback(err, data);\n  });\n} // 完成分块上传\n\n\nfunction uploadSliceComplete(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadId = params.UploadId;\n  var SliceList = params.SliceList;\n  var self = this;\n  var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n  var Headers = params.Headers;\n  var Parts = SliceList.map(function (item) {\n    return {\n      PartNumber: item.PartNumber,\n      ETag: item.ETag\n    };\n  }); // 完成上传的请求也做重试\n\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    self.multipartComplete({\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      UploadId: UploadId,\n      Parts: Parts,\n      Headers: Headers\n    }, tryCallback);\n  }, function (err, data) {\n    callback(err, data);\n  });\n} // 抛弃分块上传任务\n\n/*\n AsyncLimit (抛弃上传任务的并发量)，\n UploadId (上传任务的编号，当 Level 为 task 时候需要)\n Level (抛弃分块上传任务的级别，task : 抛弃指定的上传任务，file ： 抛弃指定的文件对应的上传任务，其他值 ：抛弃指定Bucket 的全部上传任务)\n */\n\n\nfunction abortUploadTask(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadId = params.UploadId;\n  var Level = params.Level || 'task';\n  var AsyncLimit = params.AsyncLimit;\n  var self = this;\n  var ep = new EventProxy();\n  ep.on('error', function (errData) {\n    return callback(errData);\n  }); // 已经获取到需要抛弃的任务列表\n\n  ep.on('get_abort_array', function (AbortArray) {\n    abortUploadTaskArray.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Headers: params.Headers,\n      AsyncLimit: AsyncLimit,\n      AbortArray: AbortArray\n    }, callback);\n  });\n\n  if (Level === 'bucket') {\n    // Bucket 级别的任务抛弃，抛弃该 Bucket 下的全部上传任务\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region\n    }, function (err, data) {\n      if (err) return callback(err);\n      ep.emit('get_abort_array', data.UploadList || []);\n    });\n  } else if (Level === 'file') {\n    // 文件级别的任务抛弃，抛弃该文件的全部上传任务\n    if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key\n    }, function (err, data) {\n      if (err) return callback(err);\n      ep.emit('get_abort_array', data.UploadList || []);\n    });\n  } else if (Level === 'task') {\n    // 单个任务级别的任务抛弃，抛弃指定 UploadId 的上传任务\n    if (!UploadId) return callback(util.error(new Error('abort_upload_task_no_id')));\n    if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n    ep.emit('get_abort_array', [{\n      Key: Key,\n      UploadId: UploadId\n    }]);\n  } else {\n    return callback(util.error(new Error('abort_unknown_level')));\n  }\n} // 批量抛弃分块上传任务\n\n\nfunction abortUploadTaskArray(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var AbortArray = params.AbortArray;\n  var AsyncLimit = params.AsyncLimit || 1;\n  var self = this;\n  var index = 0;\n  var resultList = new Array(AbortArray.length);\n  Async.eachLimit(AbortArray, AsyncLimit, function (AbortItem, nextItem) {\n    var eachIndex = index;\n\n    if (Key && Key !== AbortItem.Key) {\n      resultList[eachIndex] = {\n        error: {\n          KeyNotMatch: true\n        }\n      };\n      nextItem(null);\n      return;\n    }\n\n    var UploadId = AbortItem.UploadId || AbortItem.UploadID;\n    self.multipartAbort({\n      Bucket: Bucket,\n      Region: Region,\n      Key: AbortItem.Key,\n      Headers: params.Headers,\n      UploadId: UploadId\n    }, function (err) {\n      var task = {\n        Bucket: Bucket,\n        Region: Region,\n        Key: AbortItem.Key,\n        UploadId: UploadId\n      };\n      resultList[eachIndex] = {\n        error: err,\n        task: task\n      };\n      nextItem(null);\n    });\n    index++;\n  }, function (err) {\n    if (err) return callback(err);\n    var successList = [];\n    var errorList = [];\n\n    for (var i = 0, len = resultList.length; i < len; i++) {\n      var item = resultList[i];\n\n      if (item['task']) {\n        if (item['error']) {\n          errorList.push(item['task']);\n        } else {\n          successList.push(item['task']);\n        }\n      }\n    }\n\n    return callback(null, {\n      successList: successList,\n      errorList: errorList\n    });\n  });\n} // 高级上传\n\n\nfunction uploadFile(params, callback) {\n  var self = this; // 判断多大的文件使用分片上传\n\n  var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\n  var taskList = [];\n  var Body = params.Body;\n  var FileSize = Body.size || Body.length || 0;\n  var fileInfo = {\n    TaskId: ''\n  }; // 整理 option，用于返回给回调\n\n  util.each(params, function (v, k) {\n    if (typeof v !== 'object' && typeof v !== 'function') {\n      fileInfo[k] = v;\n    }\n  }); // 处理文件 TaskReady\n\n  var _onTaskReady = params.onTaskReady;\n\n  var onTaskReady = function onTaskReady(tid) {\n    fileInfo.TaskId = tid;\n    _onTaskReady && _onTaskReady(tid);\n  };\n\n  params.onTaskReady = onTaskReady; // 处理文件完成\n\n  var _onFileFinish = params.onFileFinish;\n\n  var onFileFinish = function onFileFinish(err, data) {\n    _onFileFinish && _onFileFinish(err, data, fileInfo);\n    callback && callback(err, data);\n  }; // 添加上传任务,超过阈值使用分块上传，小于等于则简单上传\n\n\n  var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n  taskList.push({\n    api: api,\n    params: params,\n    callback: onFileFinish\n  });\n\n  self._addTasks(taskList);\n} // 批量上传文件\n\n\nfunction uploadFiles(params, callback) {\n  var self = this; // 判断多大的文件使用分片上传\n\n  var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize; // 汇总返回进度\n\n  var TotalSize = 0;\n  var TotalFinish = 0;\n  var onTotalProgress = util.throttleOnProgress.call(self, TotalFinish, params.onProgress); // 汇总返回回调\n\n  var unFinishCount = params.files.length;\n  var _onTotalFileFinish = params.onFileFinish;\n  var resultList = Array(unFinishCount);\n\n  var onTotalFileFinish = function onTotalFileFinish(err, data, options) {\n    onTotalProgress(null, true);\n    _onTotalFileFinish && _onTotalFileFinish(err, data, options);\n    resultList[options.Index] = {\n      options: options,\n      error: err,\n      data: data\n    };\n\n    if (--unFinishCount <= 0 && callback) {\n      callback(null, {\n        files: resultList\n      });\n    }\n  }; // 开始处理每个文件\n\n\n  var taskList = [];\n  util.each(params.files, function (fileParams, index) {\n    (function () {\n      // 对齐 nodejs 缩进\n      var Body = fileParams.Body;\n      var FileSize = Body.size || Body.length || 0;\n      var fileInfo = {\n        Index: index,\n        TaskId: ''\n      }; // 更新文件总大小\n\n      TotalSize += FileSize; // 整理 option，用于返回给回调\n\n      util.each(fileParams, function (v, k) {\n        if (typeof v !== 'object' && typeof v !== 'function') {\n          fileInfo[k] = v;\n        }\n      }); // 处理单个文件 TaskReady\n\n      var _onTaskReady = fileParams.onTaskReady;\n\n      var onTaskReady = function onTaskReady(tid) {\n        fileInfo.TaskId = tid;\n        _onTaskReady && _onTaskReady(tid);\n      };\n\n      fileParams.onTaskReady = onTaskReady; // 处理单个文件进度\n\n      var PreAddSize = 0;\n      var _onProgress = fileParams.onProgress;\n\n      var onProgress = function onProgress(info) {\n        TotalFinish = TotalFinish - PreAddSize + info.loaded;\n        PreAddSize = info.loaded;\n        _onProgress && _onProgress(info);\n        onTotalProgress({\n          loaded: TotalFinish,\n          total: TotalSize\n        });\n      };\n\n      fileParams.onProgress = onProgress; // 处理单个文件完成\n\n      var _onFileFinish = fileParams.onFileFinish;\n\n      var onFileFinish = function onFileFinish(err, data) {\n        _onFileFinish && _onFileFinish(err, data);\n        onTotalFileFinish && onTotalFileFinish(err, data, fileInfo);\n      }; // 添加上传任务\n\n\n      var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n      taskList.push({\n        api: api,\n        params: fileParams,\n        callback: onFileFinish\n      });\n    })();\n  });\n\n  self._addTasks(taskList);\n} // 分片复制文件\n\n\nfunction sliceCopyFile(params, callback) {\n  var ep = new EventProxy();\n  var self = this;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var CopySource = params.CopySource;\n  var m = util.getSourceParams.call(this, CopySource);\n\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n\n  var SourceBucket = m.Bucket;\n  var SourceRegion = m.Region;\n  var SourceKey = decodeURIComponent(m.Key);\n  var CopySliceSize = params.CopySliceSize === undefined ? self.options.CopySliceSize : params.CopySliceSize;\n  CopySliceSize = Math.max(0, CopySliceSize);\n  var ChunkSize = params.CopyChunkSize || this.options.CopyChunkSize;\n  var ChunkParallel = this.options.CopyChunkParallelLimit;\n  var FinishSize = 0;\n  var FileSize;\n  var onProgress; // 分片复制完成，开始 multipartComplete 操作\n\n  ep.on('copy_slice_complete', function (UploadData) {\n    var metaHeaders = {};\n    util.each(params.Headers, function (val, k) {\n      if (k.toLowerCase().indexOf('x-cos-meta-') === 0) metaHeaders[k] = val;\n    });\n    var Parts = util.map(UploadData.PartList, function (item) {\n      return {\n        PartNumber: item.PartNumber,\n        ETag: item.ETag\n      };\n    });\n    self.multipartComplete({\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      UploadId: UploadData.UploadId,\n      Parts: Parts\n    }, function (err, data) {\n      if (err) {\n        onProgress(null, true);\n        return callback(err);\n      }\n\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      callback(null, data);\n    });\n  });\n  ep.on('get_copy_data_finish', function (UploadData) {\n    Async.eachLimit(UploadData.PartList, ChunkParallel, function (SliceItem, asyncCallback) {\n      var PartNumber = SliceItem.PartNumber;\n      var CopySourceRange = SliceItem.CopySourceRange;\n      var currentSize = SliceItem.end - SliceItem.start;\n      copySliceItem.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        CopySource: CopySource,\n        UploadId: UploadData.UploadId,\n        PartNumber: PartNumber,\n        CopySourceRange: CopySourceRange\n      }, function (err, data) {\n        if (err) return asyncCallback(err);\n        FinishSize += currentSize;\n        onProgress({\n          loaded: FinishSize,\n          total: FileSize\n        });\n        SliceItem.ETag = data.ETag;\n        asyncCallback(err || null, data);\n      });\n    }, function (err) {\n      if (err) {\n        onProgress(null, true);\n        return callback(err);\n      }\n\n      ep.emit('copy_slice_complete', UploadData);\n    });\n  });\n  ep.on('get_file_size_finish', function (SourceHeaders) {\n    // 控制分片大小\n    (function () {\n      var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n      var AutoChunkSize = 1024 * 1024;\n\n      for (var i = 0; i < SIZE.length; i++) {\n        AutoChunkSize = SIZE[i] * 1024 * 1024;\n        if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n      }\n\n      params.ChunkSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n      var ChunkCount = Math.ceil(FileSize / ChunkSize);\n      var list = [];\n\n      for (var partNumber = 1; partNumber <= ChunkCount; partNumber++) {\n        var start = (partNumber - 1) * ChunkSize;\n        var end = partNumber * ChunkSize < FileSize ? partNumber * ChunkSize - 1 : FileSize - 1;\n        var item = {\n          PartNumber: partNumber,\n          start: start,\n          end: end,\n          CopySourceRange: \"bytes=\" + start + \"-\" + end\n        };\n        list.push(item);\n      }\n\n      params.PartList = list;\n    })();\n\n    var TargetHeader;\n\n    if (params.Headers['x-cos-metadata-directive'] === 'Replaced') {\n      TargetHeader = params.Headers;\n    } else {\n      TargetHeader = SourceHeaders;\n    }\n\n    TargetHeader['x-cos-storage-class'] = params.Headers['x-cos-storage-class'] || SourceHeaders['x-cos-storage-class'];\n    TargetHeader = util.clearKey(TargetHeader);\n    /**\n     * 对于归档存储的对象，如果未恢复副本，则不允许 Copy\n     */\n\n    if (SourceHeaders['x-cos-storage-class'] === 'ARCHIVE' || SourceHeaders['x-cos-storage-class'] === 'DEEP_ARCHIVE') {\n      var restoreHeader = SourceHeaders['x-cos-restore'];\n\n      if (!restoreHeader || restoreHeader === 'ongoing-request=\"true\"') {\n        callback(util.error(new Error('Unrestored archive object is not allowed to be copied')));\n        return;\n      }\n    }\n    /**\n     * 去除一些无用的头部，规避 multipartInit 出错\n     * 这些头部通常是在 putObjectCopy 时才使用\n     */\n\n\n    delete TargetHeader['x-cos-copy-source'];\n    delete TargetHeader['x-cos-metadata-directive'];\n    delete TargetHeader['x-cos-copy-source-If-Modified-Since'];\n    delete TargetHeader['x-cos-copy-source-If-Unmodified-Since'];\n    delete TargetHeader['x-cos-copy-source-If-Match'];\n    delete TargetHeader['x-cos-copy-source-If-None-Match'];\n    self.multipartInit({\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Headers: TargetHeader\n    }, function (err, data) {\n      if (err) return callback(err);\n      params.UploadId = data.UploadId;\n      ep.emit('get_copy_data_finish', params);\n    });\n  }); // 获取远端复制源文件的大小\n\n  self.headObject({\n    Bucket: SourceBucket,\n    Region: SourceRegion,\n    Key: SourceKey\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 404) {\n        callback(util.error(err, {\n          ErrorStatus: SourceKey + ' Not Exist'\n        }));\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    FileSize = params.FileSize = data.headers['content-length'];\n\n    if (FileSize === undefined || !FileSize) {\n      callback(util.error(new Error('get Content-Length error, please add \"Content-Length\" to CORS ExposeHeader setting.（ 获取Content-Length失败，请在CORS ExposeHeader设置中添加Content-Length，请参考文档：https://cloud.tencent.com/document/product/436/13318 ）')));\n      return;\n    }\n\n    onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress); // 开始上传\n\n    if (FileSize <= CopySliceSize) {\n      if (!params.Headers['x-cos-metadata-directive']) {\n        params.Headers['x-cos-metadata-directive'] = 'Copy';\n      }\n\n      self.putObjectCopy(params, function (err, data) {\n        if (err) {\n          onProgress(null, true);\n          return callback(err);\n        }\n\n        onProgress({\n          loaded: FileSize,\n          total: FileSize\n        }, true);\n        callback(err, data);\n      });\n    } else {\n      var resHeaders = data.headers;\n      var SourceHeaders = {\n        'Cache-Control': resHeaders['cache-control'],\n        'Content-Disposition': resHeaders['content-disposition'],\n        'Content-Encoding': resHeaders['content-encoding'],\n        'Content-Type': resHeaders['content-type'],\n        'Expires': resHeaders['expires'],\n        'x-cos-storage-class': resHeaders['x-cos-storage-class']\n      };\n      util.each(resHeaders, function (v, k) {\n        var metaPrefix = 'x-cos-meta-';\n\n        if (k.indexOf(metaPrefix) === 0 && k.length > metaPrefix.length) {\n          SourceHeaders[k] = v;\n        }\n      });\n      ep.emit('get_file_size_finish', SourceHeaders);\n    }\n  });\n} // 复制指定分片\n\n\nfunction copySliceItem(params, callback) {\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var CopySource = params.CopySource;\n  var UploadId = params.UploadId;\n  var PartNumber = params.PartNumber * 1;\n  var CopySourceRange = params.CopySourceRange;\n  var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n  var self = this;\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    self.uploadPartCopy({\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      CopySource: CopySource,\n      UploadId: UploadId,\n      PartNumber: PartNumber,\n      CopySourceRange: CopySourceRange\n    }, function (err, data) {\n      tryCallback(err || null, data);\n    });\n  }, function (err, data) {\n    return callback(err, data);\n  });\n}\n\nvar API_MAP = {\n  sliceUploadFile: sliceUploadFile,\n  abortUploadTask: abortUploadTask,\n  uploadFile: uploadFile,\n  uploadFiles: uploadFiles,\n  sliceCopyFile: sliceCopyFile\n};\n\nmodule.exports.init = function (COS, task) {\n  task.transferToTaskMethod(API_MAP, 'sliceUploadFile');\n  util.each(API_MAP, function (fn, apiName) {\n    COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n  });\n};","var eachLimit = function eachLimit(arr, limit, iterator, callback) {\n  callback = callback || function () {};\n\n  if (!arr.length || limit <= 0) {\n    return callback();\n  }\n\n  var completed = 0;\n  var started = 0;\n  var running = 0;\n\n  (function replenish() {\n    if (completed >= arr.length) {\n      return callback();\n    }\n\n    while (running < limit && started < arr.length) {\n      started += 1;\n      running += 1;\n      iterator(arr[started - 1], function (err) {\n        if (err) {\n          callback(err);\n\n          callback = function callback() {};\n        } else {\n          completed += 1;\n          running -= 1;\n\n          if (completed >= arr.length) {\n            callback();\n          } else {\n            replenish();\n          }\n        }\n      });\n    }\n  })();\n};\n\nvar retry = function retry(times, iterator, callback) {\n  var next = function next(index) {\n    iterator(function (err, data) {\n      if (err && index < times) {\n        next(index + 1);\n      } else {\n        callback(err, data);\n      }\n    });\n  };\n\n  if (times < 1) {\n    callback();\n  } else {\n    next(1);\n  }\n};\n\nvar async = {\n  eachLimit: eachLimit,\n  retry: retry\n};\nmodule.exports = async;","var REQUEST = require('../lib/request');\n\nvar util = require('./util'); // Bucket 相关\n\n/**\n * 获取用户的 bucket 列表\n * @param  {Object}  params         回调函数，必须，下面为参数列表\n * 无特殊参数\n * @param  {Function}  callback     回调函数，必须\n */\n\n\nfunction getService(params, callback) {\n  if (typeof params === 'function') {\n    callback = params;\n    params = {};\n  }\n\n  var protocol = this.options.Protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\n  var domain = this.options.ServiceDomain;\n  var appId = params.AppId || this.options.appId;\n  var region = params.Region;\n\n  if (domain) {\n    domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId || '').replace(/\\{\\{Region\\}\\}/ig, region || '').replace(/\\{\\{.*?\\}\\}/ig, '');\n\n    if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n      domain = protocol + '//' + domain;\n    }\n\n    if (domain.slice(-1) === '/') {\n      domain = domain.slice(0, -1);\n    }\n  } else if (region) {\n    domain = protocol + '//cos.' + region + '.myqcloud.com';\n  } else {\n    domain = protocol + '//service.cos.myqcloud.com';\n  }\n\n  var SignHost = '';\n  var standardHost = region ? 'cos.' + region + '.myqcloud.com' : 'service.cos.myqcloud.com';\n  var urlHost = domain.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n  if (standardHost === urlHost) SignHost = standardHost;\n  submitRequest.call(this, {\n    Action: 'name/cos:GetService',\n    url: domain,\n    method: 'GET',\n    headers: params.Headers,\n    SignHost: SignHost\n  }, function (err, data) {\n    if (err) return callback(err);\n    var buckets = data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Buckets && data.ListAllMyBucketsResult.Buckets.Bucket || [];\n    buckets = util.isArray(buckets) ? buckets : [buckets];\n    var owner = data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Owner || {};\n    callback(null, {\n      Buckets: buckets,\n      Owner: owner,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 创建 Bucket，并初始化访问权限\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {String}  data.Location             操作地址\n */\n\n\nfunction putBucket(params, callback) {\n  var self = this;\n  var xml = '';\n\n  if (params['BucketAZConfig']) {\n    var CreateBucketConfiguration = {\n      BucketAZConfig: params.BucketAZConfig\n    };\n    xml = util.json2xml({\n      CreateBucketConfiguration: CreateBucketConfiguration\n    });\n  }\n\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucket',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    body: xml\n  }, function (err, data) {\n    if (err) return callback(err);\n    var url = getUrl({\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: params.Region,\n      isLocation: true\n    });\n    callback(null, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 查看是否存在该Bucket，是否有权限访问\n * @param  {Object}  params                     参数对象，必须\n *     @param  {String}  params.Bucket          Bucket名称，必须\n *     @param  {String}  params.Region          地域名称，必须\n * @param  {Function}  callback                 回调函数，必须\n * @return  {Object}  err                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                      返回的数据\n *     @return  {Boolean}  data.BucketExist     Bucket是否存在\n *     @return  {Boolean}  data.BucketAuth      是否有 Bucket 的访问权限\n */\n\n\nfunction headBucket(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:HeadBucket',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    method: 'HEAD'\n  }, callback);\n}\n/**\n * 获取 Bucket 下的 object 列表\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.Prefix              前缀匹配，用来规定返回的文件前缀地址，非必须\n *     @param  {String}  params.Delimiter           定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，非必须\n *     @param  {String}  params.Marker              默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\n *     @param  {String}  params.MaxKeys             单次返回最大的条目数量，默认1000，非必须\n *     @param  {String}  params.EncodingType        规定返回值的编码方式，非必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {Object}  data.ListBucketResult     返回的 object 列表信息\n */\n\n\nfunction getBucket(params, callback) {\n  var reqParams = {};\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['marker'] = params['Marker'];\n  reqParams['max-keys'] = params['MaxKeys'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucket',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListBucketResult = data.ListBucketResult || {};\n    var Contents = ListBucketResult.Contents || [];\n    var CommonPrefixes = ListBucketResult.CommonPrefixes || [];\n    Contents = util.isArray(Contents) ? Contents : [Contents];\n    CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\n    var result = util.clone(ListBucketResult);\n    util.extend(result, {\n      Contents: Contents,\n      CommonPrefixes: CommonPrefixes,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\n * 删除 Bucket\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n * @param  {Function}  callback             回调函数，必须\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  返回的数据\n *     @return  {String}  data.Location     操作地址\n */\n\n\nfunction deleteBucket(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucket',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    method: 'DELETE'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 设置 Bucket 的 权限列表\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n */\n\n\nfunction putBucketAcl(params, callback) {\n  var headers = params.Headers;\n  var xml = '';\n\n  if (params['AccessControlPolicy']) {\n    var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n    var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n    Grants = util.isArray(Grants) ? Grants : [Grants];\n    delete AccessControlPolicy.Grant;\n    delete AccessControlPolicy.Grants;\n    AccessControlPolicy.AccessControlList = {\n      Grant: Grants\n    };\n    xml = util.json2xml({\n      AccessControlPolicy: AccessControlPolicy\n    });\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  } // Grant Header 去重\n\n\n  util.each(headers, function (val, key) {\n    if (key.indexOf('x-cos-grant-') === 0) {\n      headers[key] = uniqGrant(headers[key]);\n    }\n  });\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketACL',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: headers,\n    action: 'acl',\n    body: xml\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的 权限列表\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {Object}  data.AccessControlPolicy  访问权限信息\n */\n\n\nfunction getBucketAcl(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketACL',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'acl'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var AccessControlPolicy = data.AccessControlPolicy || {};\n    var Owner = AccessControlPolicy.Owner || {};\n    var Grant = AccessControlPolicy.AccessControlList.Grant || [];\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n    var result = decodeAcl(AccessControlPolicy);\n\n    if (data.headers && data.headers['x-cos-acl']) {\n      result.ACL = data.headers['x-cos-acl'];\n    }\n\n    result = util.extend(result, {\n      Owner: Owner,\n      Grants: Grant,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\n * 设置 Bucket 的 跨域设置\n * @param  {Object}  params                             参数对象，必须\n *     @param  {String}  params.Bucket                  Bucket名称，必须\n *     @param  {String}  params.Region                  地域名称，必须\n *     @param  {Object}  params.CORSConfiguration       相关的跨域设置，必须\n * @param  {Array}  params.CORSConfiguration.CORSRules  对应的跨域规则\n * @param  {Function}  callback                         回调函数，必须\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              返回的数据\n */\n\n\nfunction putBucketCors(params, callback) {\n  var CORSConfiguration = params['CORSConfiguration'] || {};\n  var CORSRules = CORSConfiguration['CORSRules'] || params['CORSRules'] || [];\n  CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n  util.each(CORSRules, function (rule) {\n    util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n      var sKey = key + 's';\n      var val = rule[sKey] || rule[key] || [];\n      delete rule[sKey];\n      rule[key] = util.isArray(val) ? val : [val];\n    });\n  });\n  var xml = util.json2xml({\n    CORSConfiguration: {\n      CORSRule: CORSRules\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketCORS',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'cors',\n    headers: headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的 跨域设置\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {Object}  data.CORSRules            Bucket的跨域设置\n */\n\n\nfunction getBucketCors(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketCORS',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'cors'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchCORSConfiguration') {\n        var result = {\n          CORSRules: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var CORSConfiguration = data.CORSConfiguration || {};\n    var CORSRules = CORSConfiguration.CORSRules || CORSConfiguration.CORSRule || [];\n    CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n    util.each(CORSRules, function (rule) {\n      util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n        var sKey = key + 's';\n        var val = rule[sKey] || rule[key] || [];\n        delete rule[key];\n        rule[sKey] = util.isArray(val) ? val : [val];\n      });\n    });\n    callback(null, {\n      CORSRules: CORSRules,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 删除 Bucket 的 跨域设置\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n * @param  {Function}  callback             回调函数，必须\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  返回的数据\n */\n\n\nfunction deleteBucketCors(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketCORS',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'cors'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode || err.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的 地域信息\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据，包含地域信息 LocationConstraint\n */\n\n\nfunction getBucketLocation(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLocation',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'location'\n  }, callback);\n}\n\nfunction putBucketPolicy(params, callback) {\n  var Policy = params['Policy'];\n\n  try {\n    if (typeof Policy === 'string') Policy = JSON.parse(Policy);\n  } catch (e) {}\n\n  if (!Policy || typeof Policy === 'string') return callback(util.error(new Error('Policy format error')));\n  var PolicyStr = JSON.stringify(Policy);\n  if (!Policy.version) Policy.version = '2.0';\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/json';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(PolicyStr));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketPolicy',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'policy',\n    body: PolicyStr,\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的读取权限策略\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getBucketPolicy(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketPolicy',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'policy',\n    rawBody: true\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 403) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Access Denied'\n        }));\n      }\n\n      if (err.statusCode && err.statusCode === 405) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Method Not Allowed'\n        }));\n      }\n\n      if (err.statusCode && err.statusCode === 404) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Policy Not Found'\n        }));\n      }\n\n      return callback(err);\n    }\n\n    var Policy = {};\n\n    try {\n      Policy = JSON.parse(data.body);\n    } catch (e) {}\n\n    callback(null, {\n      Policy: Policy,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 删除 Bucket 的 跨域设置\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n * @param  {Function}  callback             回调函数，必须\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  返回的数据\n */\n\n\nfunction deleteBucketPolicy(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketPolicy',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'policy'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode || err.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 设置 Bucket 的标签\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {Array}   params.TagSet  标签设置，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction putBucketTagging(params, callback) {\n  var Tagging = params['Tagging'] || {};\n  var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n  Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n  var xml = util.json2xml({\n    Tagging: {\n      TagSet: {\n        Tag: Tags\n      }\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketTagging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'tagging',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的标签设置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getBucketTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketTagging',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\n        var result = {\n          Tags: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var Tags = [];\n\n    try {\n      Tags = data.Tagging.TagSet.Tag || [];\n    } catch (e) {}\n\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    callback(null, {\n      Tags: Tags,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 删除 Bucket 的 标签设置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回的数据\n */\n\n\nfunction deleteBucketTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketTagging',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction putBucketLifecycle(params, callback) {\n  var LifecycleConfiguration = params['LifecycleConfiguration'] || {};\n  var Rules = LifecycleConfiguration.Rules || params.Rules || [];\n  Rules = util.clone(Rules);\n  var xml = util.json2xml({\n    LifecycleConfiguration: {\n      Rule: Rules\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketLifecycle',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'lifecycle',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketLifecycle(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLifecycle',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'lifecycle'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchLifecycleConfiguration') {\n        var result = {\n          Rules: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var Rules = [];\n\n    try {\n      Rules = data.LifecycleConfiguration.Rule || [];\n    } catch (e) {}\n\n    Rules = util.clone(util.isArray(Rules) ? Rules : [Rules]);\n    callback(null, {\n      Rules: Rules,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction deleteBucketLifecycle(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketLifecycle',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'lifecycle'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction putBucketVersioning(params, callback) {\n  if (!params['VersioningConfiguration']) {\n    callback(util.error(new Error('missing param VersioningConfiguration')));\n    return;\n  }\n\n  var VersioningConfiguration = params['VersioningConfiguration'] || {};\n  var xml = util.json2xml({\n    VersioningConfiguration: VersioningConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketVersioning',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'versioning',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketVersioning(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketVersioning',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'versioning'\n  }, function (err, data) {\n    if (!err) {\n      !data.VersioningConfiguration && (data.VersioningConfiguration = {});\n    }\n\n    callback(err, data);\n  });\n}\n\nfunction putBucketReplication(params, callback) {\n  var ReplicationConfiguration = util.clone(params.ReplicationConfiguration);\n  var xml = util.json2xml({\n    ReplicationConfiguration: ReplicationConfiguration\n  });\n  xml = xml.replace(/<(\\/?)Rules>/ig, '<$1Rule>');\n  xml = xml.replace(/<(\\/?)Tags>/ig, '<$1Tag>');\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketReplication',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'replication',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketReplication(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketReplication',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'replication'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'ReplicationConfigurationnotFoundError')) {\n        var result = {\n          ReplicationConfiguration: {\n            Rules: []\n          },\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    !data.ReplicationConfiguration && (data.ReplicationConfiguration = {});\n\n    if (data.ReplicationConfiguration.Rule) {\n      data.ReplicationConfiguration.Rules = util.makeArray(data.ReplicationConfiguration.Rule);\n      delete data.ReplicationConfiguration.Rule;\n    }\n\n    callback(err, data);\n  });\n}\n\nfunction deleteBucketReplication(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketReplication',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'replication'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 设置 Bucket 静态网站配置信息\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n *     @param  {Object}  params.WebsiteConfiguration                        地域名称，必须\n *         @param  {Object}   WebsiteConfiguration.IndexDocument            索引文档，必须\n *         @param  {Object}   WebsiteConfiguration.ErrorDocument            错误文档，非必须\n *         @param  {Object}   WebsiteConfiguration.RedirectAllRequestsTo    重定向所有请求，非必须\n *         @param  {Array}   params.RoutingRules                            重定向规则，非必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\n\n\nfunction putBucketWebsite(params, callback) {\n  if (!params['WebsiteConfiguration']) {\n    callback(util.error(new Error('missing param WebsiteConfiguration')));\n    return;\n  }\n\n  var WebsiteConfiguration = util.clone(params['WebsiteConfiguration'] || {});\n  var RoutingRules = WebsiteConfiguration['RoutingRules'] || WebsiteConfiguration['RoutingRule'] || [];\n  RoutingRules = util.isArray(RoutingRules) ? RoutingRules : [RoutingRules];\n  delete WebsiteConfiguration.RoutingRule;\n  delete WebsiteConfiguration.RoutingRules;\n  if (RoutingRules.length) WebsiteConfiguration.RoutingRules = {\n    RoutingRule: RoutingRules\n  };\n  var xml = util.json2xml({\n    WebsiteConfiguration: WebsiteConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketWebsite',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'website',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的静态网站配置信息\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getBucketWebsite(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketWebsite',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'website'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error.Code === 'NoSuchWebsiteConfiguration') {\n        var result = {\n          WebsiteConfiguration: {},\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var WebsiteConfiguration = data.WebsiteConfiguration || {};\n\n    if (WebsiteConfiguration['RoutingRules']) {\n      var RoutingRules = util.clone(WebsiteConfiguration['RoutingRules'].RoutingRule || []);\n      RoutingRules = util.makeArray(RoutingRules);\n      WebsiteConfiguration.RoutingRules = RoutingRules;\n    }\n\n    callback(null, {\n      WebsiteConfiguration: WebsiteConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 删除 Bucket 的静态网站配置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction deleteBucketWebsite(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketWebsite',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'website'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 设置 Bucket 的防盗链白名单或者黑名单\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n *     @param  {Object}  params.RefererConfiguration                        地域名称，必须\n *         @param  {String}   RefererConfiguration.Status                   是否开启防盗链，枚举值：Enabled、Disabled\n *         @param  {String}   RefererConfiguration.RefererType              防盗链类型，枚举值：Black-List、White-List，必须\n *         @param  {Array}   RefererConfiguration.DomianList.Domain         生效域名，必须\n *         @param  {String}   RefererConfiguration.EmptyReferConfiguration  ，非必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\n\n\nfunction putBucketReferer(params, callback) {\n  if (!params['RefererConfiguration']) {\n    callback(util.error(new Error('missing param RefererConfiguration')));\n    return;\n  }\n\n  var RefererConfiguration = util.clone(params['RefererConfiguration'] || {});\n  var DomainList = RefererConfiguration['DomainList'] || {};\n  var Domains = DomainList['Domains'] || DomainList['Domain'] || [];\n  Domains = util.isArray(Domains) ? Domains : [Domains];\n  if (Domains.length) RefererConfiguration.DomainList = {\n    Domain: Domains\n  };\n  var xml = util.json2xml({\n    RefererConfiguration: RefererConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketReferer',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'referer',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的防盗链白名单或者黑名单\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getBucketReferer(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketReferer',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'referer'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error.Code === 'NoSuchRefererConfiguration') {\n        var result = {\n          WebsiteConfiguration: {},\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var RefererConfiguration = data.RefererConfiguration || {};\n\n    if (RefererConfiguration['DomainList']) {\n      var Domains = util.makeArray(RefererConfiguration['DomainList'].Domain || []);\n      RefererConfiguration.DomainList = {\n        Domains: Domains\n      };\n    }\n\n    callback(null, {\n      RefererConfiguration: RefererConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 设置 Bucket 自定义域名\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\n\n\nfunction putBucketDomain(params, callback) {\n  var DomainConfiguration = params['DomainConfiguration'] || {};\n  var DomainRule = DomainConfiguration.DomainRule || params.DomainRule || [];\n  DomainRule = util.clone(DomainRule);\n  var xml = util.json2xml({\n    DomainConfiguration: {\n      DomainRule: DomainRule\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketDomain',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'domain',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的自定义域名\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getBucketDomain(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketDomain',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'domain'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var DomainRule = [];\n\n    try {\n      DomainRule = data.DomainConfiguration.DomainRule || [];\n    } catch (e) {}\n\n    DomainRule = util.clone(util.isArray(DomainRule) ? DomainRule : [DomainRule]);\n    callback(null, {\n      DomainRule: DomainRule,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 删除 Bucket 自定义域名\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction deleteBucketDomain(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketDomain',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'domain'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 设置 Bucket 的回源\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\n\n\nfunction putBucketOrigin(params, callback) {\n  var OriginConfiguration = params['OriginConfiguration'] || {};\n  var OriginRule = OriginConfiguration.OriginRule || params.OriginRule || [];\n  OriginRule = util.clone(OriginRule);\n  var xml = util.json2xml({\n    OriginConfiguration: {\n      OriginRule: OriginRule\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketOrigin',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'origin',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的回源\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getBucketOrigin(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketOrigin',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'origin'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var OriginRule = [];\n\n    try {\n      OriginRule = data.OriginConfiguration.OriginRule || [];\n    } catch (e) {}\n\n    OriginRule = util.clone(util.isArray(OriginRule) ? OriginRule : [OriginRule]);\n    callback(null, {\n      OriginRule: OriginRule,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 删除 Bucket 的回源\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction deleteBucketOrigin(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketOrigin',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'origin'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 设置 Bucket 的日志记录\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n *     @param  {(Object|String)}  params.BucketLoggingStatus                         说明日志记录配置的状态，如果无子节点信息则意为关闭日志记录，必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\n\n\nfunction putBucketLogging(params, callback) {\n  var xml = util.json2xml({\n    BucketLoggingStatus: params['BucketLoggingStatus'] || ''\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketLogging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'logging',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的日志记录\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getBucketLogging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLogging',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'logging'\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      BucketLoggingStatus: data.BucketLoggingStatus,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 创建/编辑 Bucket 的清单任务\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n *     @param  {String}  params.Id                                          清单任务的名称，必须\n *     @param  {Object}  params.InventoryConfiguration                      包含清单的配置参数，必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\n\n\nfunction putBucketInventory(params, callback) {\n  var InventoryConfiguration = util.clone(params['InventoryConfiguration']);\n\n  if (InventoryConfiguration.OptionalFields) {\n    var Field = InventoryConfiguration.OptionalFields || [];\n    InventoryConfiguration.OptionalFields = {\n      Field: Field\n    };\n  }\n\n  if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n    var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n\n    if (Object.keys(Encryption).indexOf('SSECOS') > -1) {\n      Encryption['SSE-COS'] = Encryption['SSECOS'];\n      delete Encryption['SSECOS'];\n    }\n  }\n\n  var xml = util.json2xml({\n    InventoryConfiguration: InventoryConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketInventory',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    },\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的清单任务信息\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {String}  params.Id      清单任务的名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketInventory',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    }\n  }, function (err, data) {\n    if (err) return callback(err);\n    var InventoryConfiguration = data['InventoryConfiguration'];\n\n    if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n      var Field = InventoryConfiguration.OptionalFields.Field;\n\n      if (!util.isArray(Field)) {\n        Field = [Field];\n      }\n\n      InventoryConfiguration.OptionalFields = Field;\n    }\n\n    if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n      var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n\n      if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n        Encryption['SSECOS'] = Encryption['SSE-COS'];\n        delete Encryption['SSE-COS'];\n      }\n    }\n\n    callback(null, {\n      InventoryConfiguration: InventoryConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Bucket 的清单任务信息\n * @param  {Object}  params                             参数对象，必须\n *     @param  {String}  params.Bucket                  Bucket名称，必须\n *     @param  {String}  params.Region                  地域名称，必须\n *     @param  {String}  params.ContinuationToken       当 COS 响应体中 IsTruncated 为 true，且 NextContinuationToken 节点中存在参数值时，您可以将这个参数作为 continuation-token 参数值，以获取下一页的清单任务信息，非必须\n * @param  {Function}  callback                         回调函数，必须\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              返回数据\n */\n\n\nfunction listBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:ListBucketInventory',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      'continuation-token': params['ContinuationToken']\n    }\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListInventoryConfigurationResult = data['ListInventoryConfigurationResult'];\n    var InventoryConfigurations = ListInventoryConfigurationResult.InventoryConfiguration || [];\n    InventoryConfigurations = util.isArray(InventoryConfigurations) ? InventoryConfigurations : [InventoryConfigurations];\n    delete ListInventoryConfigurationResult['InventoryConfiguration'];\n    util.each(InventoryConfigurations, function (InventoryConfiguration) {\n      if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n        var Field = InventoryConfiguration.OptionalFields.Field;\n\n        if (!util.isArray(Field)) {\n          Field = [Field];\n        }\n\n        InventoryConfiguration.OptionalFields = Field;\n      }\n\n      if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n        var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n\n        if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n          Encryption['SSECOS'] = Encryption['SSE-COS'];\n          delete Encryption['SSE-COS'];\n        }\n      }\n    });\n    ListInventoryConfigurationResult.InventoryConfigurations = InventoryConfigurations;\n    util.extend(ListInventoryConfigurationResult, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, ListInventoryConfigurationResult);\n  });\n}\n/**\n * 删除 Bucket 的清单任务\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {String}  params.Id      清单任务的名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\n\n\nfunction deleteBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketInventory',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    }\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/* 全球加速 */\n\n\nfunction putBucketAccelerate(params, callback) {\n  if (!params['AccelerateConfiguration']) {\n    callback(util.error(new Error('missing param AccelerateConfiguration')));\n    return;\n  }\n\n  var configuration = {\n    AccelerateConfiguration: params.AccelerateConfiguration || {}\n  };\n  var xml = util.json2xml(configuration);\n  var headers = {};\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketAccelerate',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'accelerate',\n    headers: headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketAccelerate(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketAccelerate',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'accelerate'\n  }, function (err, data) {\n    if (!err) {\n      !data.AccelerateConfiguration && (data.AccelerateConfiguration = {});\n    }\n\n    callback(err, data);\n  });\n}\n\nfunction putBucketEncryption(params, callback) {\n  var conf = params.ServerSideEncryptionConfiguration || {};\n  var Rules = conf.Rule || conf.Rules || [];\n  var xml = util.json2xml({\n    ServerSideEncryptionConfiguration: {\n      Rule: Rules\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketEncryption',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'encryption',\n    headers: headers\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\nfunction getBucketEncryption(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketEncryption',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'encryption'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.code === 'NoSuchEncryptionConfiguration') {\n        var result = {\n          EncryptionConfiguration: {\n            Rules: []\n          },\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var Rules = util.makeArray(data.EncryptionConfiguration && data.EncryptionConfiguration.Rule || []);\n    data.EncryptionConfiguration = {\n      Rules: Rules\n    };\n    callback(err, data);\n  });\n}\n\nfunction deleteBucketEncryption(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketReplication',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'encryption'\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n} // Object 相关\n\n/**\n * 取回对应Object的元数据，Head的权限与Get的权限一致\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.Key                 文件名称，必须\n *     @param  {String}  params.IfModifiedSince     当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          为指定 object 的元数据，如果设置了 IfModifiedSince ，且文件未修改，则返回一个对象，NotModified 属性为 true\n *     @return  {Boolean}  data.NotModified         是否在 IfModifiedSince 时间点之后未修改该 object，则为 true\n */\n\n\nfunction headObject(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:HeadObject',\n    method: 'HEAD',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    headers: params.Headers\n  }, function (err, data) {\n    if (err) {\n      var statusCode = err.statusCode;\n\n      if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n        return callback(null, {\n          NotModified: true,\n          statusCode: statusCode\n        });\n      }\n\n      return callback(err);\n    }\n\n    data.ETag = util.attr(data.headers, 'etag', '');\n    callback(null, data);\n  });\n}\n\nfunction listObjectVersions(params, callback) {\n  var reqParams = {};\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['key-marker'] = params['KeyMarker'];\n  reqParams['version-id-marker'] = params['VersionIdMarker'];\n  reqParams['max-keys'] = params['MaxKeys'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketObjectVersions',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams,\n    action: 'versions'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListVersionsResult = data.ListVersionsResult || {};\n    var DeleteMarkers = ListVersionsResult.DeleteMarker || [];\n    DeleteMarkers = util.isArray(DeleteMarkers) ? DeleteMarkers : [DeleteMarkers];\n    var Versions = ListVersionsResult.Version || [];\n    Versions = util.isArray(Versions) ? Versions : [Versions];\n    var result = util.clone(ListVersionsResult);\n    delete result.DeleteMarker;\n    delete result.Version;\n    util.extend(result, {\n      DeleteMarkers: DeleteMarkers,\n      Versions: Versions,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\n * 下载 object\n * @param  {Object}  params                                 参数对象，必须\n *     @param  {String}  params.Bucket                      Bucket名称，必须\n *     @param  {String}  params.Region                      地域名称，必须\n *     @param  {String}  params.Key                         文件名称，必须\n *     @param  {WriteStream}  params.Output                 文件写入流，非必须\n *     @param  {String}  params.IfModifiedSince             当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\n *     @param  {String}  params.IfUnmodifiedSince           如果文件修改时间早于或等于指定时间，才返回文件内容。否则返回 412 (precondition failed)，非必须\n *     @param  {String}  params.IfMatch                     当 ETag 与指定的内容一致，才返回文件。否则返回 412 (precondition failed)，非必须\n *     @param  {String}  params.IfNoneMatch                 当 ETag 与指定的内容不一致，才返回文件。否则返回304 (not modified)，非必须\n *     @param  {String}  params.ResponseContentType         设置返回头部中的 Content-Type 参数，非必须\n *     @param  {String}  params.ResponseContentLanguage     设置返回头部中的 Content-Language 参数，非必须\n *     @param  {String}  params.ResponseExpires             设置返回头部中的 Content-Expires 参数，非必须\n *     @param  {String}  params.ResponseCacheControl        设置返回头部中的 Cache-Control 参数，非必须\n *     @param  {String}  params.ResponseContentDisposition  设置返回头部中的 Content-Disposition 参数，非必须\n *     @param  {String}  params.ResponseContentEncoding     设置返回头部中的 Content-Encoding 参数，非必须\n * @param  {Function}  callback                             回调函数，必须\n * @param  {Object}  err                                    请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @param  {Object}  data                                   为对应的 object 数据，包括 body 和 headers\n */\n\n\nfunction getObject(params, callback) {\n  var reqParams = params.Query || {};\n  var reqParamsStr = params.QueryString || '';\n  var onProgress = util.throttleOnProgress.call(this, 0, params.onProgress);\n  reqParams['response-content-type'] = params['ResponseContentType'];\n  reqParams['response-content-language'] = params['ResponseContentLanguage'];\n  reqParams['response-expires'] = params['ResponseExpires'];\n  reqParams['response-cache-control'] = params['ResponseCacheControl'];\n  reqParams['response-content-disposition'] = params['ResponseContentDisposition'];\n  reqParams['response-content-encoding'] = params['ResponseContentEncoding']; // 如果用户自己传入了 output\n\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObject',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    DataType: params.DataType,\n    headers: params.Headers,\n    qs: reqParams,\n    qsStr: reqParamsStr,\n    rawBody: true,\n    onDownloadProgress: onProgress\n  }, function (err, data) {\n    onProgress(null, true);\n\n    if (err) {\n      var statusCode = err.statusCode;\n\n      if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n        return callback(null, {\n          NotModified: true\n        });\n      }\n\n      return callback(err);\n    }\n\n    callback(null, {\n      Body: data.body,\n      ETag: util.attr(data.headers, 'etag', ''),\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 上传 object\n * @param  {Object} params                                          参数对象，必须\n *     @param  {String}  params.Bucket                              Bucket名称，必须\n *     @param  {String}  params.Region                              地域名称，必须\n *     @param  {String}  params.Key                                 文件名称，必须\n *     @param  {File || Blob || String}  params.Body                上传文件对象或字符串，必须\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\n *     @param  {String}  params.GrantRead                           赋予被授权者读取对象的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantReadAcp                        赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantWriteAcp                       赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantFullControl                    赋予被授权者操作对象的所有权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.StorageClass                        设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD，非必须\n *     @param  {String}  params.x-cos-meta-*                        允许用户自定义的头部信息，将作为对象的元数据保存。大小限制2KB，非必须\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\n *     @param  {String}  params.ServerSideEncryption                支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n *     @param  {Function}  params.onProgress                        上传进度回调函数\n * @param  {Function}  callback                                     回调函数，必须\n * @return  {Object}  err                                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                          为对应的 object 数据\n *     @return  {String}  data.ETag                                 为对应上传文件的 ETag 值\n */\n\n\nfunction putObject(params, callback) {\n  var self = this;\n  var FileSize = params.ContentLength;\n  var onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress); // 特殊处理 Cache-Control、Content-Type，避免代理更改这两个字段导致写入到 Object 属性里\n\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n  var needCalcMd5 = params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5 || self.options.UploadCheckContentMd5;\n  util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n    if (md5) {\n      if (self.options.UploadCheckContentMd5) headers['Content-MD5'] = util.binaryBase64(md5);\n      if (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5) headers['x-cos-meta-md5'] = md5;\n    }\n\n    if (params.ContentLength !== undefined) headers['Content-Length'] = params.ContentLength;\n    onProgress(null, true); // 任务状态开始 uploading\n\n    submitRequest.call(self, {\n      Action: 'name/cos:PutObject',\n      TaskId: params.TaskId,\n      method: 'PUT',\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      headers: params.Headers,\n      qs: params.Query,\n      body: params.Body,\n      onProgress: onProgress\n    }, function (err, data) {\n      if (err) {\n        onProgress(null, true);\n        return callback(err);\n      }\n\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      var url = getUrl({\n        ForcePathStyle: self.options.ForcePathStyle,\n        protocol: self.options.Protocol,\n        domain: self.options.Domain,\n        bucket: params.Bucket,\n        region: !self.options.UseAccelerate ? params.Region : 'accelerate',\n        object: params.Key\n      });\n      url = url.substr(url.indexOf('://') + 3);\n      data.Location = url;\n      data.ETag = util.attr(data.headers, 'etag', '');\n      callback(null, data);\n    });\n  }, params.onHashProgress);\n}\n/**\n * 删除 object\n * @param  {Object}  params                     参数对象，必须\n *     @param  {String}  params.Bucket          Bucket名称，必须\n *     @param  {String}  params.Region          地域名称，必须\n *     @param  {String}  params.Key             object名称，必须\n * @param  {Function}  callback                 回调函数，必须\n * @param  {Object}  err                        请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @param  {Object}  data                       删除操作成功之后返回的数据\n */\n\n\nfunction deleteObject(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteObject',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    VersionId: params.VersionId,\n    action: params.Recursive ? 'recursive' : ''\n  }, function (err, data) {\n    if (err) {\n      var statusCode = err.statusCode;\n\n      if (statusCode && statusCode === 404) {\n        return callback(null, {\n          BucketNotFound: true,\n          statusCode: statusCode\n        });\n      } else {\n        return callback(err);\n      }\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 object 的 权限列表\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.Key                 object名称，必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {Object}  data.AccessControlPolicy  权限列表\n */\n\n\nfunction getObjectAcl(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObjectACL',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'acl'\n  }, function (err, data) {\n    if (err) return callback(err);\n    var AccessControlPolicy = data.AccessControlPolicy || {};\n    var Owner = AccessControlPolicy.Owner || {};\n    var Grant = AccessControlPolicy.AccessControlList && AccessControlPolicy.AccessControlList.Grant || [];\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n    var result = decodeAcl(AccessControlPolicy);\n    delete result.GrantWrite;\n\n    if (data.headers && data.headers['x-cos-acl']) {\n      result.ACL = data.headers['x-cos-acl'];\n    }\n\n    result = util.extend(result, {\n      Owner: Owner,\n      Grants: Grant,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\n * 设置 object 的 权限列表\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {String}  params.Key     object名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回的数据\n */\n\n\nfunction putObjectAcl(params, callback) {\n  var headers = params.Headers;\n  var xml = '';\n\n  if (params['AccessControlPolicy']) {\n    var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n    var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n    Grants = util.isArray(Grants) ? Grants : [Grants];\n    delete AccessControlPolicy.Grant;\n    delete AccessControlPolicy.Grants;\n    AccessControlPolicy.AccessControlList = {\n      Grant: Grants\n    };\n    xml = util.json2xml({\n      AccessControlPolicy: AccessControlPolicy\n    });\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  } // Grant Header 去重\n\n\n  util.each(headers, function (val, key) {\n    if (key.indexOf('x-cos-grant-') === 0) {\n      headers[key] = uniqGrant(headers[key]);\n    }\n  });\n  submitRequest.call(this, {\n    Action: 'name/cos:PutObjectACL',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    action: 'acl',\n    headers: headers,\n    body: xml\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * Options Object请求实现跨域访问的预请求。即发出一个 OPTIONS 请求给服务器以确认是否可以进行跨域操作。\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {String}  params.Key     object名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回的数据\n */\n\n\nfunction optionsObject(params, callback) {\n  var headers = params.Headers;\n  headers['Origin'] = params['Origin'];\n  headers['Access-Control-Request-Method'] = params['AccessControlRequestMethod'];\n  headers['Access-Control-Request-Headers'] = params['AccessControlRequestHeaders'];\n  submitRequest.call(this, {\n    Action: 'name/cos:OptionsObject',\n    method: 'OPTIONS',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: headers\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 403) {\n        return callback(null, {\n          OptionsForbidden: true,\n          statusCode: err.statusCode\n        });\n      }\n\n      return callback(err);\n    }\n\n    var headers = data.headers || {};\n    callback(null, {\n      AccessControlAllowOrigin: headers['access-control-allow-origin'],\n      AccessControlAllowMethods: headers['access-control-allow-methods'],\n      AccessControlAllowHeaders: headers['access-control-allow-headers'],\n      AccessControlExposeHeaders: headers['access-control-expose-headers'],\n      AccessControlMaxAge: headers['access-control-max-age'],\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * @param  {Object}                                     参数列表\n *     @param  {String}  Bucket                         Bucket 名称\n *     @param  {String}  Region                         地域名称\n *     @param  {String}  Key                            文件名称\n *     @param  {String}  CopySource                     源文件URL绝对路径，可以通过versionid子资源指定历史版本\n *     @param  {String}  ACL                            允许用户自定义文件权限。有效值：private，public-read默认值：private。\n *     @param  {String}  GrantRead                      赋予被授权者读的权限，格式 x-cos-grant-read: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\n *     @param  {String}  GrantWrite                     赋予被授权者写的权限，格式 x-cos-grant-write: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\n *     @param  {String}  GrantFullControl               赋予被授权者读写权限，格式 x-cos-grant-full-control: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\n *     @param  {String}  MetadataDirective              是否拷贝元数据，枚举值：Copy, Replaced，默认值Copy。假如标记为Copy，忽略Header中的用户元数据信息直接复制；假如标记为Replaced，按Header信息修改元数据。当目标路径和原路径一致，即用户试图修改元数据时，必须为Replaced\n *     @param  {String}  CopySourceIfModifiedSince      当Object在指定时间后被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-None-Match一起使用，与其他条件联合使用返回冲突。\n *     @param  {String}  CopySourceIfUnmodifiedSince    当Object在指定时间后未被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-Match一起使用，与其他条件联合使用返回冲突。\n *     @param  {String}  CopySourceIfMatch              当Object的ETag和给定一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Unmodified-Since一起使用，与其他条件联合使用返回冲突。\n *     @param  {String}  CopySourceIfNoneMatch          当Object的ETag和给定不一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Modified-Since一起使用，与其他条件联合使用返回冲突。\n *     @param  {String}  StorageClass                   存储级别，枚举值：存储级别，枚举值：Standard, Standard_IA，Archive；默认值：Standard\n *     @param  {String}  CacheControl                   指定所有缓存机制在整个请求/响应链中必须服从的指令。\n *     @param  {String}  ContentDisposition             MIME 协议的扩展，MIME 协议指示 MIME 用户代理如何显示附加的文件\n *     @param  {String}  ContentEncoding                HTTP 中用来对「采用何种编码格式传输正文」进行协定的一对头部字段\n *     @param  {String}  ContentLength                  设置响应消息的实体内容的大小，单位为字节\n *     @param  {String}  ContentType                    RFC 2616 中定义的 HTTP 请求内容类型（MIME），例如text/plain\n *     @param  {String}  Expect                         请求的特定的服务器行为\n *     @param  {String}  Expires                        响应过期的日期和时间\n *     @param  {String}  params.ServerSideEncryption   支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n *     @param  {String}  ContentLanguage                指定内容语言\n *     @param  {String}  x-cos-meta-*                   允许用户自定义的头部信息，将作为 Object 元数据返回。大小限制2K。\n */\n\n\nfunction putObjectCopy(params, callback) {\n  // 特殊处理 Cache-Control\n  var self = this;\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  var CopySource = params.CopySource || '';\n  var m = util.getSourceParams.call(this, CopySource);\n\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n\n  var SourceBucket = m[1];\n  var SourceRegion = m[3];\n  var SourceKey = decodeURIComponent(m[4]);\n  submitRequest.call(this, {\n    Scope: [{\n      action: 'name/cos:GetObject',\n      bucket: SourceBucket,\n      region: SourceRegion,\n      prefix: SourceKey\n    }, {\n      action: 'name/cos:PutObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: params.Key\n    }],\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    headers: params.Headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    var result = util.clone(data.CopyObjectResult || {});\n    var url = getUrl({\n      ForcePathStyle: self.options.ForcePathStyle,\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: params.Region,\n      object: params.Key,\n      isLocation: true\n    });\n    util.extend(result, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\nfunction uploadPartCopy(params, callback) {\n  var CopySource = params.CopySource || '';\n  var m = util.getSourceParams.call(this, CopySource);\n\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n\n  var SourceBucket = m[1];\n  var SourceRegion = m[3];\n  var SourceKey = decodeURIComponent(m[4]);\n  submitRequest.call(this, {\n    Scope: [{\n      action: 'name/cos:GetObject',\n      bucket: SourceBucket,\n      region: SourceRegion,\n      prefix: SourceKey\n    }, {\n      action: 'name/cos:PutObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: params.Key\n    }],\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    qs: {\n      partNumber: params['PartNumber'],\n      uploadId: params['UploadId']\n    },\n    headers: params.Headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    var result = util.clone(data.CopyPartResult || {});\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\nfunction deleteMultipleObject(params, callback) {\n  var Objects = params.Objects || [];\n  var Quiet = params.Quiet;\n  Objects = util.isArray(Objects) ? Objects : [Objects];\n  var xml = util.json2xml({\n    Delete: {\n      Object: Objects,\n      Quiet: Quiet || false\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  var Scope = util.map(Objects, function (v) {\n    return {\n      action: 'name/cos:DeleteObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: v.Key\n    };\n  });\n  submitRequest.call(this, {\n    Scope: Scope,\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'delete',\n    headers: headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    var DeleteResult = data.DeleteResult || {};\n    var Deleted = DeleteResult.Deleted || [];\n    var Errors = DeleteResult.Error || [];\n    Deleted = util.isArray(Deleted) ? Deleted : [Deleted];\n    Errors = util.isArray(Errors) ? Errors : [Errors];\n    var result = util.clone(DeleteResult);\n    util.extend(result, {\n      Error: Errors,\n      Deleted: Deleted,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\nfunction restoreObject(params, callback) {\n  var headers = params.Headers;\n\n  if (!params['RestoreRequest']) {\n    callback(util.error(new Error('missing param RestoreRequest')));\n    return;\n  }\n\n  var RestoreRequest = params.RestoreRequest || {};\n  var xml = util.json2xml({\n    RestoreRequest: RestoreRequest\n  });\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:RestoreObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    body: xml,\n    action: 'restore',\n    headers: headers\n  }, callback);\n}\n/**\n * 设置 Object 的标签\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Object名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {Array}   params.TagSet  标签设置，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              返回数据\n */\n\n\nfunction putObjectTagging(params, callback) {\n  var Tagging = params['Tagging'] || {};\n  var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n  Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n  var xml = util.json2xml({\n    Tagging: {\n      TagSet: {\n        Tag: Tags\n      }\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutObjectTagging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Key: params.Key,\n    Region: params.Region,\n    body: xml,\n    action: 'tagging',\n    headers: headers,\n    VersionId: params.VersionId\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 获取 Object 的标签设置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              返回数据\n */\n\n\nfunction getObjectTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObjectTagging',\n    method: 'GET',\n    Key: params.Key,\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging',\n    VersionId: params.VersionId\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\n        var result = {\n          Tags: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n\n      return;\n    }\n\n    var Tags = [];\n\n    try {\n      Tags = data.Tagging.TagSet.Tag || [];\n    } catch (e) {}\n\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    callback(null, {\n      Tags: Tags,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 删除 Object 的 标签设置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Object名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              返回的数据\n */\n\n\nfunction deleteObjectTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteObjectTagging',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'tagging',\n    VersionId: params.VersionId\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 使用 SQL 语句从指定对象（CSV 格式或者 JSON 格式）中检索内容\n * @param  {Object}  params                   参数对象，必须\n *     @param  {String}  params.Bucket        Object名称，必须\n *     @param  {String}  params.Region        地域名称，必须\n *     @param  {Object}  params.SelectRequest 地域名称，必须\n * @param  {Function}  callback               回调函数，必须\n * @return  {Object}  err                     请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data                    返回的数据\n */\n\n\nfunction selectObjectContent(params, callback) {\n  var SelectType = params['SelectType'];\n  if (!SelectType) return callback(util.error(new Error('missing param SelectType')));\n  var SelectRequest = params['SelectRequest'] || {};\n  var xml = util.json2xml({\n    SelectRequest: SelectRequest\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'select',\n    qs: {\n      'select-type': params['SelectType']\n    },\n    VersionId: params.VersionId,\n    body: xml,\n    DataType: 'arraybuffer',\n    rawBody: true\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n\n    var result = util.parseSelectPayload(data.body);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers,\n      Body: result.body,\n      Payload: result.payload\n    });\n  });\n} // 分块上传\n\n/**\n * 初始化分块上传\n * @param  {Object}  params                                     参数对象，必须\n *     @param  {String}  params.Bucket                          Bucket名称，必须\n *     @param  {String}  params.Region                          地域名称，必须\n *     @param  {String}  params.Key                             object名称，必须\n *     @param  {String}  params.UploadId                        object名称，必须\n *     @param  {String}  params.CacheControl                    RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentDisposition              RFC 2616 中定义的文件名称，将作为 Object 元数据保存    ，非必须\n *     @param  {String}  params.ContentEncoding                 RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentType                     RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\n *     @param  {String}  params.Expires                         RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ACL                             允许用户自定义文件权限，非必须\n *     @param  {String}  params.GrantRead                       赋予被授权者读的权限 ，非必须\n *     @param  {String}  params.GrantWrite                      赋予被授权者写的权限 ，非必须\n *     @param  {String}  params.GrantFullControl                赋予被授权者读写权限 ，非必须\n *     @param  {String}  params.StorageClass                    设置Object的存储级别，枚举值：Standard，Standard_IA，Archive，非必须\n *     @param  {String}  params.ServerSideEncryption           支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n * @param  {Function}  callback                                 回调函数，必须\n * @return  {Object}  err                                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                      返回的数据\n */\n\n\nfunction multipartInit(params, callback) {\n  var self = this; // 特殊处理 Cache-Control\n\n  var headers = params.Headers; // 特殊处理 Cache-Control、Content-Type\n\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n  util.getBodyMd5(params.Body && (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5), params.Body, function (md5) {\n    if (md5) params.Headers['x-cos-meta-md5'] = md5;\n    submitRequest.call(self, {\n      Action: 'name/cos:InitiateMultipartUpload',\n      method: 'POST',\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      action: 'uploads',\n      headers: params.Headers,\n      qs: params.Query\n    }, function (err, data) {\n      if (err) return callback(err);\n      data = util.clone(data || {});\n\n      if (data && data.InitiateMultipartUploadResult) {\n        return callback(null, util.extend(data.InitiateMultipartUploadResult, {\n          statusCode: data.statusCode,\n          headers: data.headers\n        }));\n      }\n\n      callback(null, data);\n    });\n  }, params.onHashProgress);\n}\n/**\n * 分块上传\n * @param  {Object}  params                                 参数对象，必须\n *     @param  {String}  params.Bucket                      Bucket名称，必须\n *     @param  {String}  params.Region                      地域名称，必须\n *     @param  {String}  params.Key                         object名称，必须\n *     @param  {File || Blob || String}  params.Body        上传文件对象或字符串\n *     @param  {String} params.ContentLength                RFC 2616 中定义的 HTTP 请求内容长度（字节），非必须\n *     @param  {String} params.Expect                       当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\n *     @param  {String} params.ServerSideEncryption         支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n *     @param  {String} params.ContentSha1                  RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验值，非必须\n * @param  {Function}  callback                             回调函数，必须\n *     @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}  data                              返回的数据\n *     @return  {Object}  data.ETag                         返回的文件分块 sha1 值\n */\n\n\nfunction multipartUpload(params, callback) {\n  var self = this;\n  util.getFileSize('multipartUpload', params, function () {\n    util.getBodyMd5(self.options.UploadCheckContentMd5, params.Body, function (md5) {\n      if (md5) params.Headers['Content-MD5'] = util.binaryBase64(md5);\n      submitRequest.call(self, {\n        Action: 'name/cos:UploadPart',\n        TaskId: params.TaskId,\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        qs: {\n          partNumber: params['PartNumber'],\n          uploadId: params['UploadId']\n        },\n        headers: params.Headers,\n        onProgress: params.onProgress,\n        body: params.Body || null\n      }, function (err, data) {\n        if (err) return callback(err);\n        callback(null, {\n          ETag: util.attr(data.headers, 'etag', ''),\n          statusCode: data.statusCode,\n          headers: data.headers\n        });\n      });\n    });\n  });\n}\n/**\n * 完成分块上传\n * @param  {Object}  params                             参数对象，必须\n *     @param  {String}  params.Bucket                  Bucket名称，必须\n *     @param  {String}  params.Region                  地域名称，必须\n *     @param  {String}  params.Key                     object名称，必须\n *     @param  {Array}   params.Parts                   分块信息列表，必须\n *     @param  {String}  params.Parts[i].PartNumber     块编号，必须\n *     @param  {String}  params.Parts[i].ETag           分块的 sha1 校验值\n * @param  {Function}  callback                         回调函数，必须\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              返回的数据\n *     @return  {Object}  data.CompleteMultipartUpload  完成分块上传后的文件信息，包括Location, Bucket, Key 和 ETag\n */\n\n\nfunction multipartComplete(params, callback) {\n  var self = this;\n  var UploadId = params.UploadId;\n  var Parts = params['Parts'];\n\n  for (var i = 0, len = Parts.length; i < len; i++) {\n    if (Parts[i]['ETag'] && Parts[i]['ETag'].indexOf('\"') === 0) {\n      continue;\n    }\n\n    Parts[i]['ETag'] = '\"' + Parts[i]['ETag'] + '\"';\n  }\n\n  var xml = util.json2xml({\n    CompleteMultipartUpload: {\n      Part: Parts\n    }\n  }); // CSP/ceph CompleteMultipartUpload 接口 body 写死了限制 1MB，这里醉倒 10000 片时，xml 字符串去掉空格853KB\n\n  xml = xml.replace(/\\n\\s*/g, '');\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:CompleteMultipartUpload',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    qs: {\n      uploadId: UploadId\n    },\n    body: xml,\n    headers: headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    var url = getUrl({\n      ForcePathStyle: self.options.ForcePathStyle,\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: params.Region,\n      object: params.Key,\n      isLocation: true\n    });\n    var res = data.CompleteMultipartUploadResult || {};\n\n    if (res.ProcessResults) {\n      if (res && res.ProcessResults) {\n        res.UploadResult = {\n          OriginalInfo: {\n            Key: res.Key,\n            Location: url,\n            ETag: res.ETag,\n            ImageInfo: res.ImageInfo\n          },\n          ProcessResults: res.ProcessResults\n        };\n        delete res.ImageInfo;\n        delete res.ProcessResults;\n      }\n    }\n\n    var result = util.extend(res, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\n * 分块上传任务列表查询\n * @param  {Object}  params                                 参数对象，必须\n *     @param  {String}  params.Bucket                      Bucket名称，必须\n *     @param  {String}  params.Region                      地域名称，必须\n *     @param  {String}  params.Delimiter                   定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，定义为Common Prefix，然后列出所有Common Prefix。如果没有Prefix，则从路径起点开始，非必须\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\n *     @param  {String}  params.Prefix                      前缀匹配，用来规定返回的文件前缀地址，非必须\n *     @param  {String}  params.MaxUploads                  单次返回最大的条目数量，默认1000，非必须\n *     @param  {String}  params.KeyMarker                   与upload-id-marker一起使用 </Br>当upload-id-marker未被指定时，ObjectName字母顺序大于key-marker的条目将被列出 </Br>当upload-id-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\n *     @param  {String}  params.UploadIdMarker              与key-marker一起使用 </Br>当key-marker未被指定时，upload-id-marker将被忽略 </Br>当key-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\n * @param  {Function}  callback                             回调函数，必须\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                  返回的数据\n *     @return  {Object}  data.ListMultipartUploadsResult   分块上传任务信息\n */\n\n\nfunction multipartList(params, callback) {\n  var reqParams = {};\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['max-uploads'] = params['MaxUploads'];\n  reqParams['key-marker'] = params['KeyMarker'];\n  reqParams['upload-id-marker'] = params['UploadIdMarker'];\n  reqParams = util.clearKey(reqParams);\n  submitRequest.call(this, {\n    Action: 'name/cos:ListMultipartUploads',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams,\n    action: 'uploads'\n  }, function (err, data) {\n    if (err) return callback(err);\n\n    if (data && data.ListMultipartUploadsResult) {\n      var Upload = data.ListMultipartUploadsResult.Upload || [];\n      Upload = util.isArray(Upload) ? Upload : [Upload];\n      data.ListMultipartUploadsResult.Upload = Upload;\n    }\n\n    var result = util.clone(data.ListMultipartUploadsResult || {});\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\n * 上传的分块列表查询\n * @param  {Object}  params                                 参数对象，必须\n *     @param  {String}  params.Bucket                      Bucket名称，必须\n *     @param  {String}  params.Region                      地域名称，必须\n *     @param  {String}  params.Key                         object名称，必须\n *     @param  {String}  params.UploadId                    标示本次分块上传的ID，必须\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\n *     @param  {String}  params.MaxParts                    单次返回最大的条目数量，默认1000，非必须\n *     @param  {String}  params.PartNumberMarker            默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\n * @param  {Function}  callback                             回调函数，必须\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                  返回的数据\n *     @return  {Object}  data.ListMultipartUploadsResult   分块信息\n */\n\n\nfunction multipartListPart(params, callback) {\n  var reqParams = {};\n  reqParams['uploadId'] = params['UploadId'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  reqParams['max-parts'] = params['MaxParts'];\n  reqParams['part-number-marker'] = params['PartNumberMarker'];\n  submitRequest.call(this, {\n    Action: 'name/cos:ListParts',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    qs: reqParams\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListPartsResult = data.ListPartsResult || {};\n    var Part = ListPartsResult.Part || [];\n    Part = util.isArray(Part) ? Part : [Part];\n    ListPartsResult.Part = Part;\n    var result = util.clone(ListPartsResult);\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n/**\n * 抛弃分块上传\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n *     @param  {String}  params.Key         object名称，必须\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\n * @param  {Function}  callback             回调函数，必须\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            返回的数据\n */\n\n\nfunction multipartAbort(params, callback) {\n  var reqParams = {};\n  reqParams['uploadId'] = params['UploadId'];\n  submitRequest.call(this, {\n    Action: 'name/cos:AbortMultipartUpload',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    qs: reqParams\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n/**\n * 抛弃分块上传\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n *     @param  {String}  params.Key         object名称，必须\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\n * @param  {Function}  callback             回调函数，必须\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            返回的数据\n */\n\n\nfunction request(params, callback) {\n  submitRequest.call(this, {\n    method: params.Method,\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    action: params.Action,\n    headers: params.Headers,\n    qs: params.Query,\n    body: params.Body,\n    Url: params.Url,\n    rawBody: params.RawBody,\n    DataType: params.DataType\n  }, function (err, data) {\n    if (err) return callback(err);\n\n    if (data && data.body) {\n      data.Body = data.body;\n      delete data.body;\n    }\n\n    callback(err, data);\n  });\n}\n/**\n * 追加上传\n * @param  {Object}  params                                         参数对象，必须\n *     @param  {String}  params.Bucket                              Bucket名称，必须\n *     @param  {String}  params.Region                              地域名称，必须\n *     @param  {String}  params.Key                                 object名称，必须\n *     @param  {File || Blob || String}  params.Body                上传文件对象或字符串\n *     @param  {Number}  params.Position                            追加操作的起始点，单位为字节，必须\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\n *     @param  {String}  params.GrantRead                           赋予被授权者读取对象的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantReadAcp                        赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantWriteAcp                       赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantFullControl                    赋予被授权者操作对象的所有权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.StorageClass                        设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD，非必须\n *     @param  {String}  params.x-cos-meta-*                        允许用户自定义的头部信息，将作为对象的元数据保存。大小限制2KB，非必须\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\n *     @param  {String}  params.ServerSideEncryption                支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n * @param  {Function}  callback                                     回调函数，必须\n *     @return  {Object}    err                                     请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data                                    返回的数据\n */\n\n\nfunction appendObject(params, callback) {\n  // 特殊处理 Cache-Control、Content-Type，避免代理更改这两个字段导致写入到 Object 属性里\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\n  submitRequest.call(this, {\n    Action: 'name/cos:AppendObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'append',\n    Key: params.Key,\n    body: params.Body,\n    qs: {\n      position: params.Position\n    },\n    headers: params.Headers\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, data);\n  });\n}\n/**\n * 获取签名\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Method  请求方法，必须\n *     @param  {String}  params.Key     object名称，必须\n *     @param  {String}  params.Expires 名超时时间，单位秒，可选\n * @return  {String}  data              返回签名字符串\n */\n\n\nfunction getAuth(params) {\n  var self = this;\n  return util.getAuth({\n    SecretId: params.SecretId || this.options.SecretId || '',\n    SecretKey: params.SecretKey || this.options.SecretKey || '',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Method: params.Method,\n    Key: params.Key,\n    Query: params.Query,\n    Headers: params.Headers,\n    Expires: params.Expires,\n    UseRawKey: self.options.UseRawKey,\n    SystemClockOffset: self.options.SystemClockOffset\n  });\n}\n/**\n * 获取文件下载链接\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n *     @param  {String}  params.Key         object名称，必须\n *     @param  {String}  params.Method      请求的方法，可选\n *     @param  {String}  params.Expires     签名超时时间，单位秒，可选\n * @param  {Function}  callback             回调函数，必须\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            返回的数据\n */\n\n\nfunction getObjectUrl(params, callback) {\n  var self = this;\n  var useAccelerate = params.UseAccelerate === undefined ? self.options.UseAccelerate : params.UseAccelerate;\n  var url = getUrl({\n    ForcePathStyle: self.options.ForcePathStyle,\n    protocol: params.Protocol || self.options.Protocol,\n    domain: params.Domain || self.options.Domain,\n    bucket: params.Bucket,\n    region: useAccelerate ? 'accelerate' : params.Region,\n    object: params.Key\n  });\n  var queryParamsStr = '';\n\n  if (params.Query) {\n    queryParamsStr += util.obj2str(params.Query);\n  }\n\n  if (params.QueryString) {\n    queryParamsStr += (queryParamsStr ? '&' : '') + params.QueryString;\n  }\n\n  var syncUrl = url;\n\n  if (params.Sign !== undefined && !params.Sign) {\n    queryParamsStr && (syncUrl += '?' + queryParamsStr);\n    callback(null, {\n      Url: syncUrl\n    });\n    return syncUrl;\n  } // 签名加上 Host，避免跨桶访问\n\n\n  var SignHost = getSignHost.call(this, {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    UseAccelerate: params.UseAccelerate,\n    Url: url\n  });\n  var AuthData = getAuthorizationAsync.call(this, {\n    Action: (params.Method || '').toUpperCase() === 'PUT' ? 'name/cos:PutObject' : 'name/cos:GetObject',\n    Bucket: params.Bucket || '',\n    Region: params.Region || '',\n    Method: params.Method || 'get',\n    Key: params.Key,\n    Expires: params.Expires,\n    Headers: params.Headers,\n    Query: params.Query,\n    SignHost: SignHost,\n    ForceSignHost: params.ForceSignHost === false ? false : self.options.ForceSignHost // getObjectUrl支持传参ForceSignHost\n\n  }, function (err, AuthData) {\n    if (!callback) return;\n\n    if (err) {\n      callback(err);\n      return;\n    } // 兼容万象url qUrlParamList需要再encode一次\n\n\n    var replaceUrlParamList = function replaceUrlParamList(url) {\n      var urlParams = url.match(/q-url-param-list.*?(?=&)/g)[0];\n      var encodedParams = 'q-url-param-list=' + encodeURIComponent(urlParams.replace(/q-url-param-list=/, '')).toLowerCase();\n      var reg = new RegExp(urlParams, 'g');\n      var replacedUrl = url.replace(reg, encodedParams);\n      return replacedUrl;\n    };\n\n    var signUrl = url;\n    signUrl += '?' + (AuthData.Authorization.indexOf('q-signature') > -1 ? replaceUrlParamList(AuthData.Authorization) : 'sign=' + encodeURIComponent(AuthData.Authorization));\n    AuthData.SecurityToken && (signUrl += '&x-cos-security-token=' + AuthData.SecurityToken);\n    AuthData.ClientIP && (signUrl += '&clientIP=' + AuthData.ClientIP);\n    AuthData.ClientUA && (signUrl += '&clientUA=' + AuthData.ClientUA);\n    AuthData.Token && (signUrl += '&token=' + AuthData.Token);\n    queryParamsStr && (signUrl += '&' + queryParamsStr);\n    setTimeout(function () {\n      callback(null, {\n        Url: signUrl\n      });\n    });\n  });\n\n  if (AuthData) {\n    syncUrl += '?' + AuthData.Authorization + (AuthData.SecurityToken ? '&x-cos-security-token=' + AuthData.SecurityToken : '');\n    queryParamsStr && (syncUrl += '&' + queryParamsStr);\n  } else {\n    queryParamsStr && (syncUrl += '?' + queryParamsStr);\n  }\n\n  return syncUrl;\n}\n/**\n * 私有方法\n */\n\n\nfunction decodeAcl(AccessControlPolicy) {\n  var result = {\n    GrantFullControl: [],\n    GrantWrite: [],\n    GrantRead: [],\n    GrantReadAcp: [],\n    GrantWriteAcp: [],\n    ACL: ''\n  };\n  var GrantMap = {\n    'FULL_CONTROL': 'GrantFullControl',\n    'WRITE': 'GrantWrite',\n    'READ': 'GrantRead',\n    'READ_ACP': 'GrantReadAcp',\n    'WRITE_ACP': 'GrantWriteAcp'\n  };\n  var AccessControlList = AccessControlPolicy && AccessControlPolicy.AccessControlList || {};\n  var Grant = AccessControlList.Grant;\n\n  if (Grant) {\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n  }\n\n  var PublicAcl = {\n    READ: 0,\n    WRITE: 0,\n    FULL_CONTROL: 0\n  };\n  Grant && Grant.length && util.each(Grant, function (item) {\n    if (item.Grantee.ID === 'qcs::cam::anyone:anyone' || item.Grantee.URI === 'http://cam.qcloud.com/groups/global/AllUsers') {\n      PublicAcl[item.Permission] = 1;\n    } else if (item.Grantee.ID !== AccessControlPolicy.Owner.ID) {\n      result[GrantMap[item.Permission]].push('id=\"' + item.Grantee.ID + '\"');\n    }\n  });\n\n  if (PublicAcl.FULL_CONTROL || PublicAcl.WRITE && PublicAcl.READ) {\n    result.ACL = 'public-read-write';\n  } else if (PublicAcl.READ) {\n    result.ACL = 'public-read';\n  } else {\n    result.ACL = 'private';\n  }\n\n  util.each(GrantMap, function (item) {\n    result[item] = uniqGrant(result[item].join(','));\n  });\n  return result;\n} // Grant 去重\n\n\nfunction uniqGrant(str) {\n  var arr = str.split(',');\n  var exist = {};\n  var i, item;\n\n  for (i = 0; i < arr.length;) {\n    item = arr[i].trim();\n\n    if (exist[item]) {\n      arr.splice(i, 1);\n    } else {\n      exist[item] = true;\n      arr[i] = item;\n      i++;\n    }\n  }\n\n  return arr.join(',');\n} // 生成操作 url\n\n\nfunction getUrl(params) {\n  var region = params.region || '';\n  var longBucket = params.bucket || '';\n  var shortBucket = longBucket.substr(0, longBucket.lastIndexOf('-'));\n  var appId = longBucket.substr(longBucket.lastIndexOf('-') + 1);\n  var domain = params.domain;\n  var object = params.object;\n\n  if (typeof domain === 'function') {\n    domain = domain({\n      Bucket: longBucket,\n      Region: region\n    });\n  }\n\n  var protocol = params.protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\n\n  if (!domain) {\n    if (['cn-south', 'cn-south-2', 'cn-north', 'cn-east', 'cn-southwest', 'sg'].indexOf(region) > -1) {\n      domain = '{Region}.myqcloud.com';\n    } else {\n      domain = 'cos.{Region}.myqcloud.com';\n    }\n\n    if (!params.ForcePathStyle) {\n      domain = '{Bucket}.' + domain;\n    }\n  }\n\n  domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId).replace(/\\{\\{Bucket\\}\\}/ig, shortBucket).replace(/\\{\\{Region\\}\\}/ig, region).replace(/\\{\\{.*?\\}\\}/ig, '');\n  domain = domain.replace(/\\{AppId\\}/ig, appId).replace(/\\{BucketName\\}/ig, shortBucket).replace(/\\{Bucket\\}/ig, longBucket).replace(/\\{Region\\}/ig, region).replace(/\\{.*?\\}/ig, '');\n\n  if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n    domain = protocol + '//' + domain;\n  } // 去掉域名最后的斜杆\n\n\n  if (domain.slice(-1) === '/') {\n    domain = domain.slice(0, -1);\n  }\n\n  var url = domain;\n\n  if (params.ForcePathStyle) {\n    url += '/' + longBucket;\n  }\n\n  url += '/';\n\n  if (object) {\n    url += util.camSafeUrlEncode(object).replace(/%2F/g, '/');\n  }\n\n  if (params.isLocation) {\n    url = url.replace(/^https?:\\/\\//, '');\n  }\n\n  return url;\n}\n\nvar getSignHost = function getSignHost(opt) {\n  if (!opt.Bucket || !opt.Region) return '';\n  var useAccelerate = opt.UseAccelerate === undefined ? this.options.UseAccelerate : opt.UseAccelerate;\n  var url = opt.Url || getUrl({\n    ForcePathStyle: this.options.ForcePathStyle,\n    protocol: this.options.Protocol,\n    domain: this.options.Domain,\n    bucket: opt.Bucket,\n    region: useAccelerate ? 'accelerate' : opt.Region\n  });\n  var urlHost = url.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n  var standardHostReg = new RegExp('^([a-z\\\\d-]+-\\\\d+\\\\.)?(cos|cosv6|ci|pic)\\\\.([a-z\\\\d-]+)\\\\.myqcloud\\\\.com$');\n  if (standardHostReg.test(urlHost)) return urlHost;\n  return '';\n}; // 异步获取签名\n\n\nfunction getAuthorizationAsync(params, callback) {\n  var headers = util.clone(params.Headers);\n  var headerHost = '';\n  util.each(headers, function (v, k) {\n    (v === '' || ['content-type', 'cache-control', 'expires'].indexOf(k.toLowerCase()) > -1) && delete headers[k];\n    if (k.toLowerCase() === 'host') headerHost = v;\n  }); // ForceSignHost明确传入false才不加入host签名\n\n  var forceSignHost = params.ForceSignHost === false ? false : true; // Host 加入签名计算\n\n  if (!headerHost && params.SignHost && forceSignHost) headers.Host = params.SignHost; // 获取凭证的回调，避免用户 callback 多次\n\n  var cbDone = false;\n\n  var cb = function cb(err, AuthData) {\n    if (cbDone) return;\n    cbDone = true;\n\n    if (AuthData && AuthData.XCosSecurityToken && !AuthData.SecurityToken) {\n      AuthData = util.clone(AuthData);\n      AuthData.SecurityToken = AuthData.XCosSecurityToken;\n      delete AuthData.XCosSecurityToken;\n    }\n\n    callback && callback(err, AuthData);\n  };\n\n  var self = this;\n  var Bucket = params.Bucket || '';\n  var Region = params.Region || ''; // PathName\n\n  var KeyName = params.Key || '';\n\n  if (self.options.ForcePathStyle && Bucket) {\n    KeyName = Bucket + '/' + KeyName;\n  }\n\n  var Pathname = '/' + KeyName; // Action、ResourceKey\n\n  var StsData = {};\n  var Scope = params.Scope;\n\n  if (!Scope) {\n    var Action = params.Action || '';\n    var ResourceKey = params.ResourceKey || params.Key || '';\n    Scope = params.Scope || [{\n      action: Action,\n      bucket: Bucket,\n      region: Region,\n      prefix: ResourceKey\n    }];\n  }\n\n  var ScopeKey = util.md5(JSON.stringify(Scope)); // STS\n\n  self._StsCache = self._StsCache || [];\n\n  (function () {\n    var i, AuthData;\n\n    for (i = self._StsCache.length - 1; i >= 0; i--) {\n      AuthData = self._StsCache[i];\n      var compareTime = Math.round(util.getSkewTime(self.options.SystemClockOffset) / 1000) + 30;\n\n      if (AuthData.StartTime && compareTime < AuthData.StartTime || compareTime >= AuthData.ExpiredTime) {\n        self._StsCache.splice(i, 1);\n\n        continue;\n      }\n\n      if (!AuthData.ScopeLimit || AuthData.ScopeLimit && AuthData.ScopeKey === ScopeKey) {\n        StsData = AuthData;\n        break;\n      }\n    }\n  })();\n\n  var calcAuthByTmpKey = function calcAuthByTmpKey() {\n    var KeyTime = StsData.StartTime && StsData.ExpiredTime ? StsData.StartTime + ';' + StsData.ExpiredTime : '';\n    var Authorization = util.getAuth({\n      SecretId: StsData.TmpSecretId,\n      SecretKey: StsData.TmpSecretKey,\n      Method: params.Method,\n      Pathname: Pathname,\n      Query: params.Query,\n      Headers: headers,\n      Expires: params.Expires,\n      UseRawKey: self.options.UseRawKey,\n      SystemClockOffset: self.options.SystemClockOffset,\n      KeyTime: KeyTime,\n      ForceSignHost: forceSignHost\n    });\n    var AuthData = {\n      Authorization: Authorization,\n      SecurityToken: StsData.SecurityToken || StsData.XCosSecurityToken || '',\n      Token: StsData.Token || '',\n      ClientIP: StsData.ClientIP || '',\n      ClientUA: StsData.ClientUA || ''\n    };\n    cb(null, AuthData);\n  };\n\n  var checkAuthError = function checkAuthError(AuthData) {\n    if (AuthData.Authorization) {\n      // 检查签名格式\n      var formatAllow = false;\n      var auth = AuthData.Authorization;\n\n      if (auth) {\n        if (auth.indexOf(' ') > -1) {\n          formatAllow = false;\n        } else if (auth.indexOf('q-sign-algorithm=') > -1 && auth.indexOf('q-ak=') > -1 && auth.indexOf('q-sign-time=') > -1 && auth.indexOf('q-key-time=') > -1 && auth.indexOf('q-url-param-list=') > -1) {\n          formatAllow = true;\n        } else {\n          try {\n            auth = atob(auth);\n\n            if (auth.indexOf('a=') > -1 && auth.indexOf('k=') > -1 && auth.indexOf('t=') > -1 && auth.indexOf('r=') > -1 && auth.indexOf('b=') > -1) {\n              formatAllow = true;\n            }\n          } catch (e) {}\n        }\n      }\n\n      if (!formatAllow) return util.error(new Error('getAuthorization callback params format error'));\n    } else {\n      if (!AuthData.TmpSecretId) return util.error(new Error('getAuthorization callback params missing \"TmpSecretId\"'));\n      if (!AuthData.TmpSecretKey) return util.error(new Error('getAuthorization callback params missing \"TmpSecretKey\"'));\n      if (!AuthData.SecurityToken && !AuthData.XCosSecurityToken) return util.error(new Error('getAuthorization callback params missing \"SecurityToken\"'));\n      if (!AuthData.ExpiredTime) return util.error(new Error('getAuthorization callback params missing \"ExpiredTime\"'));\n      if (AuthData.ExpiredTime && AuthData.ExpiredTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"ExpiredTime\" should be 10 digits'));\n      if (AuthData.StartTime && AuthData.StartTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"StartTime\" should be 10 StartTime'));\n    }\n\n    return false;\n  }; // 先判断是否有临时密钥\n\n\n  if (StsData.ExpiredTime && StsData.ExpiredTime - util.getSkewTime(self.options.SystemClockOffset) / 1000 > 60) {\n    // 如果缓存的临时密钥有效，并还有超过60秒有效期就直接使用\n    calcAuthByTmpKey();\n  } else if (self.options.getAuthorization) {\n    // 外部计算签名或获取临时密钥\n    self.options.getAuthorization.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Method: params.Method,\n      Key: KeyName,\n      Pathname: Pathname,\n      Query: params.Query,\n      Headers: headers,\n      Scope: Scope,\n      SystemClockOffset: self.options.SystemClockOffset,\n      ForceSignHost: forceSignHost\n    }, function (AuthData) {\n      if (typeof AuthData === 'string') AuthData = {\n        Authorization: AuthData\n      };\n      var AuthError = checkAuthError(AuthData);\n      if (AuthError) return cb(AuthError);\n\n      if (AuthData.Authorization) {\n        cb(null, AuthData);\n      } else {\n        StsData = AuthData || {};\n        StsData.Scope = Scope;\n        StsData.ScopeKey = ScopeKey;\n\n        self._StsCache.push(StsData);\n\n        calcAuthByTmpKey();\n      }\n    });\n  } else if (self.options.getSTS) {\n    // 外部获取临时密钥\n    self.options.getSTS.call(self, {\n      Bucket: Bucket,\n      Region: Region\n    }, function (data) {\n      StsData = data || {};\n      StsData.Scope = Scope;\n      StsData.ScopeKey = ScopeKey;\n      if (!StsData.TmpSecretId) StsData.TmpSecretId = StsData.SecretId;\n      if (!StsData.TmpSecretKey) StsData.TmpSecretKey = StsData.SecretKey;\n      var AuthError = checkAuthError(StsData);\n      if (AuthError) return cb(AuthError);\n\n      self._StsCache.push(StsData);\n\n      calcAuthByTmpKey();\n    });\n  } else {\n    // 内部计算获取签名\n    return function () {\n      var Authorization = util.getAuth({\n        SecretId: params.SecretId || self.options.SecretId,\n        SecretKey: params.SecretKey || self.options.SecretKey,\n        Method: params.Method,\n        Pathname: Pathname,\n        Query: params.Query,\n        Headers: headers,\n        Expires: params.Expires,\n        UseRawKey: self.options.UseRawKey,\n        SystemClockOffset: self.options.SystemClockOffset,\n        ForceSignHost: forceSignHost\n      });\n      var AuthData = {\n        Authorization: Authorization,\n        SecurityToken: self.options.SecurityToken || self.options.XCosSecurityToken\n      };\n      cb(null, AuthData);\n      return AuthData;\n    }();\n  }\n\n  return '';\n} // 调整时间偏差\n\n\nfunction allowRetry(err) {\n  var allowRetry = false;\n  var isTimeError = false;\n  var serverDate = err.headers && (err.headers.date || err.headers.Date) || err.error && err.error.ServerTime;\n\n  try {\n    var errorCode = err.error.Code;\n    var errorMessage = err.error.Message;\n\n    if (errorCode === 'RequestTimeTooSkewed' || errorCode === 'AccessDenied' && errorMessage === 'Request has expired') {\n      isTimeError = true;\n    }\n  } catch (e) {}\n\n  if (err) {\n    if (isTimeError && serverDate) {\n      var serverTime = Date.parse(serverDate);\n\n      if (this.options.CorrectClockSkew && Math.abs(util.getSkewTime(this.options.SystemClockOffset) - serverTime) >= 30000) {\n        console.error('error: Local time is too skewed.');\n        this.options.SystemClockOffset = serverTime - Date.now();\n        allowRetry = true;\n      }\n    } else if (Math.floor(err.statusCode / 100) === 5) {\n      allowRetry = true;\n    }\n  }\n\n  return allowRetry;\n} // 获取签名并发起请求\n\n\nfunction submitRequest(params, callback) {\n  var self = this; // 处理 headers\n\n  !params.headers && (params.headers = {}); // 处理 query\n\n  !params.qs && (params.qs = {});\n  params.VersionId && (params.qs.versionId = params.VersionId);\n  params.qs = util.clearKey(params.qs); // 清理 undefined 和 null 字段\n\n  params.headers && (params.headers = util.clearKey(params.headers));\n  params.qs && (params.qs = util.clearKey(params.qs));\n  var Query = util.clone(params.qs);\n  params.action && (Query[params.action] = '');\n  var paramsUrl = params.url || params.Url;\n  var SignHost = params.SignHost || getSignHost.call(this, {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Url: paramsUrl\n  });\n\n  var next = function next(tryTimes) {\n    var oldClockOffset = self.options.SystemClockOffset;\n    getAuthorizationAsync.call(self, {\n      Bucket: params.Bucket || '',\n      Region: params.Region || '',\n      Method: params.method,\n      Key: params.Key,\n      Query: Query,\n      Headers: params.headers,\n      SignHost: SignHost,\n      Action: params.Action,\n      ResourceKey: params.ResourceKey,\n      Scope: params.Scope,\n      ForceSignHost: self.options.ForceSignHost\n    }, function (err, AuthData) {\n      if (err) {\n        callback(err);\n        return;\n      }\n\n      params.AuthData = AuthData;\n\n      _submitRequest.call(self, params, function (err, data) {\n        if (err && tryTimes < 2 && (oldClockOffset !== self.options.SystemClockOffset || allowRetry.call(self, err))) {\n          if (params.headers) {\n            delete params.headers.Authorization;\n            delete params.headers['token'];\n            delete params.headers['clientIP'];\n            delete params.headers['clientUA'];\n            params.headers['x-cos-security-token'] && delete params.headers['x-cos-security-token'];\n            params.headers['x-ci-security-token'] && delete params.headers['x-ci-security-token'];\n          }\n\n          next(tryTimes + 1);\n        } else {\n          callback(err, data);\n        }\n      });\n    });\n  };\n\n  next(1);\n} // 发起请求\n\n\nfunction _submitRequest(params, callback) {\n  var self = this;\n  var TaskId = params.TaskId;\n  if (TaskId && !self._isRunningTask(TaskId)) return;\n  var bucket = params.Bucket;\n  var region = params.Region;\n  var object = params.Key;\n  var method = params.method || 'GET';\n  var url = params.Url || params.url;\n  var body = params.body;\n  var rawBody = params.rawBody; // url\n\n  if (self.options.UseAccelerate) {\n    region = 'accelerate';\n  }\n\n  url = url || getUrl({\n    ForcePathStyle: self.options.ForcePathStyle,\n    protocol: self.options.Protocol,\n    domain: self.options.Domain,\n    bucket: bucket,\n    region: region,\n    object: object\n  });\n\n  if (params.action) {\n    url = url + '?' + params.action;\n  }\n\n  if (params.qsStr) {\n    if (url.indexOf('?') > -1) {\n      url = url + '&' + params.qsStr;\n    } else {\n      url = url + '?' + params.qsStr;\n    }\n  }\n\n  var opt = {\n    method: method,\n    url: url,\n    headers: params.headers,\n    qs: params.qs,\n    body: body\n  }; // 兼容ci接口\n\n  var token = 'x-cos-security-token';\n\n  if (util.isCIHost(url)) {\n    token = 'x-ci-security-token';\n  } // 获取签名\n\n\n  opt.headers.Authorization = params.AuthData.Authorization;\n  params.AuthData.Token && (opt.headers['token'] = params.AuthData.Token);\n  params.AuthData.ClientIP && (opt.headers['clientIP'] = params.AuthData.ClientIP);\n  params.AuthData.ClientUA && (opt.headers['clientUA'] = params.AuthData.ClientUA);\n  params.AuthData.SecurityToken && (opt.headers[token] = params.AuthData.SecurityToken); // 清理 undefined 和 null 字段\n\n  opt.headers && (opt.headers = util.clearKey(opt.headers));\n  opt = util.clearKey(opt); // progress\n\n  if (params.onProgress && typeof params.onProgress === 'function') {\n    var contentLength = body && (body.size || body.length) || 0;\n\n    opt.onProgress = function (e) {\n      if (TaskId && !self._isRunningTask(TaskId)) return;\n      var loaded = e ? e.loaded : 0;\n      params.onProgress({\n        loaded: loaded,\n        total: contentLength\n      });\n    };\n  }\n\n  if (params.onDownloadProgress) {\n    opt.onDownloadProgress = params.onDownloadProgress;\n  }\n\n  if (params.DataType) {\n    opt.dataType = params.DataType;\n  }\n\n  if (this.options.Timeout) {\n    opt.timeout = this.options.Timeout;\n  }\n\n  self.options.ForcePathStyle && (opt.pathStyle = self.options.ForcePathStyle);\n  self.emit('before-send', opt);\n  var sender = (self.options.Request || REQUEST)(opt, function (r) {\n    if (r.error === 'abort') return;\n    var receive = {\n      options: opt,\n      error: err,\n      statusCode: response && response.statusCode || 0,\n      headers: response && response.headers || {},\n      body: body\n    };\n    self.emit('after-receive', receive);\n    err = receive.error;\n    body = receive.body;\n    response = {\n      statusCode: receive.statusCode,\n      headers: receive.headers\n    }; // 抛出事件，允许修改返回值的 error、statusCode、statusMessage、body\n\n    self.emit('after-receive', r);\n    var response = {\n      statusCode: r.statusCode,\n      statusMessage: r.statusMessage,\n      headers: r.headers\n    };\n    var err = r.error;\n    var body = r.body; // 返回内容添加 状态码 和 headers\n\n    var hasReturned;\n\n    var cb = function cb(err, data) {\n      TaskId && self.off('inner-kill-task', killTask);\n      if (hasReturned) return;\n      hasReturned = true;\n      var attrs = {};\n      response && response.statusCode && (attrs.statusCode = response.statusCode);\n      response && response.headers && (attrs.headers = response.headers);\n\n      if (err) {\n        err = util.extend(err || {}, attrs);\n        callback(err, null);\n      } else {\n        data = util.extend(data || {}, attrs);\n        callback(null, data);\n      }\n\n      sender = null;\n    }; // 请求错误，发生网络错误\n\n\n    if (err) return cb(util.error(err)); // 请求返回码不为 200\n\n    var statusCode = response.statusCode;\n    var statusSuccess = Math.floor(statusCode / 100) === 2; // 200 202 204 206\n    // 不对 body 进行转换，body 直接挂载返回\n\n    if (rawBody && statusSuccess) return cb(null, {\n      body: body\n    }); // 解析 xml body\n\n    var json;\n\n    try {\n      json = body && body.indexOf('<') > -1 && body.indexOf('>') > -1 && util.xml2json(body) || {};\n    } catch (e) {\n      json = {};\n    } // 处理返回值\n\n\n    var xmlError = json && json.Error;\n\n    if (statusSuccess) {\n      // 正确返回，状态码 2xx 时，body 不会有 Error\n      cb(null, json);\n    } else if (xmlError) {\n      // 正常返回了 xml body，且有 Error 节点\n      cb(util.error(new Error(xmlError.Message), {\n        code: xmlError.Code,\n        error: xmlError\n      }));\n    } else if (statusCode) {\n      // 有错误的状态码\n      cb(util.error(new Error(response.statusMessage), {\n        code: '' + statusCode\n      }));\n    } else if (statusCode) {\n      // 无状态码，或者获取不到状态码\n      cb(util.error(new Error('statusCode error')));\n    }\n  }); // kill task\n\n  var killTask = function killTask(data) {\n    if (data.TaskId === TaskId) {\n      sender && sender.abort && sender.abort();\n      self.off('inner-kill-task', killTask);\n    }\n  };\n\n  TaskId && self.on('inner-kill-task', killTask);\n}\n\nvar API_MAP = {\n  // Bucket 相关方法\n  getService: getService,\n  // Bucket\n  putBucket: putBucket,\n  headBucket: headBucket,\n  // Bucket\n  getBucket: getBucket,\n  deleteBucket: deleteBucket,\n  putBucketAcl: putBucketAcl,\n  // BucketACL\n  getBucketAcl: getBucketAcl,\n  putBucketCors: putBucketCors,\n  // BucketCors\n  getBucketCors: getBucketCors,\n  deleteBucketCors: deleteBucketCors,\n  getBucketLocation: getBucketLocation,\n  // BucketLocation\n  getBucketPolicy: getBucketPolicy,\n  // BucketPolicy\n  putBucketPolicy: putBucketPolicy,\n  deleteBucketPolicy: deleteBucketPolicy,\n  putBucketTagging: putBucketTagging,\n  // BucketTagging\n  getBucketTagging: getBucketTagging,\n  deleteBucketTagging: deleteBucketTagging,\n  putBucketLifecycle: putBucketLifecycle,\n  // BucketLifecycle\n  getBucketLifecycle: getBucketLifecycle,\n  deleteBucketLifecycle: deleteBucketLifecycle,\n  putBucketVersioning: putBucketVersioning,\n  // BucketVersioning\n  getBucketVersioning: getBucketVersioning,\n  putBucketReplication: putBucketReplication,\n  // BucketReplication\n  getBucketReplication: getBucketReplication,\n  deleteBucketReplication: deleteBucketReplication,\n  putBucketWebsite: putBucketWebsite,\n  // BucketWebsite\n  getBucketWebsite: getBucketWebsite,\n  deleteBucketWebsite: deleteBucketWebsite,\n  putBucketReferer: putBucketReferer,\n  // BucketReferer\n  getBucketReferer: getBucketReferer,\n  putBucketDomain: putBucketDomain,\n  // BucketDomain\n  getBucketDomain: getBucketDomain,\n  deleteBucketDomain: deleteBucketDomain,\n  putBucketOrigin: putBucketOrigin,\n  // BucketOrigin\n  getBucketOrigin: getBucketOrigin,\n  deleteBucketOrigin: deleteBucketOrigin,\n  putBucketLogging: putBucketLogging,\n  // BucketLogging\n  getBucketLogging: getBucketLogging,\n  putBucketInventory: putBucketInventory,\n  // BucketInventory\n  getBucketInventory: getBucketInventory,\n  listBucketInventory: listBucketInventory,\n  deleteBucketInventory: deleteBucketInventory,\n  putBucketAccelerate: putBucketAccelerate,\n  getBucketAccelerate: getBucketAccelerate,\n  putBucketEncryption: putBucketEncryption,\n  getBucketEncryption: getBucketEncryption,\n  deleteBucketEncryption: deleteBucketEncryption,\n  // Object 相关方法\n  getObject: getObject,\n  headObject: headObject,\n  listObjectVersions: listObjectVersions,\n  putObject: putObject,\n  deleteObject: deleteObject,\n  getObjectAcl: getObjectAcl,\n  putObjectAcl: putObjectAcl,\n  optionsObject: optionsObject,\n  putObjectCopy: putObjectCopy,\n  deleteMultipleObject: deleteMultipleObject,\n  restoreObject: restoreObject,\n  putObjectTagging: putObjectTagging,\n  getObjectTagging: getObjectTagging,\n  deleteObjectTagging: deleteObjectTagging,\n  selectObjectContent: selectObjectContent,\n  appendObject: appendObject,\n  // 分块上传相关方法\n  uploadPartCopy: uploadPartCopy,\n  multipartInit: multipartInit,\n  multipartUpload: multipartUpload,\n  multipartComplete: multipartComplete,\n  multipartList: multipartList,\n  multipartListPart: multipartListPart,\n  multipartAbort: multipartAbort,\n  // 工具方法\n  request: request,\n  getObjectUrl: getObjectUrl,\n  getAuth: getAuth\n};\n\nfunction warnOldApi(apiName, fn, proto) {\n  util.each(['Cors', 'Acl'], function (suffix) {\n    if (apiName.slice(-suffix.length) === suffix) {\n      var oldName = apiName.slice(0, -suffix.length) + suffix.toUpperCase();\n      var apiFn = util.apiWrapper(apiName, fn);\n      var warned = false;\n\n      proto[oldName] = function () {\n        !warned && console.warn('warning: cos.' + oldName + ' has been deprecated. Please Use cos.' + apiName + ' instead.');\n        warned = true;\n        apiFn.apply(this, arguments);\n      };\n    }\n  });\n}\n\nmodule.exports.init = function (COS, task) {\n  task.transferToTaskMethod(API_MAP, 'putObject');\n  util.each(API_MAP, function (fn, apiName) {\n    COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n    warnOldApi(apiName, fn, COS.prototype);\n  });\n};","'use strict';\n\nvar util = require('./util');\n\nvar event = require('./event');\n\nvar task = require('./task');\n\nvar base = require('./base');\n\nvar advance = require('./advance');\n\nvar defaultOptions = {\n  AppId: '',\n  // AppId 已废弃，请拼接到 Bucket 后传入，例如：test-1250000000\n  SecretId: '',\n  SecretKey: '',\n  SecurityToken: '',\n  // 使用临时密钥需要注意自行刷新 Token\n  ChunkRetryTimes: 2,\n  FileParallelLimit: 3,\n  ChunkParallelLimit: 3,\n  ChunkSize: 1024 * 1024,\n  SliceSize: 1024 * 1024,\n  CopyChunkParallelLimit: 20,\n  CopyChunkSize: 1024 * 1024 * 10,\n  CopySliceSize: 1024 * 1024 * 10,\n  MaxPartNumber: 10000,\n  ProgressInterval: 1000,\n  Domain: '',\n  ServiceDomain: '',\n  Protocol: '',\n  CompatibilityMode: false,\n  ForcePathStyle: false,\n  UseRawKey: false,\n  Timeout: 0,\n  // 单位毫秒，0 代表不设置超时时间\n  CorrectClockSkew: true,\n  SystemClockOffset: 0,\n  // 单位毫秒，ms\n  UploadCheckContentMd5: false,\n  UploadQueueSize: 10000,\n  UploadAddMetaMd5: false,\n  UploadIdCacheLimit: 50,\n  UseAccelerate: false,\n  ForceSignHost: true // 默认将host加入签名计算，关闭后可能导致越权风险，建议保持为true\n\n}; // 对外暴露的类\n\nvar COS = function COS(options) {\n  this.options = util.extend(util.clone(defaultOptions), options || {});\n  this.options.FileParallelLimit = Math.max(1, this.options.FileParallelLimit);\n  this.options.ChunkParallelLimit = Math.max(1, this.options.ChunkParallelLimit);\n  this.options.ChunkRetryTimes = Math.max(0, this.options.ChunkRetryTimes);\n  this.options.ChunkSize = Math.max(1024 * 1024, this.options.ChunkSize);\n  this.options.CopyChunkParallelLimit = Math.max(1, this.options.CopyChunkParallelLimit);\n  this.options.CopyChunkSize = Math.max(1024 * 1024, this.options.CopyChunkSize);\n  this.options.CopySliceSize = Math.max(0, this.options.CopySliceSize);\n  this.options.MaxPartNumber = Math.max(1024, Math.min(10000, this.options.MaxPartNumber));\n  this.options.Timeout = Math.max(0, this.options.Timeout);\n\n  if (this.options.AppId) {\n    console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: \"test-1250000000\").');\n  }\n\n  if (this.options.SecretId && this.options.SecretId.indexOf(' ') > -1) {\n    console.error('error: SecretId格式错误，请检查');\n    console.error('error: SecretId format is incorrect. Please check');\n  }\n\n  if (this.options.SecretKey && this.options.SecretKey.indexOf(' ') > -1) {\n    console.error('error: SecretKey格式错误，请检查');\n    console.error('error: SecretKey format is incorrect. Please check');\n  }\n\n  if (util.isNode()) {\n    console.warn('warning: cos-js-sdk-v5 不支持 nodejs 环境使用，请改用 cos-nodejs-sdk-v5，参考文档： https://cloud.tencent.com/document/product/436/8629');\n    console.warn('warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629');\n  }\n\n  event.init(this);\n  task.init(this);\n};\n\nbase.init(COS, task);\nadvance.init(COS, task);\nCOS.util = {\n  md5: util.md5,\n  xml2json: util.xml2json,\n  json2xml: util.json2xml\n};\nCOS.getAuthorization = util.getAuth;\nCOS.version = '1.3.7';\nmodule.exports = COS;","var initEvent = function initEvent(cos) {\n  var listeners = {};\n\n  var getList = function getList(action) {\n    !listeners[action] && (listeners[action] = []);\n    return listeners[action];\n  };\n\n  cos.on = function (action, callback) {\n    if (action === 'task-list-update') {\n      console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\n    }\n\n    getList(action).push(callback);\n  };\n\n  cos.off = function (action, callback) {\n    var list = getList(action);\n\n    for (var i = list.length - 1; i >= 0; i--) {\n      callback === list[i] && list.splice(i, 1);\n    }\n  };\n\n  cos.emit = function (action, data) {\n    var list = getList(action).map(function (cb) {\n      return cb;\n    });\n\n    for (var i = 0; i < list.length; i++) {\n      list[i](data);\n    }\n  };\n};\n\nvar EventProxy = function EventProxy() {\n  initEvent(this);\n};\n\nmodule.exports.init = initEvent;\nmodule.exports.EventProxy = EventProxy;","var util = require('./util'); // 按照文件特征值，缓存 UploadId\n\n\nvar cacheKey = 'cos_sdk_upload_cache';\nvar expires = 30 * 24 * 3600;\nvar cache;\nvar timer;\n\nvar getCache = function getCache() {\n  try {\n    var val = JSON.parse(localStorage.getItem(cacheKey));\n  } catch (e) {}\n\n  if (!val) val = [];\n  cache = val;\n};\n\nvar setCache = function setCache() {\n  try {\n    localStorage.setItem(cacheKey, JSON.stringify(cache));\n  } catch (e) {}\n};\n\nvar init = function init() {\n  if (cache) return;\n  getCache.call(this); // 清理太老旧的数据\n\n  var changed = false;\n  var now = Math.round(Date.now() / 1000);\n\n  for (var i = cache.length - 1; i >= 0; i--) {\n    var mtime = cache[i][2];\n\n    if (!mtime || mtime + expires < now) {\n      cache.splice(i, 1);\n      changed = true;\n    }\n  }\n\n  changed && setCache();\n}; // 把缓存存到本地\n\n\nvar save = function save() {\n  if (timer) return;\n  timer = setTimeout(function () {\n    setCache();\n    timer = null;\n  }, 400);\n};\n\nvar mod = {\n  using: {},\n  // 标记 UploadId 正在使用\n  setUsing: function setUsing(uuid) {\n    mod.using[uuid] = true;\n  },\n  // 标记 UploadId 已经没在使用\n  removeUsing: function removeUsing(uuid) {\n    delete mod.using[uuid];\n  },\n  // 用上传参数生成哈希值\n  getFileId: function getFileId(file, ChunkSize, Bucket, Key) {\n    if (file.name && file.size && file.lastModifiedDate && ChunkSize) {\n      return util.md5([file.name, file.size, file.lastModifiedDate, ChunkSize, Bucket, Key].join('::'));\n    } else {\n      return null;\n    }\n  },\n  // 获取文件对应的 UploadId 列表\n  getUploadIdList: function getUploadIdList(uuid) {\n    if (!uuid) return null;\n    init.call(this);\n    var list = [];\n\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i][0] === uuid) list.push(cache[i][1]);\n    }\n\n    return list.length ? list : null;\n  },\n  // 缓存 UploadId\n  saveUploadId: function saveUploadId(uuid, UploadId, limit) {\n    init.call(this);\n    if (!uuid) return; // 清理没用的 UploadId，js 文件没有 FilePath ，只清理相同记录\n\n    for (var i = cache.length - 1; i >= 0; i--) {\n      var item = cache[i];\n\n      if (item[0] === uuid && item[1] === UploadId) {\n        cache.splice(i, 1);\n      }\n    }\n\n    cache.unshift([uuid, UploadId, Math.round(Date.now() / 1000)]);\n    if (cache.length > limit) cache.splice(limit);\n    save();\n  },\n  // UploadId 已用完，移除掉\n  removeUploadId: function removeUploadId(UploadId) {\n    init.call(this);\n    delete mod.using[UploadId];\n\n    for (var i = cache.length - 1; i >= 0; i--) {\n      if (cache[i][1] === UploadId) cache.splice(i, 1);\n    }\n\n    save();\n  }\n};\nmodule.exports = mod;","var session = require('./session');\n\nvar util = require('./util');\n\nvar originApiMap = {};\n\nvar transferToTaskMethod = function transferToTaskMethod(apiMap, apiName) {\n  originApiMap[apiName] = apiMap[apiName];\n\n  apiMap[apiName] = function (params, callback) {\n    if (params.SkipTask) {\n      originApiMap[apiName].call(this, params, callback);\n    } else {\n      this._addTask(apiName, params, callback);\n    }\n  };\n};\n\nvar initTask = function initTask(cos) {\n  var queue = [];\n  var tasks = {};\n  var uploadingFileCount = 0;\n  var nextUploadIndex = 0; // 接口返回简略的任务信息\n\n  var formatTask = function formatTask(task) {\n    var t = {\n      id: task.id,\n      Bucket: task.Bucket,\n      Region: task.Region,\n      Key: task.Key,\n      FilePath: task.FilePath,\n      state: task.state,\n      loaded: task.loaded,\n      size: task.size,\n      speed: task.speed,\n      percent: task.percent,\n      hashPercent: task.hashPercent,\n      error: task.error\n    };\n    if (task.FilePath) t.FilePath = task.FilePath;\n    if (task._custom) t._custom = task._custom; // 控制台使用\n\n    return t;\n  };\n\n  var emitListUpdate = function () {\n    var timer;\n\n    var emit = function emit() {\n      timer = 0;\n      cos.emit('task-list-update', {\n        list: util.map(queue, formatTask)\n      });\n      cos.emit('list-update', {\n        list: util.map(queue, formatTask)\n      });\n    };\n\n    return function () {\n      if (!timer) timer = setTimeout(emit);\n    };\n  }();\n\n  var clearQueue = function clearQueue() {\n    if (queue.length <= cos.options.UploadQueueSize) return;\n\n    for (var i = 0; i < nextUploadIndex && // 小于当前操作的 index 才清理\n    i < queue.length && // 大于队列才清理\n    queue.length > cos.options.UploadQueueSize // 如果还太多，才继续清理\n    ;) {\n      var isActive = queue[i].state === 'waiting' || queue[i].state === 'checking' || queue[i].state === 'uploading';\n\n      if (!queue[i] || !isActive) {\n        tasks[queue[i].id] && delete tasks[queue[i].id];\n        queue.splice(i, 1);\n        nextUploadIndex--;\n      } else {\n        i++;\n      }\n    }\n\n    emitListUpdate();\n  };\n\n  var startNextTask = function startNextTask() {\n    // 检查是否允许增加执行进程\n    if (uploadingFileCount >= cos.options.FileParallelLimit) return; // 跳过不可执行的任务\n\n    while (queue[nextUploadIndex] && queue[nextUploadIndex].state !== 'waiting') {\n      nextUploadIndex++;\n    } // 检查是否已遍历结束\n\n\n    if (nextUploadIndex >= queue.length) return; // 上传该遍历到的任务\n\n    var task = queue[nextUploadIndex];\n    nextUploadIndex++;\n    uploadingFileCount++;\n    task.state = 'checking';\n    task.params.onTaskStart && task.params.onTaskStart(formatTask(task));\n    !task.params.UploadData && (task.params.UploadData = {});\n    var apiParams = util.formatParams(task.api, task.params);\n    originApiMap[task.api].call(cos, apiParams, function (err, data) {\n      if (!cos._isRunningTask(task.id)) return;\n\n      if (task.state === 'checking' || task.state === 'uploading') {\n        task.state = err ? 'error' : 'success';\n        err && (task.error = err);\n        uploadingFileCount--;\n        emitListUpdate();\n        startNextTask();\n        task.callback && task.callback(err, data);\n\n        if (task.state === 'success') {\n          if (task.params) {\n            delete task.params.UploadData;\n            delete task.params.Body;\n            delete task.params;\n          }\n\n          delete task.callback;\n        }\n      }\n\n      clearQueue();\n    });\n    emitListUpdate(); // 异步执行下一个任务\n\n    setTimeout(startNextTask);\n  };\n\n  var killTask = function killTask(id, switchToState) {\n    var task = tasks[id];\n    if (!task) return;\n    var waiting = task && task.state === 'waiting';\n    var running = task && (task.state === 'checking' || task.state === 'uploading');\n\n    if (switchToState === 'canceled' && task.state !== 'canceled' || switchToState === 'paused' && waiting || switchToState === 'paused' && running) {\n      if (switchToState === 'paused' && task.params.Body && typeof task.params.Body.pipe === 'function') {\n        console.error('stream not support pause');\n        return;\n      }\n\n      task.state = switchToState;\n      cos.emit('inner-kill-task', {\n        TaskId: id,\n        toState: switchToState\n      });\n\n      try {\n        var UploadId = task && task.params && task.params.UploadData.UploadId;\n      } catch (e) {}\n\n      if (switchToState === 'canceled' && UploadId) session.removeUsing(UploadId);\n      emitListUpdate();\n\n      if (running) {\n        uploadingFileCount--;\n        startNextTask();\n      }\n\n      if (switchToState === 'canceled') {\n        if (task.params) {\n          delete task.params.UploadData;\n          delete task.params.Body;\n          delete task.params;\n        }\n\n        delete task.callback;\n      }\n    }\n\n    clearQueue();\n  };\n\n  cos._addTasks = function (taskList) {\n    util.each(taskList, function (task) {\n      cos._addTask(task.api, task.params, task.callback, true);\n    });\n    emitListUpdate();\n  };\n\n  var isTaskReadyWarning = true;\n\n  cos._addTask = function (api, params, callback, ignoreAddEvent) {\n    // 复制参数对象\n    params = util.formatParams(api, params); // 生成 id\n\n    var id = util.uuid();\n    params.TaskId = id;\n    params.onTaskReady && params.onTaskReady(id);\n\n    if (params.TaskReady) {\n      params.TaskReady(id);\n      isTaskReadyWarning && console.warn('warning: Param \"TaskReady\" has been deprecated. Please use \"onTaskReady\" instead.');\n      isTaskReadyWarning = false;\n    }\n\n    var task = {\n      // env\n      params: params,\n      callback: callback,\n      api: api,\n      index: queue.length,\n      // task\n      id: id,\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      FilePath: params.FilePath || '',\n      state: 'waiting',\n      loaded: 0,\n      size: 0,\n      speed: 0,\n      percent: 0,\n      hashPercent: 0,\n      error: null,\n      _custom: params._custom\n    };\n    var onHashProgress = params.onHashProgress;\n\n    params.onHashProgress = function (info) {\n      if (!cos._isRunningTask(task.id)) return;\n      task.hashPercent = info.percent;\n      onHashProgress && onHashProgress(info);\n      emitListUpdate();\n    };\n\n    var onProgress = params.onProgress;\n\n    params.onProgress = function (info) {\n      if (!cos._isRunningTask(task.id)) return;\n      task.state === 'checking' && (task.state = 'uploading');\n      task.loaded = info.loaded;\n      task.speed = info.speed;\n      task.percent = info.percent;\n      onProgress && onProgress(info);\n      emitListUpdate();\n    }; // 异步获取 filesize\n\n\n    util.getFileSize(api, params, function (err, size) {\n      // 开始处理上传\n      if (err) return callback(util.error(err)); // 如果获取大小出错，不加入队列\n      // 获取完文件大小再把任务加入队列\n\n      tasks[id] = task;\n      queue.push(task);\n      task.size = size;\n      !ignoreAddEvent && emitListUpdate();\n      startNextTask();\n      clearQueue();\n    });\n    return id;\n  };\n\n  cos._isRunningTask = function (id) {\n    var task = tasks[id];\n    return !!(task && (task.state === 'checking' || task.state === 'uploading'));\n  };\n\n  cos.getTaskList = function () {\n    return util.map(queue, formatTask);\n  };\n\n  cos.cancelTask = function (id) {\n    killTask(id, 'canceled');\n  };\n\n  cos.pauseTask = function (id) {\n    killTask(id, 'paused');\n  };\n\n  cos.restartTask = function (id) {\n    var task = tasks[id];\n\n    if (task && (task.state === 'paused' || task.state === 'error')) {\n      task.state = 'waiting';\n      emitListUpdate();\n      nextUploadIndex = Math.min(nextUploadIndex, task.index);\n      startNextTask();\n    }\n  };\n\n  cos.isUploadRunning = function () {\n    return uploadingFileCount || nextUploadIndex < queue.length;\n  };\n};\n\nmodule.exports.transferToTaskMethod = transferToTaskMethod;\nmodule.exports.init = initTask;","'use strict';\n\nvar md5 = require('../lib/md5');\n\nvar CryptoJS = require('../lib/crypto');\n\nvar xml2json = require('../lib/xml2json');\n\nvar json2xml = require('../lib/json2xml');\n\nfunction camSafeUrlEncode(str) {\n  return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/\\*/g, '%2A');\n}\n\nfunction getObjectKeys(obj, forKey) {\n  var list = [];\n\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      list.push(forKey ? camSafeUrlEncode(key).toLowerCase() : key);\n    }\n  }\n\n  return list.sort(function (a, b) {\n    a = a.toLowerCase();\n    b = b.toLowerCase();\n    return a === b ? 0 : a > b ? 1 : -1;\n  });\n}\n\n;\n/**\n * obj转为string\n * @param  {Object}  obj                需要转的对象，必须\n * @param  {Boolean} lowerCaseKey       key是否转为小写，默认false，非必须\n * @return {String}  data               返回字符串\n */\n\nvar obj2str = function obj2str(obj, lowerCaseKey) {\n  var i, key, val;\n  var list = [];\n  var keyList = getObjectKeys(obj);\n\n  for (i = 0; i < keyList.length; i++) {\n    key = keyList[i];\n    val = obj[key] === undefined || obj[key] === null ? '' : '' + obj[key];\n    key = lowerCaseKey ? camSafeUrlEncode(key).toLowerCase() : camSafeUrlEncode(key);\n    val = camSafeUrlEncode(val) || '';\n    list.push(key + '=' + val);\n  }\n\n  return list.join('&');\n}; // 可以签入签名的headers\n\n\nvar signHeaders = ['content-disposition', 'content-encoding', 'content-length', 'content-md5', 'expect', 'host', 'if-match', 'if-modified-since', 'if-none-match', 'if-unmodified-since', 'origin', 'range', 'response-cache-control', 'response-content-disposition', 'response-content-encoding', 'response-content-language', 'response-content-type', 'response-expires', 'transfer-encoding', 'versionid'];\n\nvar getSignHeaderObj = function getSignHeaderObj(headers) {\n  var signHeaderObj = {};\n\n  for (var i in headers) {\n    var key = i.toLowerCase();\n\n    if (key.indexOf('x-cos-') > -1 || signHeaders.indexOf(key) > -1) {\n      signHeaderObj[i] = headers[i];\n    }\n  }\n\n  return signHeaderObj;\n}; //测试用的key后面可以去掉\n\n\nvar getAuth = function getAuth(opt) {\n  opt = opt || {};\n  var SecretId = opt.SecretId;\n  var SecretKey = opt.SecretKey;\n  var KeyTime = opt.KeyTime;\n  var method = (opt.method || opt.Method || 'get').toLowerCase();\n  var queryParams = clone(opt.Query || opt.params || {});\n  var headers = getSignHeaderObj(clone(opt.Headers || opt.headers || {}));\n  var Key = opt.Key || '';\n  var pathname;\n\n  if (opt.UseRawKey) {\n    pathname = opt.Pathname || opt.pathname || '/' + Key;\n  } else {\n    pathname = opt.Pathname || opt.pathname || Key;\n    pathname.indexOf('/') !== 0 && (pathname = '/' + pathname);\n  } // ForceSignHost明确传入false才不加入host签名\n\n\n  var forceSignHost = opt.ForceSignHost === false ? false : true; // 如果有传入存储桶且需要强制签名，那么签名默认加 Host 参与计算，避免跨桶访问\n\n  if (!headers.Host && !headers.host && opt.Bucket && opt.Region && forceSignHost) headers.Host = opt.Bucket + '.cos.' + opt.Region + '.myqcloud.com';\n  if (!SecretId) throw new Error('missing param SecretId');\n  if (!SecretKey) throw new Error('missing param SecretKey'); // 签名有效起止时间\n\n  var now = Math.round(getSkewTime(opt.SystemClockOffset) / 1000) - 1;\n  var exp = now;\n  var Expires = opt.Expires || opt.expires;\n\n  if (Expires === undefined) {\n    exp += 900; // 签名过期时间为当前 + 900s\n  } else {\n    exp += Expires * 1 || 0;\n  } // 要用到的 Authorization 参数列表\n\n\n  var qSignAlgorithm = 'sha1';\n  var qAk = SecretId;\n  var qSignTime = KeyTime || now + ';' + exp;\n  var qKeyTime = KeyTime || now + ';' + exp;\n  var qHeaderList = getObjectKeys(headers, true).join(';').toLowerCase();\n  var qUrlParamList = getObjectKeys(queryParams, true).join(';').toLowerCase(); // 签名算法说明文档：https://www.qcloud.com/document/product/436/7778\n  // 步骤一：计算 SignKey\n\n  var signKey = CryptoJS.HmacSHA1(qKeyTime, SecretKey).toString(); // 步骤二：构成 FormatString\n\n  var formatString = [method, pathname, util.obj2str(queryParams, true), util.obj2str(headers, true), ''].join('\\n'); // 步骤三：计算 StringToSign\n\n  var stringToSign = ['sha1', qSignTime, CryptoJS.SHA1(formatString).toString(), ''].join('\\n'); // 步骤四：计算 Signature\n\n  var qSignature = CryptoJS.HmacSHA1(stringToSign, signKey).toString(); // 步骤五：构造 Authorization\n\n  var authorization = ['q-sign-algorithm=' + qSignAlgorithm, 'q-ak=' + qAk, 'q-sign-time=' + qSignTime, 'q-key-time=' + qKeyTime, 'q-header-list=' + qHeaderList, 'q-url-param-list=' + qUrlParamList, 'q-signature=' + qSignature].join('&');\n  return authorization;\n};\n\nvar readIntBE = function readIntBE(chunk, size, offset) {\n  var bytes = size / 8;\n  var buf = chunk.slice(offset, offset + bytes);\n  new Uint8Array(buf).reverse();\n  return new {\n    8: Uint8Array,\n    16: Uint16Array,\n    32: Uint32Array\n  }[size](buf)[0];\n};\n\nvar buf2str = function buf2str(chunk, start, end, isUtf8) {\n  var buf = chunk.slice(start, end);\n  var str = '';\n  new Uint8Array(buf).forEach(function (charCode) {\n    str += String.fromCharCode(charCode);\n  });\n  if (isUtf8) str = decodeURIComponent(escape(str));\n  return str;\n};\n\nvar parseSelectPayload = function parseSelectPayload(chunk) {\n  var header = {};\n  var body = buf2str(chunk);\n  var result = {\n    records: []\n  };\n\n  while (chunk.byteLength) {\n    var totalLength = readIntBE(chunk, 32, 0);\n    var headerLength = readIntBE(chunk, 32, 4);\n    var payloadRestLength = totalLength - headerLength - 16;\n    var offset = 0;\n    var content;\n    chunk = chunk.slice(12); // 获取 Message 的 header 信息\n\n    while (offset < headerLength) {\n      var headerNameLength = readIntBE(chunk, 8, offset);\n      var headerName = buf2str(chunk, offset + 1, offset + 1 + headerNameLength);\n      var headerValueLength = readIntBE(chunk, 16, offset + headerNameLength + 2);\n      var headerValue = buf2str(chunk, offset + headerNameLength + 4, offset + headerNameLength + 4 + headerValueLength);\n      header[headerName] = headerValue;\n      offset += headerNameLength + 4 + headerValueLength;\n    }\n\n    if (header[':event-type'] === 'Records') {\n      content = buf2str(chunk, offset, offset + payloadRestLength, true);\n      result.records.push(content);\n    } else if (header[':event-type'] === 'Stats') {\n      content = buf2str(chunk, offset, offset + payloadRestLength, true);\n      result.stats = util.xml2json(content).Stats;\n    } else if (header[':event-type'] === 'error') {\n      var errCode = header[':error-code'];\n      var errMessage = header[':error-message'];\n      var err = new Error(errMessage);\n      err.message = errMessage;\n      err.name = err.code = errCode;\n      result.error = err;\n    } else if (['Progress', 'Continuation', 'End'].includes(header[':event-type'])) {// do nothing\n    }\n\n    chunk = chunk.slice(offset + payloadRestLength + 4);\n  }\n\n  return {\n    payload: result.records.join(''),\n    body: body\n  };\n};\n\nvar getSourceParams = function getSourceParams(source) {\n  var parser = this.options.CopySourceParser;\n  if (parser) return parser(source);\n  var m = source.match(/^([^.]+-\\d+)\\.cos(v6|-cdc)?\\.([^.]+)\\.myqcloud\\.com\\/(.+)$/);\n  if (!m) return null;\n  return {\n    Bucket: m[1],\n    Region: m[3],\n    Key: m[4]\n  };\n};\n\nvar noop = function noop() {}; // 清除对象里值为的 undefined 或 null 的属性\n\n\nvar clearKey = function clearKey(obj) {\n  var retObj = {};\n\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n      retObj[key] = obj[key];\n    }\n  }\n\n  return retObj;\n};\n\nvar readAsBinaryString = function readAsBinaryString(blob, callback) {\n  var readFun;\n  var fr = new FileReader();\n\n  if (FileReader.prototype.readAsBinaryString) {\n    readFun = FileReader.prototype.readAsBinaryString;\n\n    fr.onload = function () {\n      callback(this.result);\n    };\n  } else if (FileReader.prototype.readAsArrayBuffer) {\n    // 在 ie11 添加 readAsBinaryString 兼容\n    readFun = function readFun(fileData) {\n      var binary = \"\";\n      var pt = this;\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var bytes = new Uint8Array(reader.result);\n        var length = bytes.byteLength;\n\n        for (var i = 0; i < length; i++) {\n          binary += String.fromCharCode(bytes[i]);\n        }\n\n        callback(binary);\n      };\n\n      reader.readAsArrayBuffer(fileData);\n    };\n  } else {\n    console.error('FileReader not support readAsBinaryString');\n  }\n\n  readFun.call(fr, blob);\n};\n\nvar fileSliceNeedCopy = function () {\n  var compareVersion = function compareVersion(a, b) {\n    a = a.split('.');\n    b = b.split('.');\n\n    for (var i = 0; i < b.length; i++) {\n      if (a[i] !== b[i]) {\n        return parseInt(a[i]) > parseInt(b[i]) ? 1 : -1;\n      }\n    }\n\n    return 0;\n  };\n\n  var check = function check(ua) {\n    if (!ua) return false;\n    var ChromeVersion = (ua.match(/Chrome\\/([.\\d]+)/) || [])[1];\n    var QBCoreVersion = (ua.match(/QBCore\\/([.\\d]+)/) || [])[1];\n    var QQBrowserVersion = (ua.match(/QQBrowser\\/([.\\d]+)/) || [])[1];\n    var need = ChromeVersion && compareVersion(ChromeVersion, '53.0.2785.116') < 0 && QBCoreVersion && compareVersion(QBCoreVersion, '3.53.991.400') < 0 && QQBrowserVersion && compareVersion(QQBrowserVersion, '9.0.2524.400') <= 0 || false;\n    return need;\n  };\n\n  return check(typeof navigator !== 'undefined' && navigator.userAgent);\n}(); // 获取文件分片\n\n\nvar fileSlice = function fileSlice(file, start, end, isUseToUpload, callback) {\n  var blob;\n\n  if (file.slice) {\n    blob = file.slice(start, end);\n  } else if (file.mozSlice) {\n    blob = file.mozSlice(start, end);\n  } else if (file.webkitSlice) {\n    blob = file.webkitSlice(start, end);\n  }\n\n  if (isUseToUpload && fileSliceNeedCopy) {\n    var reader = new FileReader();\n\n    reader.onload = function (e) {\n      blob = null;\n      callback(new Blob([reader.result]));\n    };\n\n    reader.readAsArrayBuffer(blob);\n  } else {\n    callback(blob);\n  }\n}; // 获取文件内容的 MD5\n\n\nvar getBodyMd5 = function getBodyMd5(UploadCheckContentMd5, Body, callback, onProgress) {\n  callback = callback || noop;\n\n  if (UploadCheckContentMd5) {\n    if (typeof Body === 'string') {\n      callback(util.md5(Body, true));\n    } else if (Blob && Body instanceof Blob) {\n      util.getFileMd5(Body, function (err, md5) {\n        callback(md5);\n      }, onProgress);\n    } else {\n      callback();\n    }\n  } else {\n    callback();\n  }\n}; // 获取文件 md5 值\n\n\nvar md5ChunkSize = 1024 * 1024;\n\nvar getFileMd5 = function getFileMd5(blob, callback, onProgress) {\n  var size = blob.size;\n  var loaded = 0;\n  var md5ctx = md5.getCtx();\n\n  var next = function next(start) {\n    if (start >= size) {\n      var hash = md5ctx.digest('hex');\n      callback(null, hash);\n      return;\n    }\n\n    var end = Math.min(size, start + md5ChunkSize);\n    util.fileSlice(blob, start, end, false, function (chunk) {\n      readAsBinaryString(chunk, function (content) {\n        chunk = null;\n        md5ctx = md5ctx.update(content, true);\n        loaded += content.length;\n        content = null;\n        if (onProgress) onProgress({\n          loaded: loaded,\n          total: size,\n          percent: Math.round(loaded / size * 10000) / 10000\n        });\n        next(start + md5ChunkSize);\n      });\n    });\n  };\n\n  next(0);\n};\n\nfunction clone(obj) {\n  return map(obj, function (v) {\n    return typeof v === 'object' && v !== null ? clone(v) : v;\n  });\n}\n\nfunction attr(obj, name, defaultValue) {\n  return obj && name in obj ? obj[name] : defaultValue;\n}\n\nfunction extend(target, source) {\n  each(source, function (val, key) {\n    target[key] = source[key];\n  });\n  return target;\n}\n\nfunction isArray(arr) {\n  return arr instanceof Array;\n}\n\nfunction isInArray(arr, item) {\n  var flag = false;\n\n  for (var i = 0; i < arr.length; i++) {\n    if (item === arr[i]) {\n      flag = true;\n      break;\n    }\n  }\n\n  return flag;\n}\n\nfunction makeArray(arr) {\n  return isArray(arr) ? arr : [arr];\n}\n\nfunction each(obj, fn) {\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      fn(obj[i], i);\n    }\n  }\n}\n\nfunction map(obj, fn) {\n  var o = isArray(obj) ? [] : {};\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = fn(obj[i], i);\n    }\n  }\n\n  return o;\n}\n\nfunction filter(obj, fn) {\n  var iaArr = isArray(obj);\n  var o = iaArr ? [] : {};\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (fn(obj[i], i)) {\n        if (iaArr) {\n          o.push(obj[i]);\n        } else {\n          o[i] = obj[i];\n        }\n      }\n    }\n  }\n\n  return o;\n}\n\nvar binaryBase64 = function binaryBase64(str) {\n  var i,\n      len,\n      char,\n      res = '';\n\n  for (i = 0, len = str.length / 2; i < len; i++) {\n    char = parseInt(str[i * 2] + str[i * 2 + 1], 16);\n    res += String.fromCharCode(char);\n  }\n\n  return btoa(res);\n};\n\nvar uuid = function uuid() {\n  var S4 = function S4() {\n    return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n  };\n\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4();\n};\n\nvar hasMissingParams = function hasMissingParams(apiName, params) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var Domain = this.options.Domain;\n  var checkBucket = !Domain || Domain.indexOf('{Bucket}') > -1;\n  var checkRegion = !Domain || Domain.indexOf('{Region}') > -1;\n\n  if (apiName.indexOf('Bucket') > -1 || apiName === 'deleteMultipleObject' || apiName === 'multipartList' || apiName === 'listObjectVersions') {\n    if (checkBucket && !Bucket) return 'Bucket';\n    if (checkRegion && !Region) return 'Region';\n  } else if (apiName.indexOf('Object') > -1 || apiName.indexOf('multipart') > -1 || apiName === 'sliceUploadFile' || apiName === 'abortUploadTask') {\n    if (checkBucket && !Bucket) return 'Bucket';\n    if (checkRegion && !Region) return 'Region';\n    if (!Key) return 'Key';\n  }\n\n  return false;\n};\n\nvar formatParams = function formatParams(apiName, params) {\n  // 复制参数对象\n  params = extend({}, params); // 统一处理 Headers\n\n  if (apiName !== 'getAuth' && apiName !== 'getV4Auth' && apiName !== 'getObjectUrl') {\n    var Headers = params.Headers || {};\n\n    if (params && typeof params === 'object') {\n      (function () {\n        for (var key in params) {\n          if (params.hasOwnProperty(key) && key.indexOf('x-cos-') > -1) {\n            Headers[key] = params[key];\n          }\n        }\n      })();\n\n      var headerMap = {\n        // params headers\n        'x-cos-mfa': 'MFA',\n        'Content-MD5': 'ContentMD5',\n        'Content-Length': 'ContentLength',\n        'Content-Type': 'ContentType',\n        'Expect': 'Expect',\n        'Expires': 'Expires',\n        'Cache-Control': 'CacheControl',\n        'Content-Disposition': 'ContentDisposition',\n        'Content-Encoding': 'ContentEncoding',\n        'Range': 'Range',\n        'If-Modified-Since': 'IfModifiedSince',\n        'If-Unmodified-Since': 'IfUnmodifiedSince',\n        'If-Match': 'IfMatch',\n        'If-None-Match': 'IfNoneMatch',\n        'x-cos-copy-source': 'CopySource',\n        'x-cos-copy-source-Range': 'CopySourceRange',\n        'x-cos-metadata-directive': 'MetadataDirective',\n        'x-cos-copy-source-If-Modified-Since': 'CopySourceIfModifiedSince',\n        'x-cos-copy-source-If-Unmodified-Since': 'CopySourceIfUnmodifiedSince',\n        'x-cos-copy-source-If-Match': 'CopySourceIfMatch',\n        'x-cos-copy-source-If-None-Match': 'CopySourceIfNoneMatch',\n        'x-cos-acl': 'ACL',\n        'x-cos-grant-read': 'GrantRead',\n        'x-cos-grant-write': 'GrantWrite',\n        'x-cos-grant-full-control': 'GrantFullControl',\n        'x-cos-grant-read-acp': 'GrantReadAcp',\n        'x-cos-grant-write-acp': 'GrantWriteAcp',\n        'x-cos-storage-class': 'StorageClass',\n        'x-cos-traffic-limit': 'TrafficLimit',\n        'x-cos-mime-limit': 'MimeLimit',\n        // SSE-C\n        'x-cos-server-side-encryption-customer-algorithm': 'SSECustomerAlgorithm',\n        'x-cos-server-side-encryption-customer-key': 'SSECustomerKey',\n        'x-cos-server-side-encryption-customer-key-MD5': 'SSECustomerKeyMD5',\n        // SSE-COS、SSE-KMS\n        'x-cos-server-side-encryption': 'ServerSideEncryption',\n        'x-cos-server-side-encryption-cos-kms-key-id': 'SSEKMSKeyId',\n        'x-cos-server-side-encryption-context': 'SSEContext'\n      };\n      util.each(headerMap, function (paramKey, headerKey) {\n        if (params[paramKey] !== undefined) {\n          Headers[headerKey] = params[paramKey];\n        }\n      });\n      params.Headers = clearKey(Headers);\n    }\n  }\n\n  return params;\n};\n\nvar apiWrapper = function apiWrapper(apiName, apiFn) {\n  return function (params, callback) {\n    var self = this; // 处理参数\n\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    } // 整理参数格式\n\n\n    params = formatParams(apiName, params); // 代理回调函数\n\n    var formatResult = function formatResult(result) {\n      if (result && result.headers) {\n        result.headers['x-cos-request-id'] && (result.RequestId = result.headers['x-cos-request-id']);\n        result.headers['x-ci-request-id'] && (result.RequestId = result.headers['x-ci-request-id']);\n        result.headers['x-cos-version-id'] && (result.VersionId = result.headers['x-cos-version-id']);\n        result.headers['x-cos-delete-marker'] && (result.DeleteMarker = result.headers['x-cos-delete-marker']);\n      }\n\n      return result;\n    };\n\n    var _callback = function _callback(err, data) {\n      callback && callback(formatResult(err), formatResult(data));\n    };\n\n    var checkParams = function checkParams() {\n      if (apiName !== 'getService' && apiName !== 'abortUploadTask') {\n        // 判断参数是否完整\n        var missingResult = hasMissingParams.call(self, apiName, params);\n\n        if (missingResult) {\n          return 'missing param ' + missingResult;\n        } // 判断 region 格式\n\n\n        if (params.Region) {\n          if (self.options.CompatibilityMode) {\n            if (!/^([a-z\\d-.]+)$/.test(params.Region)) {\n              return 'Region format error.';\n            }\n          } else {\n            if (params.Region.indexOf('cos.') > -1) {\n              return 'param Region should not be start with \"cos.\"';\n            } else if (!/^([a-z\\d-]+)$/.test(params.Region)) {\n              return 'Region format error.';\n            }\n          } // 判断 region 格式\n\n\n          if (!self.options.CompatibilityMode && params.Region.indexOf('-') === -1 && params.Region !== 'yfb' && params.Region !== 'default' && params.Region !== 'accelerate') {\n            console.warn('warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224');\n          }\n        } // 兼容不带 AppId 的 Bucket\n\n\n        if (params.Bucket) {\n          if (!/^([a-z\\d-]+)-(\\d+)$/.test(params.Bucket)) {\n            if (params.AppId) {\n              params.Bucket = params.Bucket + '-' + params.AppId;\n            } else if (self.options.AppId) {\n              params.Bucket = params.Bucket + '-' + self.options.AppId;\n            } else {\n              return 'Bucket should format as \"test-1250000000\".';\n            }\n          }\n\n          if (params.AppId) {\n            console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:\"test-1250000000\" ).');\n            delete params.AppId;\n          }\n        } // 如果 Key 是 / 开头，强制去掉第一个 /\n\n\n        if (!self.options.UseRawKey && params.Key && params.Key.substr(0, 1) === '/') {\n          params.Key = params.Key.substr(1);\n        }\n      }\n    };\n\n    var errMsg = checkParams();\n    var isSync = apiName === 'getAuth' || apiName === 'getObjectUrl';\n\n    if (typeof Promise === 'function' && !isSync && !callback) {\n      return new Promise(function (resolve, reject) {\n        callback = function callback(err, data) {\n          err ? reject(err) : resolve(data);\n        };\n\n        if (errMsg) return _callback(util.error(new Error(errMsg)));\n        apiFn.call(self, params, _callback);\n      });\n    } else {\n      if (errMsg) return _callback(util.error(new Error(errMsg)));\n      var res = apiFn.call(self, params, _callback);\n      if (isSync) return res;\n    }\n  };\n};\n\nvar throttleOnProgress = function throttleOnProgress(total, onProgress) {\n  var self = this;\n  var size0 = 0;\n  var size1 = 0;\n  var time0 = Date.now();\n  var time1;\n  var timer;\n\n  function update() {\n    timer = 0;\n\n    if (onProgress && typeof onProgress === 'function') {\n      time1 = Date.now();\n      var speed = Math.max(0, Math.round((size1 - size0) / ((time1 - time0) / 1000) * 100) / 100) || 0;\n      var percent;\n\n      if (size1 === 0 && total === 0) {\n        percent = 1;\n      } else {\n        percent = Math.floor(size1 / total * 100) / 100 || 0;\n      }\n\n      time0 = time1;\n      size0 = size1;\n\n      try {\n        onProgress({\n          loaded: size1,\n          total: total,\n          speed: speed,\n          percent: percent\n        });\n      } catch (e) {}\n    }\n  }\n\n  return function (info, immediately) {\n    if (info) {\n      size1 = info.loaded;\n      total = info.total;\n    }\n\n    if (immediately) {\n      clearTimeout(timer);\n      update();\n    } else {\n      if (timer) return;\n      timer = setTimeout(update, self.options.ProgressInterval);\n    }\n  };\n};\n\nvar getFileSize = function getFileSize(api, params, callback) {\n  var size;\n\n  if (typeof params.Body === 'string') {\n    params.Body = new Blob([params.Body], {\n      type: 'text/plain'\n    });\n  } else if (params.Body instanceof ArrayBuffer) {\n    params.Body = new Blob([params.Body]);\n  }\n\n  if (params.Body && (params.Body instanceof Blob || params.Body.toString() === '[object File]' || params.Body.toString() === '[object Blob]')) {\n    size = params.Body.size;\n  } else {\n    callback(util.error(new Error('params body format error, Only allow File|Blob|String.')));\n    return;\n  }\n\n  params.ContentLength = size;\n  callback(null, size);\n}; // 获取调正的时间戳\n\n\nvar getSkewTime = function getSkewTime(offset) {\n  return Date.now() + (offset || 0);\n};\n\nvar error = function error(err, opt) {\n  var sourceErr = err;\n  err.message = err.message || null;\n\n  if (typeof opt === 'string') {\n    err.error = opt;\n    err.message = opt;\n  } else if (typeof opt === 'object' && opt !== null) {\n    extend(err, opt);\n    if (opt.code || opt.name) err.code = opt.code || opt.name;\n    if (opt.message) err.message = opt.message;\n    if (opt.stack) err.stack = opt.stack;\n  }\n\n  if (typeof Object.defineProperty === 'function') {\n    Object.defineProperty(err, 'name', {\n      writable: true,\n      enumerable: false\n    });\n    Object.defineProperty(err, 'message', {\n      enumerable: true\n    });\n  }\n\n  err.name = opt && opt.name || err.name || err.code || 'Error';\n  if (!err.code) err.code = err.name;\n  if (!err.error) err.error = clone(sourceErr); // 兼容老的错误格式\n\n  return err;\n};\n\nvar isNode = function isNode() {\n  return typeof window !== 'object' && typeof process === 'object' && typeof require === 'function';\n};\n\nvar isCIHost = function isCIHost(url) {\n  return /^https?:\\/\\/([^/]+\\.)?ci\\.[^/]+/.test(url);\n};\n\nvar util = {\n  noop: noop,\n  formatParams: formatParams,\n  apiWrapper: apiWrapper,\n  xml2json: xml2json,\n  json2xml: json2xml,\n  md5: md5,\n  clearKey: clearKey,\n  fileSlice: fileSlice,\n  getBodyMd5: getBodyMd5,\n  getFileMd5: getFileMd5,\n  binaryBase64: binaryBase64,\n  extend: extend,\n  isArray: isArray,\n  isInArray: isInArray,\n  makeArray: makeArray,\n  each: each,\n  map: map,\n  filter: filter,\n  clone: clone,\n  attr: attr,\n  uuid: uuid,\n  camSafeUrlEncode: camSafeUrlEncode,\n  throttleOnProgress: throttleOnProgress,\n  getFileSize: getFileSize,\n  getSkewTime: getSkewTime,\n  error: error,\n  obj2str: obj2str,\n  getAuth: getAuth,\n  parseSelectPayload: parseSelectPayload,\n  getSourceParams: getSourceParams,\n  isBrowser: true,\n  isNode: isNode,\n  isCIHost: isCIHost\n};\nmodule.exports = util;","// 腾讯云 cos 上传函数\nconst cosConfig = {\n  Bucket: 'purchase-records-1254307677',\n  Region: 'ap-chengdu',\n  StorageClass: 'STANDARD',\n};\n\nconst util = {\n  createFile: function (options) {\n      var buffer = new ArrayBuffer(options.size || 0);\n      var arr = new Uint8Array(buffer);\n      [].forEach.call(arr, function (char, i) {\n          arr[i] = 0;\n      });\n      var opt = {};\n      options.type && (opt.type = options.type);\n      var blob = new Blob([buffer], options);\n      return blob;\n  }\n};\n\n// 对更多字符编码的 url encode 格式\nconst camSafeUrlEncode = function (str) {\n  return encodeURIComponent(str)\n      .replace(/!/g, '%21')\n      .replace(/'/g, '%27')\n      .replace(/\\(/g, '%28')\n      .replace(/\\)/g, '%29')\n      .replace(/\\*/g, '%2A');\n};\n\nexport { cosConfig, util, camSafeUrlEncode };\n","import React from 'react';\nimport AxiosRequest from '../apis';\n\nconst StsTemporaryKeyRequestPost = ({requestCount, reqObject, responseDataHandle}) => {\n  // 获取上传文件的临时密钥 和 cos_name\n  const api = 'files-handle/v1/stsuploadfile';\n  const method = 'post';\n  const reqParams = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  )\n};\n\nStsTemporaryKeyRequestPost.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nexport { StsTemporaryKeyRequestPost };\n"],"names":["props","ref","AntdIcon","icon","displayName","freeze","object","oc","undefined","Object","MIME_TYPE","HTML","isHTML","value","XML_APPLICATION","XML_TEXT","XML_XHTML_APPLICATION","XML_SVG_IMAGE","NAMESPACE","uri","SVG","XML","XMLNS","exports","assign","target","source","TypeError","key","prototype","hasOwnProperty","call","conventions","dom","entities","sax","DOMImplementation","ParseError","XMLReader","normalizeLineEndings","input","replace","DOMParser","options","this","locator","DOMHandler","cdata","position","node","lineNumber","columnNumber","_locator","l","systemId","_toString","chars","start","length","substr","java","lang","String","appendElement","hander","currentElement","appendChild","doc","parseFromString","mimeType","domBuilder","errorHandler","defaultNSMap","xmlns","test","entityMap","HTML_ENTITIES","XML_ENTITIES","setDocumentLocator","errorImpl","isCallback","Function","build","fn","msg","buildErrorHandler","xml","normalize","parse","error","startDocument","createDocument","documentURI","startElement","namespaceURI","localName","qName","attrs","el","createElementNS","len","i","getURI","getValue","attr","getQName","createAttributeNS","getLocator","nodeValue","setAttributeNode","endElement","current","tagName","parentNode","startPrefixMapping","prefix","endPrefixMapping","processingInstruction","data","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","apply","arguments","charNode","createCDATASection","createTextNode","skippedEntity","name","endDocument","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","doctype","warning","console","warn","_error","fatalError","notEmptyString","orderedSetReducer","element","toOrderedSet","list","split","filter","splitOnASCIIWhitespace","keys","reduce","copy","src","dest","p","_extends","Class","Super","pt","t","constructor","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","code","message","Error","captureStackTrace","NodeList","LiveNodeList","refresh","_node","_refresh","_updateLiveList","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_nsMap","_onAddAttribute","_removeNamedNode","lastIndex","Node","_xmlEncoder","c","charCodeAt","_visitNode","callback","firstChild","nextSibling","Document","remove","_onUpdateChild","newChild","cs","childNodes","child","_removeChild","previous","previousSibling","next","lastChild","_insertBefore","nextChild","cp","removeChild","nodeType","newFirst","newLast","pre","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","XMLSerializer","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","documentElement","lookupPrefix","visibleNamespaces","namespace","serializeToString","join","needNamespaceDefine","ns","addSerializedAttribute","qualifiedName","push","attributes","nodeName","prefixedNodeName","defaultNS","ai","item","nsi","slice","pubid","sysid","sub","internalSubset","_importNode","deep","node2","cloneNode","_cloneNode","n","v","attrs2","_ownerElement","index","toString","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","feature","version","root","insertBefore","refChild","replaceChild","oldChild","hasChildNodes","appendData","isSupported","hasAttributes","map","lookupNamespaceURI","isDefaultNamespace","importNode","importedNode","getElementById","id","rtv","getAttribute","getElementsByClassName","classNames","classNamesSet","base","nodeClassNames","matches","nodeClassNamesSet","every","indexOf","createElement","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","setAttribute","removeAttribute","removeAttributeNode","_appendSingleChild","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","getElementsByTagNameNS","substringData","offset","count","substring","text","insertData","replaceData","deleteData","splitText","newText","newNode","defineProperty","getTextContent","get","$$length","set","e","amp","apos","gt","lt","quot","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","euro","trade","larr","uarr","rarr","darr","harr","crarr","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","nameStartChar","nameChar","RegExp","tagNamePattern","copyLocator","f","parseElementStartPart","currentNSMap","entityReplacer","addAttribute","qname","startIndex","attributeNames","addValue","attrName","s","charAt","setTagName","closed","match","localNSMap","a","nsp","nsPrefix","_copy","parseHtmlSpecialContent","elStartEnd","elEndStart","fixSelfClosed","closeMap","pos","lastIndexOf","parseDCC","end","matchs","exec","lastMatch","endDTD","parseInstruction","ElementAttributes","defaultNSMapCopy","fixedFromCharCode","surrogate1","surrogate2","fromCharCode","k","parseInt","appendText","xt","m","lineEnd","linePattern","lineStart","parseStack","tagStart","config","pop","endMatch","toLowerCase","locator2","Math","max","_parse","getLocalName","getBody","xhr","responseText","response","JSON","upload","option","XMLHttpRequest","onProgress","onprogress","total","percent","loaded","formData","FormData","forEach","Array","isArray","append","concat","file","Blob","filename","onerror","onError","onload","status","method","action","err","url","getError","onSuccess","open","withCredentials","headers","setRequestHeader","h","send","abort","now","Date","uid","acceptedFiles","acceptedFilesArray","fileName","type","baseMimeType","some","validType","trim","lowerFileName","lowerType","affixList","affix","endsWith","files","isAccepted","_traverseFileTree","path","isFile","fullPath","webkitRelativePath","defineProperties","writable","isDirectory","dirReader","createReader","fileList","sequence","readEntries","entries","entryList","loopFiles","entryItem","webkitGetAsEntry","_excluded","AjaxUploader","_Component","_super","_this","_len","args","_key","state","reqs","fileInput","_isMounted","onChange","_this$props","accept","directory","uploadFiles","reset","onClick","_this$props2","children","parent","focus","querySelector","blur","click","onKeyDown","onFileDrop","multiple","preventDefault","dataTransfer","items","_file","originFiles","postFiles","processFile","Promise","all","then","onBatchStart","_ref","origin","parsedFile","post","_ref2","_callee","beforeUpload","transformedFile","mergedAction","mergedData","parsedData","mergedParsedFile","_context","prev","sent","t0","abrupt","File","stop","_x","_x2","saveFileInput","_ref3","_this2","_this$props3","onStart","customRequest","request","requestOption","ret","setState","_classNames","_this$props4","Tag","component","prefixCls","className","disabled","style","capture","openFileDialogOnClick","onMouseEnter","onMouseLeave","otherProps","cls","dirProps","webkitdirectory","events","onDrop","onDragOver","tabIndex","role","pickAttrs","aria","stopPropagation","display","Component","Upload","uploader","saveUploader","defaultProps","multipart","primaryColor","secondaryColor","file2Obj","lastModified","lastModifiedDate","size","originFileObj","updateFileList","nextFileList","fileIndex","findIndex","getFileItem","matchKey","isImageFileType","MEASURE_SIZE","validProgress","progress","getSuccessPercent","success","successPercent","devWarning","__rest","getOwnPropertySymbols","propertyIsEnumerable","handleGradient","strokeColor","directionConfig","gradients","tempArr","_strokeColor$from","from","_strokeColor$to","to","_strokeColor$directio","direction","rest","sortedGradients","formattedKey","parseFloat","isNaN","sort","b","backgroundImage","strokeWidth","strokeLinecap","trailColor","backgroundProps","background","trailStyle","backgroundColor","percentStyle","width","height","borderRadius","successPercentStyle","successSegment","trailWidth","useTransitionDuration","percentList","paths","useRef","prevTimeStamp","useEffect","updated","pathStyle","transitionDuration","transition","restProps","gapPosition","strokeColorList","_useTransitionDuratio","center","right","pathString","viewBoxString","stackPtg","viewBox","preserveAspectRatio","d","stroke","fillOpacity","ptg","dashPercent","strokeDasharray","strokeDashoffset","color","uuid","isBrowserClient","canUseDom","_React$useState","_React$useState2","innerId","setInnerId","retId","stripPercentToNumber","toArray","mergedValue","getPathStyles","gapDegree","radius","beginPositionX","beginPositionY","endPositionX","endPositionY","PI","Circle","mergedId","useId","gradientId","_getPathStyles","gradient","find","x1","y1","x2","y2","stopColor","pathStyles","opacity","reverse","realSuccessPercent","circleSize","circleStyle","fontSize","circleWidth","gapPos","isGradient","_ref2$success","getStrokeColor","wrapperClassName","steps","_props$percent","_props$strokeWidth","round","stepWidth","styledSteps","ProgressStatuses","Progress","_React$Component","renderProgress","getPrefixCls","customizePrefixCls","showInfo","progressStatus","getProgressStatus","progressInfo","renderProcessInfo","classString","omit","_this$props$percent","getPercentNumber","format","isLineType","percentNumber","CloseCircleFilled","CloseOutlined","CheckCircleFilled","CheckOutlined","title","C","_classNames3","_a","_b","locale","listType","progressProps","iconRender","actionIconRender","itemRender","isImgUrl","showPreviewIcon","showRemoveIcon","showDownloadIcon","customPreviewIcon","previewIcon","customRemoveIcon","removeIcon","customDownloadIcon","downloadIcon","onPreview","onDownload","onClose","showProgress","setShowProgress","progressRafRef","setTimeout","window","clearTimeout","spanClassName","iconNode","thumbUrl","uploadingClassName","_classNames2","thumbnail","alt","crossOrigin","aClassName","href","rel","infoUploadingClass","linkProps","DeleteOutlined","removeFile","downloadFile","downloadOrDelete","picture","listItemNameClass","preview","pointerEvents","previewFile","EyeOutlined","actions","statusText","uploadError","iconAndPreview","rootPrefixCls","motionName","visible","motionDeadline","motionClassName","loadingProgress","listContainerNameClass","getPopupContainer","download","bind","listItemMotion","onAppearEnd","onEnterEnd","onLeaveEnd","InternalUploadList","onRemove","isImageUrl","_ref$items","appendAction","appendActionVisible","forceUpdate","useForceUpdate","motionAppear","setMotionAppear","document","FileReader","previewDataUrl","onInternalPreview","onInternalDownload","onInternalClose","internalIconRender","isLoading","fileIcon","LoadingOutlined","uploading","customIcon","btnProps","btnIcon","handlePreview","handleDownload","_React$useContext","listClassNames","motionKeyList","animationDirection","motionConfig","motionStyle","forceRender","oriProps","UploadList","resolve","canvas","cssText","body","ctx","getContext","img","Image","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","URL","createObjectURL","extension","temp","filenameWithoutSuffix","extname","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","rejected","result","done","LIST_IGNORE","InternalUpload","defaultFileList","showUploadList","propLocale","maxCount","_useMergedState","useMergedState","postState","_useMergedState2","mergedFileList","setMergedFileList","dragState","setDragState","timestamp","isFrozen","onInternalChange","changedFileList","event","cloneList","changeInfo","batchFileInfoList","filteredFileInfoList","info","objectFileList","newFileList","fileObj","triggerFileObj","clone","getTime","targetItem","handleRemove","currentFile","removedFileList","removed","removeFileItem","rcUploadProps","fileListArgs","transformFile","configurable","renderUploadList","button","buttonVisible","LocaleReceiver","componentName","defaultLocale","dragCls","onDragLeave","uploadButtonCls","renderUploadButton","uploadButtonStyle","supportServerRender","InternalDragger","Dragger","COS","module","g","WordArray","CryptoJS","lib","Base","extend","mixIn","init","$super","create","words","sigBytes","stringify","q","clamp","ceil","random","enc","Hex","j","Latin1","Utf8","decodeURIComponent","escape","unescape","encodeURIComponent","r","BufferedBlockAlgorithm","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","min","_doProcessBlock","splice","Hasher","cfg","_doReset","update","finalize","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","SHA1","_hash","floor","HmacSHA1","_hasher","_oKey","_iKey","Base64","wordArray","_map","base64Chars","triplet","paddingChar","base64Str","base64StrLength","paddingIndex","nBytes","bits1","bits2","element_start_char","element_replace","not_safe_in_xml","objKeys","obj","process_to_xml","node_data","makeNode","content","level","hasSubNodes","indent_value","indent","prettyPrint","removeIllegalNameCharacters","node_descriptor","toJSON","nodes","xml_header","standalone","xmlHeader","xmlheader","docType","ERROR","WINDOW","JS_MD5_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_MD5_NO_NODE_JS","process","versions","COMMON_JS","JS_MD5_NO_COMMON_JS","AMD","ARRAY_BUFFER","JS_MD5_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","EXTRA","SHIFT","OUTPUT_TYPES","BASE64_ENCODE_CHAR","blocks","buffer8","buffer","Uint8Array","Uint32Array","JS_MD5_NO_ARRAY_BUFFER_IS_VIEW","isView","createOutputMethod","outputType","isBinStr","Md5","createMethod","nodeWrap","getCtx","crypto","eval","Buffer","nodeMethod","createHash","digest","sharedMemory","h0","h1","h2","h3","bytes","hBytes","finalized","hashed","first","lastByteIndex","hash","bc","da","hex","array","arrayBuffer","base64","v1","v2","v3","md5","stringifyPrimitive","isFinite","xhrRes","getAllResponseHeaders","val","statusCode","statusMessage","xhrBody","dataType","opt","sep","eq","toUpperCase","qs","qsStr","ks","Boolean","responseType","xhrFields","xhrField","onDownloadProgress","timeout","ontimeout","xmlToJSON","mergeCDATA","stripElemPrefix","prefixMatch","grokType","sValue","parseString","xmlString","stringToXML","parseXML","oXMLParent","vResult","nLength","sCollectedTxt","oNode","sProp","vContent","nItem","xmlToString","xmlDoc","ActiveXObject","async","loadXML","session","Async","EventProxy","util","getUploadIdAndPartList","params","TaskId","Bucket","Region","Key","StorageClass","ETagMap","FileSize","SliceSize","SliceCount","FinishSize","onHashProgress","throttleOnProgress","isAvailableUploadList","PartList","PartCount","Size","Part","PartNumber","ChunkSize","ETag","fileSlice","Body","chunkItem","getFileMd5","getChunkETag","chunk","ep","on","errData","_isRunningTask","UploadData","each","Uploaded","_params","Query","Headers","multipartInit","emit","UploadId","UploadIdList","eachLimit","asyncCallback","using","wholeMultipartListPart","PartListData","removeUsing","isAvailable","AvailableUploadData","RemoteUploadIdList","getFileId","LocalUploadIdList","getUploadIdList","isInArray","removeUploadId","wholeMultipartList","UploadID","sendParams","Prefix","multipartList","IsTruncated","KeyMarker","NextKeyMarker","UploadIdMarker","NextUploadIdMarker","multipartListPart","PartNumberMarker","NextPartNumberMarker","uploadSliceList","cb","ChunkParallel","AsyncLimit","ChunkParallelLimit","ServerSideEncryption","needUploadSlices","SliceItem","_onProgress2","currentSize","preAddSize","uploadSliceItem","SliceList","FileBody","ChunkRetryTimes","ContentLength","headersWhiteList","PartItem","retry","tryCallback","multipartUpload","uploadSliceComplete","Parts","multipartComplete","abortUploadTaskArray","AbortArray","resultList","AbortItem","nextItem","eachIndex","KeyNotMatch","multipartAbort","task","successList","errorList","copySliceItem","CopySource","CopySourceRange","uploadPartCopy","API_MAP","sliceUploadFile","UploadCompleteData","_UploadCompleteData","metaHeaders","shortKey","saveUploadId","UploadIdCacheLimit","setUsing","SIZE","AutoChunkSize","MaxPartNumber","SkipTask","putObject","abortUploadTask","Level","uploadFile","taskList","fileInfo","_onTaskReady","onTaskReady","tid","_onFileFinish","onFileFinish","api","_addTasks","TotalSize","TotalFinish","onTotalProgress","unFinishCount","_onTotalFileFinish","onTotalFileFinish","Index","fileParams","PreAddSize","_onProgress","sliceCopyFile","getSourceParams","SourceBucket","SourceRegion","SourceKey","CopySliceSize","CopyChunkSize","CopyChunkParallelLimit","SourceHeaders","TargetHeader","ChunkCount","partNumber","clearKey","restoreHeader","headObject","ErrorStatus","putObjectCopy","resHeaders","metaPrefix","transferToTaskMethod","apiName","apiWrapper","arr","limit","iterator","completed","started","running","replenish","REQUEST","decodeAcl","AccessControlPolicy","GrantFullControl","GrantWrite","GrantRead","GrantReadAcp","GrantWriteAcp","ACL","GrantMap","Grant","AccessControlList","PublicAcl","READ","WRITE","FULL_CONTROL","Grantee","ID","URI","Permission","Owner","uniqGrant","str","getUrl","region","longBucket","bucket","shortBucket","appId","domain","protocol","isBrowser","location","ForcePathStyle","camSafeUrlEncode","isLocation","getSignHost","useAccelerate","UseAccelerate","urlHost","Url","Protocol","Domain","getAuthorizationAsync","headerHost","forceSignHost","ForceSignHost","SignHost","Host","cbDone","AuthData","XCosSecurityToken","SecurityToken","KeyName","Pathname","StsData","Scope","Action","ResourceKey","ScopeKey","_StsCache","compareTime","getSkewTime","SystemClockOffset","StartTime","ExpiredTime","ScopeLimit","calcAuthByTmpKey","KeyTime","Authorization","getAuth","SecretId","TmpSecretId","SecretKey","TmpSecretKey","Method","Expires","UseRawKey","Token","ClientIP","ClientUA","checkAuthError","formatAllow","auth","atob","getAuthorization","AuthError","getSTS","allowRetry","isTimeError","serverDate","date","ServerTime","errorCode","Code","errorMessage","Message","serverTime","CorrectClockSkew","abs","submitRequest","VersionId","versionId","paramsUrl","tryTimes","oldClockOffset","_submitRequest","rawBody","token","isCIHost","contentLength","DataType","Timeout","sender","Request","receive","hasReturned","off","killTask","json","statusSuccess","xml2json","xmlError","getService","ServiceDomain","AppId","standardHost","buckets","ListAllMyBucketsResult","Buckets","owner","putBucket","CreateBucketConfiguration","BucketAZConfig","json2xml","Location","headBucket","getBucket","reqParams","ListBucketResult","Contents","CommonPrefixes","deleteBucket","putBucketAcl","Grants","binaryBase64","getBucketAcl","putBucketCors","CORSRules","rule","sKey","CORSConfiguration","CORSRule","getBucketCors","deleteBucketCors","getBucketLocation","getBucketPolicy","Policy","putBucketPolicy","PolicyStr","deleteBucketPolicy","putBucketTagging","Tagging","Tags","TagSet","getBucketTagging","deleteBucketTagging","putBucketLifecycle","Rules","LifecycleConfiguration","Rule","getBucketLifecycle","deleteBucketLifecycle","putBucketVersioning","VersioningConfiguration","getBucketVersioning","putBucketReplication","ReplicationConfiguration","getBucketReplication","makeArray","deleteBucketReplication","putBucketWebsite","WebsiteConfiguration","RoutingRules","RoutingRule","getBucketWebsite","deleteBucketWebsite","putBucketReferer","RefererConfiguration","DomainList","Domains","getBucketReferer","putBucketDomain","DomainRule","DomainConfiguration","getBucketDomain","deleteBucketDomain","putBucketOrigin","OriginRule","OriginConfiguration","getBucketOrigin","deleteBucketOrigin","putBucketLogging","BucketLoggingStatus","getBucketLogging","putBucketInventory","InventoryConfiguration","OptionalFields","Field","Destination","COSBucketDestination","Encryption","getBucketInventory","listBucketInventory","ListInventoryConfigurationResult","InventoryConfigurations","deleteBucketInventory","putBucketAccelerate","configuration","AccelerateConfiguration","getBucketAccelerate","putBucketEncryption","conf","ServerSideEncryptionConfiguration","getBucketEncryption","EncryptionConfiguration","deleteBucketEncryption","getObject","reqParamsStr","QueryString","NotModified","listObjectVersions","ListVersionsResult","DeleteMarkers","DeleteMarker","Versions","Version","needCalcMd5","UploadAddMetaMd5","UploadCheckContentMd5","getBodyMd5","deleteObject","Recursive","BucketNotFound","getObjectAcl","putObjectAcl","optionsObject","OptionsForbidden","AccessControlAllowOrigin","AccessControlAllowMethods","AccessControlAllowHeaders","AccessControlExposeHeaders","AccessControlMaxAge","CopyObjectResult","deleteMultipleObject","Objects","Quiet","Delete","DeleteResult","Deleted","Errors","restoreObject","RestoreRequest","putObjectTagging","getObjectTagging","deleteObjectTagging","selectObjectContent","SelectRequest","parseSelectPayload","Payload","payload","appendObject","Position","uploadId","CopyPartResult","InitiateMultipartUploadResult","getFileSize","CompleteMultipartUpload","res","CompleteMultipartUploadResult","ProcessResults","UploadResult","OriginalInfo","ImageInfo","ListMultipartUploadsResult","ListPartsResult","RawBody","getObjectUrl","queryParamsStr","obj2str","syncUrl","Sign","signUrl","urlParams","encodedParams","replaceUrlParamList","proto","suffix","oldName","apiFn","warned","warnOldApi","advance","defaultOptions","FileParallelLimit","ProgressInterval","CompatibilityMode","UploadQueueSize","isNode","initEvent","cos","listeners","getList","cache","timer","cacheKey","getCache","localStorage","getItem","setCache","setItem","changed","mtime","save","mod","unshift","originApiMap","apiMap","_addTask","queue","tasks","uploadingFileCount","nextUploadIndex","formatTask","FilePath","speed","hashPercent","_custom","emitListUpdate","clearQueue","isActive","startNextTask","onTaskStart","apiParams","formatParams","switchToState","waiting","pipe","toState","isTaskReadyWarning","ignoreAddEvent","TaskReady","getTaskList","cancelTask","pauseTask","restartTask","isUploadRunning","getObjectKeys","forKey","compareVersion","signHeaders","readIntBE","Uint16Array","buf2str","isUtf8","charCode","noop","retObj","fileSliceNeedCopy","ua","ChromeVersion","QBCoreVersion","QQBrowserVersion","check","navigator","userAgent","md5ChunkSize","o","hasMissingParams","checkBucket","checkRegion","paramKey","headerKey","formatResult","RequestId","_callback","errMsg","missingResult","checkParams","isSync","isUseToUpload","blob","mozSlice","webkitSlice","reader","readAsArrayBuffer","md5ctx","readFun","fr","readAsBinaryString","fileData","binary","byteLength","char","btoa","flag","iaArr","defaultValue","S4","time1","size0","size1","time0","immediately","sourceErr","stack","enumerable","lowerCaseKey","keyList","pathname","queryParams","signHeaderObj","getSignHeaderObj","host","exp","expires","qAk","qSignTime","qKeyTime","qHeaderList","qUrlParamList","signKey","formatString","stringToSign","header","records","totalLength","headerLength","payloadRestLength","headerNameLength","headerName","headerValueLength","headerValue","stats","Stats","errCode","errMessage","includes","parser","CopySourceParser","cosConfig","StsTemporaryKeyRequestPost","requestCount","reqObject","responseDataHandle","respObj","log"],"sourceRoot":""}