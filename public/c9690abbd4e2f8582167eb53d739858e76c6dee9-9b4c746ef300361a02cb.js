(self.webpackChunkzwglass_purchase_records=self.webpackChunkzwglass_purchase_records||[]).push([[9552],{93870:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var o=n(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},a=n(12112),l=function(e,t){return o.createElement(a.Z,Object.assign({},e,{ref:t,icon:r}))};l.displayName="LeftOutlined";var c=o.forwardRef(l)},30165:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var o=n(67294),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},a=n(12112),l=function(e,t){return o.createElement(a.Z,Object.assign({},e,{ref:t,icon:r}))};l.displayName="ReloadOutlined";var c=o.forwardRef(l)},52495:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var o=n(50008),r=n.n(o);function a(e,t){"function"==typeof e?e(t):"object"===r()(e)&&e&&"current"in e&&(e.current=t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){a(t,e)}))}}},60566:function(e,t,n){"use strict";n.d(t,{C:function(){return L}});var o=n(67154),r=n.n(o),a=n(59713),l=n.n(a),c=n(50008),s=n.n(c),i=n(63038),u=n.n(i),d=n(67294),m=n(75900),f=n.n(m),p=n(69192),g=n(82525),b=n(16654),y=n(52495),v=n(66419),h=n(40173),E=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},O=function(e,t){var n,o,a=d.useState(1),c=u()(a,2),i=c[0],m=c[1],O=d.useState(!1),j=u()(O,2),C=j[0],_=j[1],Z=d.useState(!0),S=u()(Z,2),w=S[0],K=S[1],P=d.useRef(),k=d.useRef(),x=(0,y.s)(t,P),H=d.useContext(g.E_).getPrefixCls,L=function(){if(k.current&&P.current){var t=k.current.offsetWidth,n=P.current.offsetWidth;if(0!==t&&0!==n){var o=e.gap,r=void 0===o?4:o;2*r<n&&m(n-2*r<t?(n-2*r)/t:1)}}};d.useEffect((function(){_(!0)}),[]),d.useEffect((function(){K(!0),m(1)}),[e.src]),d.useEffect((function(){L()}),[e.gap]);var F=e.prefixCls,I=e.shape,q=e.size,D=e.src,N=e.srcSet,R=e.icon,B=e.className,V=e.alt,z=e.draggable,M=e.children,A=E(e,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children"]),T=(0,h.Z)(),W=d.useMemo((function(){if("object"!==s()(q))return{};var e=v.c4.find((function(e){return T[e]})),t=q[e];return t?{width:t,height:t,lineHeight:"".concat(t,"px"),fontSize:R?t/2:18}:{}}),[T,q]);(0,b.Z)(!("string"==typeof R&&R.length>2),"Avatar","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(R,"` at https://ant.design/components/icon"));var X,G=H("avatar",F),U=f()((n={},l()(n,"".concat(G,"-lg"),"large"===q),l()(n,"".concat(G,"-sm"),"small"===q),n)),J=f()(G,U,(o={},l()(o,"".concat(G,"-").concat(I),I),l()(o,"".concat(G,"-image"),D&&w),l()(o,"".concat(G,"-icon"),R),o),B),Q="number"==typeof q?{width:q,height:q,lineHeight:"".concat(q,"px"),fontSize:R?q/2:18}:{};if(D&&w)X=d.createElement("img",{src:D,draggable:z,srcSet:N,onError:function(){var t=e.onError;!1!==(t?t():void 0)&&K(!1)},alt:V});else if(R)X=R;else if(C||1!==i){var Y="scale(".concat(i,") translateX(-50%)"),$={msTransform:Y,WebkitTransform:Y,transform:Y},ee="number"==typeof q?{lineHeight:"".concat(q,"px")}:{};X=d.createElement(p.Z,{onResize:L},d.createElement("span",{className:"".concat(G,"-string"),ref:function(e){k.current=e},style:r()(r()({},ee),$)},M))}else X=d.createElement("span",{className:"".concat(G,"-string"),style:{opacity:0},ref:function(e){k.current=e}},M);return delete A.onError,delete A.gap,d.createElement("span",r()({},A,{style:r()(r()(r()({},Q),W),A.style),className:J,ref:x}),X)},j=d.forwardRef(O);j.displayName="Avatar",j.defaultProps={shape:"circle",size:"default"};var C=j,_=n(2375),Z=n(94221),S=n(90579),w=function(e){return e?"function"==typeof e?e():e:null},K=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},P=d.forwardRef((function(e,t){var n=e.prefixCls,o=e.title,a=e.content,l=K(e,["prefixCls","title","content"]),c=(0,d.useContext(g.E_).getPrefixCls)("popover",n);return d.createElement(S.Z,r()({},l,{prefixCls:c,ref:t,overlay:function(e){return d.createElement(d.Fragment,null,o&&d.createElement("div",{className:"".concat(e,"-title")},w(o)),d.createElement("div",{className:"".concat(e,"-inner-content")},w(a)))}(c)}))}));P.displayName="Popover",P.defaultProps={placement:"top",transitionName:"zoom-big",trigger:"hover",mouseEnterDelay:.1,mouseLeaveDelay:.1,overlayStyle:{}};var k=P,x=function(e){var t=d.useContext(g.E_),n=t.getPrefixCls,o=t.direction,r=e.prefixCls,a=e.className,c=void 0===a?"":a,s=e.maxCount,i=e.maxStyle,u=n("avatar-group",r),m=f()(u,l()({},"".concat(u,"-rtl"),"rtl"===o),c),p=e.children,b=e.maxPopoverPlacement,y=void 0===b?"top":b,v=(0,_.Z)(p).map((function(e,t){return(0,Z.Tm)(e,{key:"avatar-key-".concat(t)})})),h=v.length;if(s&&s<h){var E=v.slice(0,s),O=v.slice(s,h);return E.push(d.createElement(k,{key:"avatar-popover-key",content:O,trigger:"hover",placement:y,overlayClassName:"".concat(u,"-popover")},d.createElement(C,{style:i},"+".concat(h-s)))),d.createElement("div",{className:m,style:e.style},E)}return d.createElement("div",{className:m,style:e.style},p)},H=C;H.Group=x;var L=H},16306:function(e,t,n){"use strict";var o=n(67154),r=n.n(o),a=n(59713),l=n.n(a),c=n(67294),s=n(75900),i=n.n(s),u=n(82525),d=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};t.Z=function(e){return c.createElement(u.C,null,(function(t){var n,o=t.getPrefixCls,a=t.direction,s=e.prefixCls,u=e.type,m=void 0===u?"horizontal":u,f=e.orientation,p=void 0===f?"center":f,g=e.className,b=e.children,y=e.dashed,v=e.plain,h=d(e,["prefixCls","type","orientation","className","children","dashed","plain"]),E=o("divider",s),O=p.length>0?"-".concat(p):p,j=!!b,C=i()(E,"".concat(E,"-").concat(m),(n={},l()(n,"".concat(E,"-with-text"),j),l()(n,"".concat(E,"-with-text").concat(O),j),l()(n,"".concat(E,"-dashed"),!!y),l()(n,"".concat(E,"-plain"),!!v),l()(n,"".concat(E,"-rtl"),"rtl"===a),n),g);return c.createElement("div",r()({className:C},h,{role:"separator"}),b&&c.createElement("span",{className:"".concat(E,"-inner-text")},b))}))}},86257:function(e,t,n){"use strict";n.d(t,{y:function(){return g},p:function(){return b}});var o=n(67294),r=n(28130),a=n(23796),l=n(93299),c=n(77371),s=n(48428).Z.formCommonStyle,i=s.layoutForm,u=s.formItemLayout,d=s.tailFormItemLayout,m={width:260},f=function(e){var t=e.formKey,n=e.formKeyLabelObj,l=e.disabledKeys,c=e.updateFormObj,s=e.rulesObj,i=e.formKeySelectComponentsObj,d=e.passwordKeys,f=e.showLabelName,p=void 0===f||f,g=l.includes(t),b=n[t],y=c[t];return o.createElement(r.Z.Item,Object.assign({},u,{name:t,label:p?b:"",initialValue:y,rules:s[t]?s[t]:[]}),Object.keys(i).includes(t)?i[t]:d.includes(t)?o.createElement(a.Z.Password,{style:m}):o.createElement(a.Z,{style:m,placeholder:"请输入 "+b,disabled:g}))},p=function(e){var t=e.formKey,n=e.formKeyLabelObj,a=e.disabledKeys,c=e.updateFormObj,s=e.rulesObj,i=e.formKeySelectComponentsObj,d=e.passwordKeys,m=e.formKeysItemButtonObj,p=m[t].buttonTips,g=n[t];return o.createElement(r.Z.Item,Object.assign({},u,{label:g}),o.createElement(f,{formKey:t,formKeyLabelObj:n,disabledKeys:a,updateFormObj:c,rulesObj:s,formKeySelectComponentsObj:i,passwordKeys:d,showLabelName:!1}),o.createElement(l.Z,{type:"link",onClick:function(e){console.log(e);try{m[t].clickMethod()}catch(n){console.log(n)}}},p))},g=function(e){var t=e.columns,n=e.disabledKeys,a=e.notShowKeys,s=e.formKeyLabelObj,u=e.formKeySelectComponentsObj,m=e.formKeysItemButtonObj,g=e.onFinish,b=e.cancelHandle,y=e.deleteHandle,v=e.showDeleteButton,h=e.updateFormObj,E=e.formInitialObj,O=e.initFormCount,j=e.rulesObj,C=e.passwordKeys,_=r.Z.useForm()[0],Z=(0,o.useState)(!1),S=Z[0],w=Z[1];(0,o.useEffect)((function(){_.setFieldsValue(h),w(!1)}),[h]),(0,o.useEffect)((function(){O>0&&(_.setFieldsValue(E),w(!1))}),[O]);return o.createElement(r.Z,Object.assign({},i,{form:_,layout:"horizontal",onFinish:function(e){w(!0),g(e)},name:"adminer_info_edit"}),t.map((function(e,t){return a.includes(e)?null:Object.keys(m).includes(e)?o.createElement(p,{key:t.toString(),formKey:e,formKeyLabelObj:s,disabledKeys:n,updateFormObj:h,rulesObj:j,formKeySelectComponentsObj:u,passwordKeys:C,formKeysItemButtonObj:m}):o.createElement(f,{key:t.toString(),formKey:e,formKeyLabelObj:s,disabledKeys:n,updateFormObj:h,rulesObj:j,formKeySelectComponentsObj:u,passwordKeys:C})})),o.createElement(r.Z.Item,d,o.createElement(c.Z,null,o.createElement(l.Z,{loading:S,disabled:S,type:"primary",htmlType:"submit"},"提交"),o.createElement(l.Z,{onClick:b},"取消"),v?o.createElement(l.Z,{loading:S,disabled:S,onClick:function(){w(!0),y()}},"删除"):null)))};g.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},formKeysItemButtonObj:{},onFinish:function(e){console.log(e)},cancelHandle:function(){console.log("Cancel Handle")},deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}};var b=function(e){var t=e.columns,n=e.disabledKeys,s=e.notShowKeys,i=e.formKeyLabelObj,u=e.formKeySelectComponentsObj,d=e.onFinish,f=e.onFinishButtonTips,p=e.cancelHandle,g=e.showCancelButton,b=e.deleteHandle,y=e.showDeleteButton,v=e.updateFormObj,h=e.formInitialObj,E=e.initFormCount,O=e.rulesObj,j=e.passwordKeys,C=(e.getFieldsValueHandle,r.Z.useForm()[0]);(0,o.useEffect)((function(){C.setFieldsValue(v)}),[v]),(0,o.useEffect)((function(){C.setFieldsValue(h)}),[E]);var _=function(e){var t=e.formKey,l=n.includes(t),c=i[t],s=v[t];return o.createElement(r.Z.Item,{name:t,initialValue:s,rules:O[t]?O[t]:[]},Object.keys(u).includes(t)?u[t]:j.includes(t)?o.createElement(a.Z.Password,{style:m}):o.createElement(a.Z,{style:m,placeholder:"请输入 "+c,disabled:l}))};return o.createElement(r.Z,Object.assign({},{labelCol:{span:0},wrapperCol:{span:8}},{form:C,layout:"inline",onFinish:d,name:"adminer_info_edit"}),t.map((function(e,t){return s.includes(e)?null:o.createElement(_,{formKey:e,key:t.toString()})})),o.createElement(r.Z.Item,null,o.createElement(c.Z,null,o.createElement(l.Z,{type:"primary",htmlType:"submit"},f),g?o.createElement(l.Z,{onClick:p},"取消"):null,y?o.createElement(l.Z,{onClick:b},"删除"):null)))};b.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},onFinish:function(e){console.log(e)},onFinishButtonTips:"确定/修改",cancelHandle:function(){console.log("Cancel Handle")},showCancelButton:!1,deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}}},21565:function(e,t,n){"use strict";n.d(t,{S:function(){return p},l:function(){return g}});var o=n(67294),r=n(79410),a=n(93299),l=n(60566),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"},s=n(12112),i=function(e,t){return o.createElement(s.Z,Object.assign({},e,{ref:t,icon:c}))};i.displayName="StarOutlined";var u=o.forwardRef(i),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"},m=function(e,t){return o.createElement(s.Z,Object.assign({},e,{ref:t,icon:d}))};m.displayName="LikeOutlined";var f=o.forwardRef(m),p=function(e){var t=e.listData,n=e.randerItem,a=e.header,l=e.setSelectedItem,c=e.selectButtonOnClick,s=e.setVisible,i=e.visible;return o.createElement(r.ZP,{itemLayout:"vertical",size:"large",header:o.createElement("div",null,a),footer:null,bordered:!0,dataSource:t,renderItem:function(e){return n(e,l,c,s,i)}})};p.defaultProps={listData:[],randerItem:function(e){return o.createElement("div",null,e)},header:"列表标题",setSelectedItem:function(e){return console.log(e)},selectButtonOnClick:function(e){return console.log(e)},setVisible:function(e){return console.log(e)},visible:0};var g=function(e,t){return void 0===e&&(e={id:1,actions:[o.createElement(a.Z,{icon:o.createElement(u,null),onClick:function(){return console.log("关注1024")}},"1024"),o.createElement(a.Z,{icon:o.createElement(f,null),onClick:function(){return console.log("点赞1024")}},"1024")],img:"",avatar:"",title:"List.Item model",description:"说明文字",content:"内容文字"}),void 0===t&&(t=260),o.createElement(r.ZP.Item,{key:e.id.toString(),actions:e.actions,extra:e.img.length>0?o.createElement("img",{width:t,alt:"image",src:e.img}):null},o.createElement(r.ZP.Item.Meta,{avatar:e.avatar.length>0?o.createElement(l.C,{src:e.avatar}):null,title:e.title,description:e.description}),e.content)}},31166:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var o=n(67294),r=n(40977),a=n(23148),l=n(56452),c=n(77371),s=n(90579),i=n(93299),u=n(93870),d=n(30165),m=n(25444),f=n(94789),p=n(16306),g=n(98662),b=n(33328),y=n(24274),v=["goods-admin/v1/goodscolorprice","goods-admin/v1/postgoodsstock"],h=function(e){var t=e.requestCount,n=e.reqParams,r=e.responseDataHandle,a=v[0];return o.createElement(b.Z,{responseDataHandle:r,api:a,method:"get",reqParams:n,reqObject:{},requestCount:t})};h.defaultProps={requestCount:0,reqParams:{},responseDataHandle:function(e){console.log(e)}};var E=function(e){var t=e.requestCount,n=e.reqObject,r=e.responseDataHandle,a=[].concat(v)[0];return o.createElement(b.Z,{responseDataHandle:r,api:a,method:"post",reqParams:{},reqObject:n,requestCount:t})};E.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)}};var O=function(e){var t=e.requestCount,n=e.reqObject,r=e.responseDataHandle,a=e.id,l=[].concat(v)[0]+"/"+a;return o.createElement(b.Z,{responseDataHandle:r,api:l,method:"put",reqParams:{},reqObject:n,requestCount:t})};O.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)},id:0};var j=function(e){var t=e.requestCount,n=e.responseDataHandle,r=e.id,a=[].concat(v)[0]+"/"+r;return o.createElement(b.Z,{responseDataHandle:n,api:a,method:"delete",reqParams:{},reqObject:{},requestCount:t})};j.defaultProps={requestCount:0,responseDataHandle:function(e){console.log(e)},id:0};var C=n(86257),_=n(21565),Z=["id","goods","color_name","stock_num","retail_price","group_price","agent_price","cost_price","color_pic","handle_staff_id","add_time","update_time","explains"],S=["id","goods","color_pic","handle_staff_id","add_time","update_time"],w=["id","color_pic","handle_staff_id"],K={id:"ID",goods:"商品ID",color_name:"颜色名称",stock_num:"库存数量",retail_price:"零售价格",group_price:"团购价格",agent_price:"代理价格",cost_price:"成本价",color_pic_url:"图片URL",color_pic:"图片cos",handle_staff_id:"操作员ID",add_time:"创建时间",update_time:"更新时间",explains:"说明"},P={},k={id:0,goods:0,color_name:"",stock_num:0,retail_price:0,group_price:0,agent_price:0,cost_price:0,color_pic_url:"",color_pic:"",handle_staff_id:0,add_time:"",update_time:"",explains:""},x="property_pic",H=function(e,t,n,r){var a=[o.createElement(i.Z,{onClick:function(){n(e),t(2)},type:"link"},"详情")];return r&&a.push(o.createElement(i.Z,{onClick:function(){r(e),t(0)},type:"link"},"选择")),a},L=function(e,t,n,r,a){var l=o.createElement("div",null,o.createElement("p",null,"库存数量: "+e.stock_num),o.createElement("p",null,"零售价: "+e.retail_price),o.createElement("p",null,"团购价: "+e.group_price),o.createElement("p",null,"代理价: "+e.agent_price),o.createElement("p",null,"成本: "+e.cost_price)),c={id:e.id,actions:H(e,r,t,n),img:e.property_pic_url,avatar:"",title:"颜色属性: "+e.color_name,description:"说明: "+e.explains,content:l};return(0,_.l)(c,120)},F=function(e){var t=e.visible,n=e.setVisible,a=e.reloadListCount,l=e.setReloadListCount,c=e.goodsId,s=(0,o.useRef)({}),i=(0,o.useRef)({createCount:0}),u=(0,o.useRef)({}),d=(0,o.useState)(0),m=d[0],b=d[1],y=(0,o.useState)(0),v=y[0],h=y[1],O=(0,o.useRef)({});(0,o.useEffect)((function(){var e=Object.assign({},k);e.goods=c,u.current=e,b(m+1)}),[c]);var j=function(){s.current={},i.current={createCount:i.current.createCount+1},b(m+1),n(!1)};return o.createElement(o.Fragment,null,o.createElement(f.Z,{visible:t,title:"ColorPrice 新建",closable:!1,footer:null},o.createElement("div",{style:{width:"100%",height:"auto",textAlign:"center"}},o.createElement(g.DX,{oldObj:i.current,imageKeyName:x,onChange:function(e){s.current=Object.assign({},e)}})),o.createElement(p.Z,null),o.createElement(C.y,{columns:Z,disabledKeys:S,notShowKeys:w,formKeyLabelObj:K,formKeySelectComponentsObj:P,onFinish:function(e){var t=Object.assign({},e,s.current);O.current=t,h(v+1)},cancelHandle:j,showDeleteButton:!1,formInitialObj:u.current,initFormCount:m}),o.createElement(E,{requestCount:v,reqObject:O.current,responseDataHandle:function(e){console.log(e),Object.keys(e).includes("code")&&1e3===e.code?(j(),l(a+1)):r.ZP.error("网络错误...")}})))};F.defaultProps={visible:!1,setVisible:function(e){return console.log(e)},reloadListCount:0,setReloadListCount:function(e){return console.log(e)},goodsId:0};var I=F,q=function(e){var t=e.visible,n=e.setVisible,a=e.oldObj,l=e.reloadListCount,c=e.setReloadListCount,s=(0,o.useRef)({}),i=(0,o.useState)({}),u=i[0],d=i[1],m=(0,o.useState)(0),b=m[0],y=m[1],v=(0,o.useState)(0),h=v[0],E=v[1],_=(0,o.useRef)({}),k=(0,o.useState)(0),H=k[0],L=k[1];(0,o.useEffect)((function(){F()}),[t,a]);var F=function(){y(b+1),d(Object.assign({},a));for(var e=[],t=1;t<10;t++){var n="home_pic"+t,o=n+"_url",r=a[n],l=a[o];"string"==typeof r&&r.length>5&&e.push({cosNameKey:n,cosName:r,urlKey:o,url:l})}};return o.createElement(f.Z,{visible:2===t,title:"ColorPrice",closable:!1,footer:null},o.createElement("div",{style:{width:"100%",height:"auto",textAlign:"center"}},o.createElement(g.DX,{maxImagesNum:1,imageKeyName:x,oldObj:a,onChange:function(e){s.current=e,console.log(s.current)}})),o.createElement(p.Z,null),o.createElement(C.y,{columns:Z,disabledKeys:S,notShowKeys:w,formKeyLabelObj:K,formKeySelectComponentsObj:P,onFinish:function(e){var t=Object.assign({},e,s.current);console.log(t),_.current=t,E(h+1)},cancelHandle:function(){return n(!1)},showDeleteButton:!0,deleteHandle:function(){L(H+1),c(l+1)},updateFormObj:u,formInitialObj:{},initFormCount:b}),o.createElement(O,{requestCount:h,reqObject:_.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?(r.ZP.success("修改成功"),c(l+1),n(0)):r.ZP.error("网络错误...")},id:u.id}),o.createElement(j,{requestCount:H,responseDataHandle:function(e){return n(!1)},id:u.id}))};q.defaultProps={visible:!1,setVisible:function(e){return console.log(e)},oldObj:{}};var D=q,N=["goods-admin/v1/goods"],R=function(e){var t=e.reloadListCount,n=e.setReloadListCount,r=e.requestParams,a=e.selectHandle,l=(0,o.useState)(0),c=l[0],s=l[1],i=(0,o.useState)(!0),u=i[0],d=i[1],m=(0,o.useState)(!1),f=m[0],p=m[1],g=(0,o.useState)(!1),b=g[0],v=g[1],E=(0,o.useRef)({page:1}),O=(0,o.useState)([]),j=O[0],C=O[1],Z=(0,o.useState)(0),S=Z[0],w=Z[1],K=(0,o.useState)({}),P=K[0],k=K[1];(0,o.useEffect)((function(){C([]),p(!1),d(!0),E.current=Object.assign({},r,{page:r.page+1}),v(!0)}),[t]),(0,o.useEffect)((function(){u&&!f&&b&&(v(!1),x())}),[u,f,b]);var x=function(){r.goods&&r.goods>0&&u&&!f?(d(!1),w(S+1),p(!0)):console.log("Error state: hasMore is ",u,", loading is ",f)},H=function(e,t){void 0===t&&(t=!0);for(var n="retail_price",o=0,r=0;r<e.length;r++){var a=e[r],l=a[n]?a[n]:0;0===o&&(o=l),t?o>l&&l>0&&(o=l):o<l&&(o=l)}return o};return o.createElement("div",null,o.createElement(h,{requestCount:S,reqParams:E.current,responseDataHandle:function(e){if(p(!1),Object.keys(e).includes("code")&&1e3===e.code&&Object.keys(e).includes("results")){C(j.concat(e.results)),d(function(e){return!!(Object.keys(e).includes("next")&&"string"==typeof e.next&&e.next.length>5)}(e));var t=e.results;if(t.length>0){console.log(t);var n=H(t),o=H(t,!1),r=function(e){for(var t=0,n=0;n<e.length;n++){var o=e[n];t+=o.stock_num>0?o.stock_num:0}return t}(t);console.log(n,o,t[0].goods),function(e,t,n,o){void 0===o&&(o=0);var r=N[0]+"/"+o,a={goods_number:n,min_retail_price:e,retail_price:t};return new Promise((function(e,t){o>0?(0,y.H)(r,"put",{},a).then((function(t){e(t)})).catch((function(e){t(e)})):t("Argument goodsId must..., ",o)}))}(n,o,r,t[0].goods).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}else console.log("Error: get data...")}}),o.createElement(_.S,{header:"ColorPrice",listData:j,visible:c,setVisible:s,randerItem:L,setSelectedItem:k,selectButtonOnClick:a}),o.createElement(D,{visible:c,setVisible:s,oldObj:P,reloadListCount:t,setReloadListCount:n}))};R.defaultProps={reloadListCount:0,setReloadListCount:function(e){console.log(e)},requestParams:{page:0},selectHandle:null};var B=R,V=function(e){var t=e.location,n=(0,o.useState)(0),f=n[0],p=n[1],g=(0,o.useRef)({page:0}),b=(0,o.useState)(""),y=b[0],v=b[1],h=(0,o.useState)(0),E=h[0],O=h[1],j=(0,o.useState)(!1),C=j[0],_=j[1],Z=(0,o.useState)(null),S=Z[0],w=Z[1],K=(0,o.useState)(null),P=K[0],k=(K[1],function(){f&&f>0?(g.current={page:0,goods:f},O(E+1),console.log("init search 00 ...")):console.log("No goods...")});return(0,o.useEffect)((function(){try{console.log(t.state.goodsobj),p(t.state.goodsobj.id),v(t.state.goodsobj.name),w(t.state.selectHandle?t.state.selectHandle:null),console.log(t.state)}catch(e){console.log(e),r.ZP.error("Error: 请重新选择产品...")}}),[t.state]),(0,o.useEffect)((function(){k()}),[f]),o.createElement("div",null,o.createElement(a.Z,null,o.createElement(l.Z,{span:14},o.createElement("div",{style:{width:"100%",height:"auto",padding:"0.1rem 0.5rem"}},o.createElement(c.Z,{size:"large"},P?null:o.createElement(s.Z,{title:"返回"},o.createElement(m.Link,{to:"/wxgoods"},o.createElement(u.Z,null))),o.createElement("h4",null,"ColorPrice"),o.createElement(s.Z,{title:"刷新"},o.createElement(i.Z,{onClick:k,shape:"circle",icon:o.createElement(d.Z,null)}))))),o.createElement(l.Z,{span:10},o.createElement("div",{style:{width:"100%",height:"auto"}},o.createElement(i.Z,{style:{float:"right"},type:"link",onClick:function(){return _(!0)}},"新建")))),o.createElement(a.Z,{style:{margin:"1rem 0.2rem"}},o.createElement("h6",null,"商品标题: ",y)),o.createElement(B,{reloadListCount:E,setReloadListCount:O,requestParams:g.current,selectHandle:S}),o.createElement(I,{visible:C,setVisible:_,reloadListCount:E,setReloadListCount:O,goodsId:f}))}}}]);
//# sourceMappingURL=c9690abbd4e2f8582167eb53d739858e76c6dee9-9b4c746ef300361a02cb.js.map