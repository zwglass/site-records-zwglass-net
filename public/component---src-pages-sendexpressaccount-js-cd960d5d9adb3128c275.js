(self.webpackChunkzwglass_purchase_records=self.webpackChunkzwglass_purchase_records||[]).push([[9721],{93870:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o=n(67294),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},r=n(12112),a=function(e,t){return o.createElement(r.Z,Object.assign({},e,{ref:t,icon:l}))};a.displayName="LeftOutlined";var s=o.forwardRef(a)},30165:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o=n(67294),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},r=n(12112),a=function(e,t){return o.createElement(r.Z,Object.assign({},e,{ref:t,icon:l}))};a.displayName="ReloadOutlined";var s=o.forwardRef(a)},86257:function(e,t,n){"use strict";n.d(t,{y:function(){return p},p:function(){return y}});var o=n(67294),l=n(28130),r=n(23796),a=n(93299),s=n(77371),c=n(48428).Z.formCommonStyle,u=c.layoutForm,i=c.formItemLayout,d=c.tailFormItemLayout,m={width:260},f=function(e){var t=e.formKey,n=e.formKeyLabelObj,a=e.disabledKeys,s=e.updateFormObj,c=e.rulesObj,u=e.formKeySelectComponentsObj,d=e.passwordKeys,f=e.showLabelName,b=void 0===f||f,p=a.includes(t),y=n[t],g=s[t];return o.createElement(l.Z.Item,Object.assign({},i,{name:t,label:b?y:"",initialValue:g,rules:c[t]?c[t]:[]}),Object.keys(u).includes(t)?u[t]:d.includes(t)?o.createElement(r.Z.Password,{style:m}):o.createElement(r.Z,{style:m,placeholder:"请输入 "+y,disabled:p}))},b=function(e){var t=e.formKey,n=e.formKeyLabelObj,r=e.disabledKeys,s=e.updateFormObj,c=e.rulesObj,u=e.formKeySelectComponentsObj,d=e.passwordKeys,m=e.formKeysItemButtonObj,b=m[t].buttonTips,p=n[t];return o.createElement(l.Z.Item,Object.assign({},i,{label:p}),o.createElement(f,{formKey:t,formKeyLabelObj:n,disabledKeys:r,updateFormObj:s,rulesObj:c,formKeySelectComponentsObj:u,passwordKeys:d,showLabelName:!1}),o.createElement(a.Z,{type:"link",onClick:function(e){console.log(e);try{m[t].clickMethod()}catch(n){console.log(n)}}},b))},p=function(e){var t=e.columns,n=e.disabledKeys,r=e.notShowKeys,c=e.formKeyLabelObj,i=e.formKeySelectComponentsObj,m=e.formKeysItemButtonObj,p=e.onFinish,y=e.cancelHandle,g=e.deleteHandle,h=e.showDeleteButton,E=e.updateFormObj,O=e.formInitialObj,j=e.initFormCount,v=e.rulesObj,C=e.passwordKeys,K=l.Z.useForm()[0],Z=(0,o.useState)(!1),w=Z[0],S=Z[1];(0,o.useEffect)((function(){K.setFieldsValue(E),S(!1)}),[E]),(0,o.useEffect)((function(){j>0&&(K.setFieldsValue(O),S(!1))}),[j]);return o.createElement(l.Z,Object.assign({},u,{form:K,layout:"horizontal",onFinish:function(e){S(!0),p(e)},name:"adminer_info_edit"}),t.map((function(e,t){return r.includes(e)?null:Object.keys(m).includes(e)?o.createElement(b,{key:t.toString(),formKey:e,formKeyLabelObj:c,disabledKeys:n,updateFormObj:E,rulesObj:v,formKeySelectComponentsObj:i,passwordKeys:C,formKeysItemButtonObj:m}):o.createElement(f,{key:t.toString(),formKey:e,formKeyLabelObj:c,disabledKeys:n,updateFormObj:E,rulesObj:v,formKeySelectComponentsObj:i,passwordKeys:C})})),o.createElement(l.Z.Item,d,o.createElement(s.Z,null,o.createElement(a.Z,{loading:w,disabled:w,type:"primary",htmlType:"submit"},"提交"),o.createElement(a.Z,{onClick:y},"取消"),h?o.createElement(a.Z,{loading:w,disabled:w,onClick:function(){S(!0),g()}},"删除"):null)))};p.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},formKeysItemButtonObj:{},onFinish:function(e){console.log(e)},cancelHandle:function(){console.log("Cancel Handle")},deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}};var y=function(e){var t=e.columns,n=e.disabledKeys,c=e.notShowKeys,u=e.formKeyLabelObj,i=e.formKeySelectComponentsObj,d=e.onFinish,f=e.onFinishButtonTips,b=e.cancelHandle,p=e.showCancelButton,y=e.deleteHandle,g=e.showDeleteButton,h=e.updateFormObj,E=e.formInitialObj,O=e.initFormCount,j=e.rulesObj,v=e.passwordKeys,C=(e.getFieldsValueHandle,l.Z.useForm()[0]);(0,o.useEffect)((function(){C.setFieldsValue(h)}),[h]),(0,o.useEffect)((function(){C.setFieldsValue(E)}),[O]);var K=function(e){var t=e.formKey,a=n.includes(t),s=u[t],c=h[t];return o.createElement(l.Z.Item,{name:t,initialValue:c,rules:j[t]?j[t]:[]},Object.keys(i).includes(t)?i[t]:v.includes(t)?o.createElement(r.Z.Password,{style:m}):o.createElement(r.Z,{style:m,placeholder:"请输入 "+s,disabled:a}))};return o.createElement(l.Z,Object.assign({},{labelCol:{span:0},wrapperCol:{span:8}},{form:C,layout:"inline",onFinish:d,name:"adminer_info_edit"}),t.map((function(e,t){return c.includes(e)?null:o.createElement(K,{formKey:e,key:t.toString()})})),o.createElement(l.Z.Item,null,o.createElement(s.Z,null,o.createElement(a.Z,{type:"primary",htmlType:"submit"},f),p?o.createElement(a.Z,{onClick:b},"取消"):null,g?o.createElement(a.Z,{onClick:y},"删除"):null)))};y.defaultProps={columns:[],disabledKeys:[],notShowKeys:[],formKeyLabelObj:{},formKeySelectComponentsObj:{},onFinish:function(e){console.log(e)},onFinishButtonTips:"确定/修改",cancelHandle:function(){console.log("Cancel Handle")},showCancelButton:!1,deleteHandle:function(){console.log("Delete Handle")},showDeleteButton:!1,updateFormObj:{},formInitialObj:{},initFormCount:0,rulesObj:{},passwordKeys:[],getFieldsValueHandle:function(e){return console.log(e)}}},15169:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var o=n(67294),l=n(27188),r=n(48428),a=l.Z.Option,s=function(e){var t=e.options,n=e.width,r=e.value,s=e.onChange,c=e.mode;return o.createElement(l.Z,{style:{width:n},onChange:s,value:r,mode:c,allowClear:!0},t.map((function(e,t){return o.createElement(a,{key:t.toString(),value:e.value},e.label)})))};s.defaultProps={options:[],width:r.Z.selectComponentWidth,value:null,onChange:function(e){console.log(e)},mode:null}},67911:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var o=n(67294),l=n(93696),r=n(93751),a=n(23148),s=n(56452),c=n(77371),u=n(90579),i=n(93299),d=n(93870),m=n(30165),f=n(24856),b=n(25444),p=n(40977),y=n(94789),g=n(16306),h=n(98662),E=n(33328),O=n(15169),j=n(88175),v=n(24274),C=["id","express_company_code","account_code","handle_staff_id","add_time","update_time","explains"],K=["id","handle_staff_id","add_time","update_time"],Z=["id","handle_staff_id","add_time","update_time"],w={id:"ID",express_company_code:"快递公司",account_code:"发货账号",handle_staff_id:"编辑人员",add_time:"新建时间",update_time:"更新时间",explains:"说明"},S=function(e){var t=e.value,n=void 0===t?"":t,l=e.onChange,r=void 0===l?function(e){return console.log(e)}:l,a=(0,o.useState)([]),s=a[0],c=a[1];return(0,o.useEffect)((function(){new Promise((function(e,t){(0,v.H)("kdniao-admin/v1/kdniaoexpresscompanycodes","get",{},{}).then((function(t){e(t)})).catch((function(e){console.log(e),t(e)}))})).then((function(e){for(var t=e.results,n=[],o=0;o<t.length;o++){var l=t[o];n.push({value:l.express_company_code,label:l.express_company_name})}c(n)})).catch((function(e){console.log(e),c([])}))}),[]),o.createElement(O.A,{options:s,value:n,onChange:r})},_={express_company_code:o.createElement(S,null)},F=[],H={id:0,express_company_code:"",account_code:"",handle_staff_id:0,add_time:"",update_time:"",explains:""},q=[],k=["kdniao-admin/v1/expressaccountinfo"],L=function(e){var t=e.item,n=e.index,l=e.itemDetailClick;return console.log(t),o.createElement("div",null,o.createElement(j.Z,{listsIndex:n,productTitle:t.express_company_code,productEffects:"发货账号: "+t.account_code,salePrice:0,clickDetailHandle:l}))},D=function(e){var t=e.requestCount,n=e.reqParams,l=e.responseDataHandle,r=k[0];return o.createElement(E.Z,{responseDataHandle:l,api:r,method:"get",reqParams:n,reqObject:{},requestCount:t})};D.defaultProps={requestCount:0,reqParams:{},responseDataHandle:function(e){console.log(e)}};var x=function(e){var t=e.requestCount,n=e.reqObject,l=e.responseDataHandle,r=[].concat(k)[0];return o.createElement(E.Z,{responseDataHandle:l,api:r,method:"post",reqParams:{},reqObject:n,requestCount:t})};x.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)}};var P=function(e){var t=e.requestCount,n=e.reqObject,l=e.responseDataHandle,r=e.id,a=[].concat(k)[0]+"/"+r;return o.createElement(E.Z,{responseDataHandle:l,api:a,method:"put",reqParams:{},reqObject:n,requestCount:t})};P.defaultProps={requestCount:0,reqObject:{},responseDataHandle:function(e){console.log(e)},id:0};var I=function(e){var t=e.requestCount,n=e.responseDataHandle,l=e.id,r=[].concat(k)[0]+"/"+l;return o.createElement(E.Z,{responseDataHandle:n,api:r,method:"delete",reqParams:{},reqObject:{},requestCount:t})};I.defaultProps={requestCount:0,responseDataHandle:function(e){console.log(e)},id:0};var R=n(86257),V=function(e){var t=e.visible,n=e.setVisible,l=e.reloadListCount,r=e.setReloadListCount,a=(0,o.useRef)({}),s=(0,o.useRef)({createCount:0}),c=(0,o.useState)(0),u=c[0],i=c[1],d=(0,o.useState)(0),m=d[0],f=d[1],b=(0,o.useRef)({}),E=function(){a.current={},s.current={createCount:s.current.createCount+1},i(u+1),n(!1)};return o.createElement(o.Fragment,null,o.createElement(y.Z,{visible:t,title:"SendExpressAccount 新建",closable:!1,footer:null},o.createElement("div",{style:{width:"100%",height:"auto",textAlign:"center"}},o.createElement(h.DX,{oldObj:s.current,maxImagesNum:0,imageKeyName:q[0],onChange:function(e){a.current=Object.assign({},e)}})),o.createElement(g.Z,null),o.createElement(R.y,{columns:C,disabledKeys:K,notShowKeys:Z,formKeyLabelObj:w,formKeySelectComponentsObj:_,onFinish:function(e){var t=Object.assign({},e,a.current);b.current=t,f(m+1)},cancelHandle:E,showDeleteButton:!1,formInitialObj:H,initFormCount:u}),o.createElement(x,{requestCount:m,reqObject:b.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?(E(),r(l+1)):p.ZP.error("网络错误...")}})))};V.defaultProps={visible:!1,setVisible:function(e){return console.log(e)},reloadListCount:0,setReloadListCount:function(e){return console.log(e)}};var B=V,N=n(37011),A=function(e){var t=e.visible,n=e.setVisible,l=e.queryHandle,r=(0,o.useState)(0),a=r[0],s=r[1],c=function(){s(a+1),n(!1)};return o.createElement(N.Z,{title:"销售记录查询",width:"100%",height:"400px",placement:"top",onClose:c,visible:t,bodyStyle:{paddingBottom:80},footer:null},o.createElement(R.y,{columns:F,formKeyLabelObj:w,formKeySelectComponentsObj:_,onFinish:function(e){var t=Object.assign({},e);console.log(t),l(t),setTimeout((function(){c()}),50)},cancelHandle:function(){return n(!1)},showDeleteButton:!1,formInitialObj:H,initFormCount:a}))};A.defaultProps={visible:!1,setVisible:function(e){console.log(e)},queryHandle:function(e){console.log(e)}};var T=A,M=n(45266),z=function(e){var t=e.visible,n=e.setVisible,l=e.oldObj,r=e.reloadListCount,a=e.setReloadListCount,s=(0,o.useState)([]),c=(s[0],s[1]),u=(0,o.useRef)({}),i=(0,o.useState)(""),d=(i[0],i[1],(0,o.useState)({})),m=d[0],f=d[1],b=(0,o.useState)(0),E=b[0],O=b[1],j=(0,o.useState)(0),v=j[0],S=j[1],F=(0,o.useRef)({}),H=(0,o.useState)(0),k=H[0],L=H[1];(0,o.useEffect)((function(){D()}),[t,l]);var D=function(){O(E+1),f(Object.assign({},l));for(var e=[],t=q[0],n=1;n<10;n++){var o=t+n,r=o+"_url",a=l[o],s=l[r];"string"==typeof a&&a.length>5&&e.push({cosNameKey:o,cosName:a,urlKey:r,url:s})}c(e)};return o.createElement(y.Z,{visible:t,title:"SendExpressAccount",closable:!1,footer:null},o.createElement("div",{style:{width:"100%",height:"auto",textAlign:"center"}},o.createElement(h.DX,{maxImagesNum:0,imageKeyName:q[0],oldObj:l,onChange:function(e){u.current=e}})),o.createElement(g.Z,null),o.createElement(R.y,{columns:C,disabledKeys:K,notShowKeys:Z,formKeyLabelObj:w,formKeySelectComponentsObj:_,onFinish:function(e){var t=Object.assign({},e,u.current);console.log(t),F.current=t,S(v+1)},cancelHandle:function(){return n(!1)},showDeleteButton:!0,deleteHandle:function(){L(k+1),a(r+1)},updateFormObj:m,formInitialObj:{},initFormCount:E}),o.createElement(P,{requestCount:v,reqObject:F.current,responseDataHandle:function(e){Object.keys(e).includes("code")&&1e3===e.code?(p.ZP.success("修改成功"),a(r+1),n(!1)):p.ZP.error("网络错误...")},id:m.id}),o.createElement(I,{requestCount:k,responseDataHandle:function(e){return n(!1)},id:m.id}))};z.defaultProps={visible:!1,setVisible:function(e){return console.log(e)},oldObj:{}};var X=z,W=function(e){var t=e.reloadListCount,n=e.setReloadListCount,l=e.requestParams,r=(0,o.useRef)(!0),a=(0,o.useState)(!0),s=a[0],c=a[1],u=(0,o.useState)(!1),i=u[0],d=u[1],m=(0,o.useRef)({page:0}),f=(0,o.useState)([]),b=f[0],p=f[1],y=(0,o.useState)(0),g=y[0],h=y[1],E=(0,o.useState)(!1),O=E[0],j=E[1],v=(0,o.useState)({}),C=v[0],K=v[1];(0,o.useEffect)((function(){m.current=Object.assign({},l),w()}),[t]),(0,o.useEffect)((function(){c(r.current)}),[r.current]);var Z=function(){if(r.current&&!i){var e=Number.isInteger(m.current.page)?m.current.page+1:1;m.current=Object.assign({},m.current,{page:e}),console.log(m.current),h(g+1),d(!0)}else console.log("Error state: hasMore is ",r.current,", loading is ",i)},w=function(){m.current=Object.assign({},m.current,{page:0}),p([]),r.current=!0,d(!1),setTimeout((function(){Z(),console.log("end loadMore...")}),100)},S=function(e){var t=Object.assign({},b[e]);console.log(t),K(t),j(!0)};return o.createElement("div",null,o.createElement(D,{requestCount:g,reqParams:m.current,responseDataHandle:function(e){console.log("resp process..."),d(!1),Object.keys(e).includes("code")&&1e3===e.code&&Object.keys(e).includes("results")?(p(b.concat(e.results)),r.current=function(e){return!!(Object.keys(e).includes("next")&&"string"==typeof e.next&&e.next.length>5)}(e)):console.log("Error: get data...")}}),o.createElement(M.Z,{productsData:b,loadMore:Z,hasMore:s,ItemRendererComponent:function(e){var t=e.item,n=e.index;return o.createElement(L,{item:t,index:n,itemDetailClick:S})}}),o.createElement(X,{visible:O,setVisible:j,oldObj:C,reloadListCount:t,setReloadListCount:n}))};W.defaultProps={reloadListCount:1,setReloadListCount:function(e){console.log(e)},requestParams:{page:0}};var G=W,J=function(e){var t=e.paramsObj,n=void 0===t?{}:t,l=(0,o.useState)(""),r=l[0],a=l[1];(0,o.useEffect)((function(){s()}),[n]);var s=function(){var e="";Object.keys(n).forEach((function(t){if(Object.keys(w).includes(t)){var o=" "+w[t]+" = "+n[t]+";";e+=o}})),e.length>2?a(e="查询条件:"+e):(console.log("查询条件为空"),a(""))};return o.createElement("div",{style:{height:"auto",width:"100%",padding:"0.1rem 0.2rem"}},r.length>2?o.createElement("p",null,r):null)},Q=function(){var e=(0,o.useRef)({page:0}),t=(0,o.useState)(1),n=t[0],l=t[1],r=(0,o.useState)(!1),p=r[0],y=r[1],g=(0,o.useState)(!1),h=g[0],E=g[1];return o.createElement("div",null,o.createElement(a.Z,null,o.createElement(s.Z,{span:14},o.createElement(c.Z,null,o.createElement(u.Z,{title:"返回"},o.createElement(b.Link,{to:"/logistic"},o.createElement(d.Z,null))),o.createElement("h4",null,"快递账号"),o.createElement(u.Z,{title:"刷新"},o.createElement(i.Z,{onClick:function(){e.current={page:0},l(n+1)},shape:"circle",icon:o.createElement(m.Z,null)})),o.createElement(u.Z,{title:"搜索"},o.createElement(i.Z,{onClick:function(){return y(!0)},shape:"circle",icon:o.createElement(f.Z,null)})))),o.createElement(s.Z,{span:10},o.createElement("div",{style:{width:"100%",height:"auto"}},o.createElement(i.Z,{style:{float:"right"},type:"link",onClick:function(){return E(!0)}},"新建")))),o.createElement(a.Z,null,o.createElement(s.Z,{span:24},o.createElement(J,{paramsObj:e.current}))),o.createElement(T,{visible:p,setVisible:y,queryHandle:function(t){e.current=Object.assign({},t),l(n+1),console.log("search...")}}),o.createElement(G,{reloadListCount:n,setReloadListCount:l,requestParams:e.current}),o.createElement(B,{visible:h,setVisible:E,reloadListCount:n,setReloadListCount:l}))},U=function(){return o.createElement(l.Z,null,o.createElement(r.Z,{title:"ExpressAccount"}),o.createElement(Q,null))}}}]);
//# sourceMappingURL=component---src-pages-sendexpressaccount-js-cd960d5d9adb3128c275.js.map