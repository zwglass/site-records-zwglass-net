{"version":3,"sources":["webpack:///./src/components/base_components/page_is_loading.js","webpack:///./src/components/site_layout/no_footer_layout.js","webpack:///./src/components/products/products_requests.js","webpack:///./src/components/upload_files/sts_upload_file.js","webpack:///./src/components/products/lens_form.js","webpack:///./src/components/products/lens_create.js","webpack:///./src/pages/lenscreate.js","webpack:///./src/components/base_components/form_component.js","webpack:///./src/components/base_components/select_component.js","webpack:///./src/components/upload_files/uploadFilesHandle.js","webpack:///./src/components/products/products_columns_labels_config.js"],"names":["PageIsLoading","spinning","useState","showLoading","setShowLoading","divStyle","display","useEffect","className","style","size","defaultProps","NoFooterSiteLayout","children","requestCount","setRequestCount","Item","lensPriceApis","LensPriceRequestGet","reqParams","responseDataHandle","api","method","reqObject","respObj","console","log","LensPriceRequestPost","concat","StsUploadFile","oldImageUrl","avatarSize","uploadedResponseHandle","fileKey","cleanFileListCount","selectedFileObj","useRef","stsTemporaryObj","cos_name","uploadedFileUrl","setUploadedFileUrl","temporaryKeyRequestCount","setTemporaryKeyRequestCount","temporaryKeyRequestObj","showOldImageUrl","setShowOldImageUrl","showUploadButton","setShowUploadButton","deleteCurrentImage","current","Object","keys","length","getAuthorization","options","callback","stsObj","credentials","TmpSecretId","tmpSecretId","TmpSecretKey","tmpSecretKey","XCosSecurityToken","sessionToken","StartTime","startTime","ExpiredTime","expiredTime","uploadSingleFileProps","fileList","beforeUpload","file","direction","src","width","gutter","span","textAlign","onClick","includes","sts_obj","image_cos_name","window","require","putObject","cosConfig","Key","Body","onProgress","progressData","JSON","stringify","err","data","image_cos_name_url","message","success","error","responseObj","editNotShowKeys","LensForm","createOrEdit","oldImageUrlsObj","requestHandle","closeFormHandle","lensFormOldObj","notShowKeys","setNotShowKeys","editedImagesObj","initFormCount","setInitFormCount","lensFormNotShowKeys","multipleObjKeys","lensFormKeysIsImages","uploadedHandle","imagesObj","columns","lensFormKeys","disabledKeys","lensFormDisabledKeys","formKeyLabelObj","lensFormKeysLabelsObj","formKeySelectComponentsObj","lensFormKeySelectComponentsObj","onFinish","values","requestObj","cancelHandle","setTimeout","updateFormObj","formInitialObj","lensFormInitialObj","reqObj","CreateLens","pageLoading","setPageLoading","navigate","LensCreatePage","title","formCommonStyle","customConfig","styleFormLayout","layoutForm","styleFormItemLayout","formItemLayout","styleFormTailItemLayout","tailFormItemLayout","formInputStyle","FormItem","formKey","rulesObj","passwordKeys","showLabelName","disabled","currentLabel","currentInputValue","name","label","initialValue","rules","Password","placeholder","FormItemExistsHandleButton","formKeysItemButtonObj","tips","buttonTips","type","e","clickMethod","CustomForm","deleteHandle","showDeleteButton","form","Form","useForm","buttonIsLoading","setButtonIsLoading","setFieldsValue","layout","map","index","key","toString","loading","htmlType","getFieldsValueHandle","CustomSingleRowForm","onFinishButtonTips","showCancelButton","labelCol","wrapperCol","Option","Select","CustomSelect","value","onChange","mode","allowClear","obj","selectComponentWidth","UploadMultipleImages","multipleImagesObj","singleImageUploadedHandle","uploadedResponseObj","resObjKeys","currentuploadedImageObj","imageKey","deepCopyMultipleObj","uploadedImageResponseHandle","id","multipleObj","len_function","len_type","len_design","len_color","len_coat_color","lensFormGetRequestParamsKeys"],"mappings":"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","file":"component---src-pages-lenscreate-js-8fbc3c7108e9ce893f87.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Spin } from 'antd';\n\nimport './components_css/page_is_loading.css';\n\nconst PageIsLoading = ({ spinning }) => {\n  // 全局读取中\n  const [showLoading, setShowLoading] = useState(false);\n\n  const divStyle = {\n    display: showLoading ? 'block' : 'none',\n  }\n\n  useEffect(() => {\n    // spinning 更新后 更新divStyle\n    setShowLoading(spinning);\n  }, [spinning]);\n\n  return (\n    <div className=\"overall-loading\" style={divStyle}>\n      <Spin spinning={spinning} size=\"large\" />\n    </div>\n  )\n};\n\nPageIsLoading.defaultProps = {\n  spinning: false\n}\n\nexport default PageIsLoading;","import React, { useState, useEffect } from 'react';\nimport { Flex, WhiteSpace } from 'antd-mobile';\n\nimport { RequestAdminGet } from './layout_requests';\nimport Header from './header';\n\nimport './index.css';\nimport 'antd/dist/antd.css';\nimport 'antd-mobile/dist/antd-mobile.css';\n\nconst NoFooterSiteLayout = ({ children }) => {\n  const [requestCount, setRequestCount] = useState(0);\n\n  useEffect(() => { setRequestCount(requestCount + 1); }, []);\n\n  return (\n    <div className=\"flex-container\">\n      <Header></Header><WhiteSpace size=\"lg\" />\n      <RequestAdminGet requestCount={requestCount}></RequestAdminGet>\n      <Flex>\n        <Flex.Item>\n          <div className=\"flex-main-container\">\n            {children}\n            <WhiteSpace size=\"lg\" />\n            <WhiteSpace size=\"lg\" />\n            <WhiteSpace size=\"lg\" />\n          </div></Flex.Item>\n      </Flex>\n    </div>\n  )\n}\n\nexport default NoFooterSiteLayout;","import React from 'react';\n\nimport AxiosRequest from '../apis';\n\n// 镜片价格表的request请求\n\nconst lensPriceApis = ['lens-price/v1/lenspricelist', 'lens-price/v1/lensbrands'];\n\nconst LensPriceRequestGet = ({ requestCount, reqParams, responseDataHandle }) => {\n  // 镜片价格请求 Get\n  const api = lensPriceApis[0];\n  const method = 'get';\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nLensPriceRequestGet.defaultProps = {\n  requestCount: 0,\n  reqParams: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nconst LensPriceRequestPost = ({ requestCount, reqObject, responseDataHandle }) => {\n  // 镜片价格请求 post\n  const api = [].concat(lensPriceApis)[0];\n  const method = 'post';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nLensPriceRequestPost.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n}\n\nconst LensPriceRequestPut = ({ requestCount, reqObject, responseDataHandle, lensId }) => {\n  // 镜片价格请求 post\n  const api = [].concat(lensPriceApis)[0] + `/${lensId}`;\n  const method = 'put';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nLensPriceRequestPut.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  lensId: 0\n}\n\nconst LensPriceRequestDelete = ({ requestCount, responseDataHandle, lensId }) => {\n  // 镜片价格请求 post\n  const api = [].concat(lensPriceApis)[0] + `/${lensId}`;\n  const method = 'delete';\n  const reqParams = {};\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nLensPriceRequestDelete.defaultProps = {\n  requestCount: 0,\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  lensId: 0\n}\n\nconst LensBrandsRequestGet = ({ requestCount, reqParams, responseDataHandle }) => {\n  // 镜片品牌列表 Get\n  const api = lensPriceApis[1];\n  const method = 'get';\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n}\nLensBrandsRequestGet.defaultProps = {\n  requestCount: 0,\n  reqParams: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nexport {\n  LensPriceRequestGet,\n  LensPriceRequestPost,\n  LensPriceRequestPut,\n  LensPriceRequestDelete,\n  LensBrandsRequestGet\n};\n","import React, { useRef, useState, useEffect } from 'react';\nimport { Button, Upload, Space, Row, Col, message } from 'antd';\nimport { UploadOutlined, DeleteOutlined } from '@ant-design/icons';\n// import Cos from 'cos-js-sdk-v5';\n\nimport ImageZoom from '../base_components/image_zoom';\nimport { StsTemporaryKeyRequestPost } from './upload_file_requests';\nimport { cosConfig } from './sts_funcs_config';\n\n// sts 上传文件到腾讯云服务器, 服务器端生成临时密钥，浏览器直接上传文件到腾讯云cos\n\nconst StsUploadFile = ({\n  oldImageUrl,\n  avatarSize,\n  uploadedResponseHandle,\n  fileKey,\n  cleanFileListCount,\n}) => {\n  // const Cos = require('cos-js-sdk-v5');\n  const selectedFileObj = useRef({});\n  const stsTemporaryObj = useRef({});\n  const cos_name = useRef('');\n  const [uploadedFileUrl, setUploadedFileUrl] = useState('');\n  const [temporaryKeyRequestCount, setTemporaryKeyRequestCount] = useState(0);\n  const temporaryKeyRequestObj = useRef({});\n\n  const [showOldImageUrl, setShowOldImageUrl] = useState(true);\n  const [showUploadButton, setShowUploadButton] = useState(true);\n\n  useEffect(() => {\n    // 清空fileList\n    // selectedFileObj.current = [];\n    deleteCurrentImage();\n  }, [cleanFileListCount]);\n\n  useEffect(() => {\n    // oldImageUrl 更新后删除 uploadedFileUrl\n    // setFileList([]);\n    selectedFileObj.current = {};\n    setUploadedFileUrl('');\n    setShowOldImageUrl(true);\n  }, [oldImageUrl]);\n\n  useEffect(() => {\n      // 是否显示上传按钮\n      setShowUploadButton(Object.keys(selectedFileObj.current).length === 0);\n    }, [selectedFileObj.current]);\n\n  const getAuthorization = function (options, callback) {\n    // 验证函数\n    const stsObj = { ...stsTemporaryObj.current };\n    const credentials = stsObj.credentials;\n    callback({\n      TmpSecretId: credentials.tmpSecretId,\n      TmpSecretKey: credentials.tmpSecretKey,\n      XCosSecurityToken: credentials.sessionToken,\n      StartTime: stsObj.startTime, // 时间戳，单位秒，如：1580000000，建议返回服务器时间作为签名的开始时间，避免用户浏览器本地时间偏差过大导致签名错误\n      ExpiredTime: stsObj.expiredTime, // 时间戳，单位秒，如：1580000900\n    });\n  };\n\n  const temporaryKeyResponseDataHandle = (respObj) => {\n    // 获取临时密钥后操作\n    console.log(respObj);\n    if (!Object.keys(respObj).includes('image_cos_name')\n      && !Object.keys(respObj).includes('sts_obj')) {\n      console.log('Get temporary key error...');\n      return;\n    }\n    stsTemporaryObj.current = respObj.sts_obj;\n    cos_name.current = respObj.image_cos_name;\n\n    // 上传到腾讯云 bucket\n    if (typeof window === 'undefined') {\n      return;\n    }\n    const Cos = require('cos-js-sdk-v5');\n    const cos = new Cos({ getAuthorization: getAuthorization });\n    cos.putObject({\n      ...cosConfig,\n      Key: cos_name.current,                        /* 必须 */\n      Body: selectedFileObj.current,                // 上传文件对象\n      onProgress: function (progressData) {\n        console.log(JSON.stringify(progressData));\n      }\n    }, function (err, data) {\n      console.log(err || data);\n      if (data) {\n        console.log(data);\n        setUploadedFileUrl(respObj.image_cos_name_url);\n        setShowOldImageUrl(false);\n        // 回调给父组件\n        uploadedResponseHandle(respObj, fileKey);\n        message.success('图片上传成功!');\n      } else {\n        deleteCurrentImage();  //上传失败删除图片\n        message.error('图片上传失败...');\n      }\n    });\n  };\n\n  const uploadSingleFileProps = {\n    // 自定义上传文件操作\n    fileList: [],\n    beforeUpload: file => {\n      selectedFileObj.current = file;\n      setTemporaryKeyRequestCount(temporaryKeyRequestCount + 1);\n      return false;\n    },\n  }\n\n  const deleteCurrentImage = () => {\n    // 删除当前图片\n    uploadedResponseHandle({}, fileKey);\n    setUploadedFileUrl('');\n    // setFileList([]);\n    selectedFileObj.current = {};\n    setShowOldImageUrl(false);\n  }\n\n  return (\n    <div>\n      <Space direction=\"vertical\">\n        <ImageZoom src={showOldImageUrl ? oldImageUrl : uploadedFileUrl} width={avatarSize}></ImageZoom>\n        <Row gutter={10}>\n          <Col span={12}>\n            <div style={{ textAlign: 'left' }}>\n              <Upload {...uploadSingleFileProps}>\n                {showUploadButton ? (<Button size=\"small\"><UploadOutlined /> 更新</Button>) : null}\n              </Upload>\n            </div>\n          </Col>\n          <Col span={12}>\n            {uploadedFileUrl.length > 10 || oldImageUrl.length > 10\n              ? (<Button onClick={deleteCurrentImage} size=\"small\"><DeleteOutlined /> 删除</Button>) : null}\n          </Col>\n        </Row>\n\n        <StsTemporaryKeyRequestPost requestCount={temporaryKeyRequestCount}\n          reqObject={temporaryKeyRequestObj.current}\n          responseDataHandle={temporaryKeyResponseDataHandle}></StsTemporaryKeyRequestPost>\n      </Space>\n    </div>\n  )\n};\n\nStsUploadFile.defaultProps = {\n  oldImageUrl: '',\n  avatarSize: 96,\n  uploadedResponseHandle: (responseObj, fileKey) => {\n    // 上传成功后, 操作 response\n    console.log(responseObj, fileKey);\n  },\n  fileKey: 'image1',\n  cleanFileListCount: 0,\n};\n\nexport default StsUploadFile;\n","import React, { useEffect, useState, useRef } from 'react';\n// import ReactQuill from 'react-quill';\n// import 'react-quill/dist/quill.snow.css';\n\n// import CustomReactQuill from '../base_components/rich_texts';\nimport { CustomForm } from '../base_components/form_component';\nimport {\n  lensFormKeys,\n  lensFormDisabledKeys,\n  lensFormNotShowKeys,\n  lensFormKeySelectComponentsObj,\n  lensFormKeysLabelsObj,\n  lensFormKeysIsImages,\n  lensFormInitialObj\n} from './products_columns_labels_config';\nimport UploadMultipleImages from '../upload_files/uploadFilesHandle';\n\n// 镜片Form Items\nconst editNotShowKeys = [\"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\",\n  \"image_cos_name4\", \"image_cos_name5\", \"image_cos_name6\", \"image_cos_name7\", \"image_cos_name8\"];\n\nconst LensForm = ({ createOrEdit, oldImageUrlsObj, requestHandle, closeFormHandle, lensFormOldObj }) => {\n  // 0-create(新建 Form), 1-edit(编辑 Form)\n  const [notShowKeys, setNotShowKeys] = useState([]);\n  const richTexts = useRef('');\n\n  const editedImagesObj = useRef({});\n  const [initFormCount, setInitFormCount] = useState(0);\n\n  useEffect(() => {\n    // 判断 0-create(新建 Form), 1-edit(编辑 Form)\n    if (createOrEdit > 0) {\n      // 编辑 form\n      setNotShowKeys([].concat(editNotShowKeys));\n    } else {\n      // 创建 form\n      setNotShowKeys([].concat(lensFormNotShowKeys));\n    }\n  }, [createOrEdit]);\n\n  const editedRichTexts = (editedTexts) => {\n    richTexts.current = editedTexts;\n    console.log(richTexts.current);\n  }\n\n  const uploadedImageHandle = (imagesObj) => {\n    // 上传或删除照片后操作\n    editedImagesObj.current = { ...imagesObj };\n  };\n\n  const onFinish = (values) => {\n    // 提交操作\n    const requestObj = { ...values, ...editedImagesObj.current };\n    requestHandle(requestObj);\n  };\n\n  const cancelHandle = () => {\n    // 关闭镜片表单 操作\n    setInitFormCount(initFormCount + 1);\n    setTimeout(() => {\n      closeFormHandle();\n    }, 500)\n  }\n\n  return (\n    <div>\n      <UploadMultipleImages multipleObjKeys={lensFormKeysIsImages}\n        oldImageUrlsObj={oldImageUrlsObj} uploadedHandle={uploadedImageHandle}\n      ></UploadMultipleImages>\n\n      {/* <ReactQuill theme=\"snow\" value={richTexts} onChange={editedRichTexts} /> */}\n      {/* <CustomReactQuill oldRichTexts={richTexts}\n        onChangeHandle={editedRichTexts}></CustomReactQuill> */}\n\n      <CustomForm\n        columns={lensFormKeys}\n        disabledKeys={lensFormDisabledKeys}\n        notShowKeys={notShowKeys}\n        formKeyLabelObj={lensFormKeysLabelsObj}\n        formKeySelectComponentsObj={lensFormKeySelectComponentsObj}\n        onFinish={onFinish}\n        cancelHandle={cancelHandle}\n        updateFormObj={lensFormOldObj}\n        formInitialObj={lensFormInitialObj}\n        initFormCount={initFormCount}\n      ></CustomForm>\n    </div>\n  )\n};\n\nLensForm.defaultProps = {\n  createOrEdit: 0,\n  oldImageUrlsObj: {},\n  requestHandle: (reqObj) => { console.log(reqObj); },\n  closeFormHandle: () => { console.log('close lens form...'); },\n  lensFormOldObj: {}\n}\n\nexport default LensForm;\n","import React, { useState, useRef } from 'react';\nimport {navigate} from 'gatsby';\n\nimport PageIsLoading from '../base_components/page_is_loading';\nimport {LensPriceRequestPost} from './products_requests';\nimport LensForm from './lens_form';\n\n// 新建镜片\n\nconst CreateLens = () => {\n  const [pageLoading, setPageLoading] = useState(false);\n  const [requestCount, setRequestCount] = useState(0);\n  const requestObj = useRef({});\n\n  const createLensRequest = (requestObj) => {\n    // 创建镜片请求\n    setPageLoading(true);\n    console.log(requestObj);\n    setRequestCount(requestCount + 1);\n  }\n\n  const closeLensCreateForm = () => {\n    // 关闭创建镜片 跳转到管理页面\n    navigate('/lensmanagelist');\n  }\n\n  const createdResponseHandle = (respObj) => {\n    // 创建后的操作\n    setPageLoading(false);\n  }\n  return (\n    <div>\n      <PageIsLoading spinning={pageLoading}></PageIsLoading>\n      <h2>新建镜片</h2>\n      <LensForm createOrEdit={0}\n      requestHandle={createLensRequest}\n      closeFormHandle={closeLensCreateForm}\n      ></LensForm>\n\n      <LensPriceRequestPost\n        requestCount={requestCount}\n        reqObject={requestObj.current}\n        responseDataHandle={createdResponseHandle}></LensPriceRequestPost>\n    </div>\n  )\n}\n\nexport default CreateLens;\n","import React from \"react\";\n\nimport NoFooterSiteLayout from '../components/site_layout/no_footer_layout';\nimport SEO from \"../components/seo\";\n\nimport CreateLens from '../components/products/lens_create';\n\nconst LensCreatePage = () => (\n  <NoFooterSiteLayout>\n    <SEO title=\"LensCreate\" />\n    <CreateLens></CreateLens>\n  </NoFooterSiteLayout>\n)\n\nexport default LensCreatePage;\n","import React, { useEffect, useState } from 'react';\nimport { Form, Button, Space, Input } from 'antd';\n\nimport customConfig from '../../custom_config';\n// import { CircularIoncButton } from './button_components/button_icon_components';\n\n// Form 组件\n\nconst formCommonStyle = customConfig.formCommonStyle;\nconst styleFormLayout = formCommonStyle.layoutForm;\nconst styleFormItemLayout = formCommonStyle.formItemLayout;\nconst styleFormTailItemLayout = formCommonStyle.tailFormItemLayout;\n\nconst formInputStyle = {width: 260};\n\nconst FormItem = ({formKey, formKeyLabelObj, disabledKeys, updateFormObj, rulesObj, formKeySelectComponentsObj, passwordKeys, showLabelName=true}) => {\n  // 没有按钮的 form item\n  const disabled = disabledKeys.includes(formKey);  // 是否可以编辑输入框\n  const currentLabel = formKeyLabelObj[formKey];\n  const currentInputValue = updateFormObj[formKey];\n  return (\n    <Form.Item { ...styleFormItemLayout }\n      name={formKey}\n      label={showLabelName ? currentLabel : ''}\n      initialValue={currentInputValue}\n      rules={rulesObj[formKey] ? rulesObj[formKey] : []}\n    >\n      {Object.keys(formKeySelectComponentsObj).includes(formKey)\n        ? formKeySelectComponentsObj[formKey]\n        : (passwordKeys.includes(formKey)\n          ? <Input.Password style={formInputStyle} />\n          : <Input style={formInputStyle} placeholder={`请输入 ${currentLabel}`} disabled={disabled} />)}\n    </Form.Item>\n  );\n};\n\nconst FormItemExistsHandleButton = ({formKey, formKeyLabelObj, disabledKeys, updateFormObj, rulesObj, formKeySelectComponentsObj, passwordKeys, formKeysItemButtonObj}) => {\n  // 有按钮的 form item\n  const tips = formKeysItemButtonObj[formKey].buttonTips;\n  const onClickMethod = (e) => {\n    console.log(e);\n    try {\n      formKeysItemButtonObj[formKey].clickMethod();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const currentLabel = formKeyLabelObj[formKey];\n  return (\n    <Form.Item {...styleFormItemLayout} label={currentLabel}>\n      <FormItem\n        formKey={formKey}\n        formKeyLabelObj={formKeyLabelObj}\n        disabledKeys={disabledKeys}\n        updateFormObj={updateFormObj}\n        rulesObj={rulesObj}\n        formKeySelectComponentsObj={formKeySelectComponentsObj}\n        passwordKeys={passwordKeys}\n        showLabelName={false}\n      ></FormItem>\n      {/* <CircularIoncButton\n        tips={tips}\n        onClick={onClickMethod}\n      ></CircularIoncButton> */}\n      <Button type='link' onClick={onClickMethod}>{tips}</Button>\n    </Form.Item>\n  )\n};\n\nconst CustomForm = ({\n  columns,\n  disabledKeys,\n  notShowKeys,\n  formKeyLabelObj,\n  formKeySelectComponentsObj,\n  formKeysItemButtonObj,\n  onFinish,\n  cancelHandle,\n  deleteHandle,\n  showDeleteButton,\n  updateFormObj,\n  formInitialObj,\n  initFormCount,\n  rulesObj,\n  passwordKeys,\n}) => {\n  const [form] = Form.useForm();\n\n  const [buttonIsLoading, setButtonIsLoading] = useState(false);\n\n  useEffect(() => {\n    // formInitialObj 变化 重新给form赋值\n    // console.log(updateFormObj);\n    form.setFieldsValue(updateFormObj);\n    setButtonIsLoading(false);\n  }, [updateFormObj]);\n\n  useEffect(() => {\n    // initFormCount 变化 重新给form赋初始化值\n    if (initFormCount > 0) {\n      form.setFieldsValue(formInitialObj);\n      setButtonIsLoading(false);\n    }\n  }, [initFormCount]);\n\n  const clickSubmit = (values) => {\n    // 提交按钮先让 button 不可点击\n    setButtonIsLoading(true);\n    onFinish(values);\n  };\n\n  const clickDelete = () => {\n    // 提交删除先让 button 不可点击\n    setButtonIsLoading(true);\n    deleteHandle()\n  };\n\n  // const getFormFieldsValue = () => {\n  //   // 获取表单的所有值\n  // }\n\n  return (\n    <Form {...styleFormLayout} form={form}\n      layout=\"horizontal\" onFinish={clickSubmit} name=\"adminer_info_edit\">\n      {columns.map((formKey, index) => {\n        if (notShowKeys.includes(formKey)) {\n          return null;\n        }\n        if (Object.keys(formKeysItemButtonObj).includes(formKey)) {\n          return (<FormItemExistsHandleButton\n              key={index.toString()}\n              formKey={formKey}\n              formKeyLabelObj={formKeyLabelObj}\n              disabledKeys={disabledKeys}\n              updateFormObj={updateFormObj}\n              rulesObj={rulesObj}\n              formKeySelectComponentsObj={formKeySelectComponentsObj}\n              passwordKeys={passwordKeys}\n              formKeysItemButtonObj={formKeysItemButtonObj}\n            ></FormItemExistsHandleButton>)\n        } else {\n          return <FormItem\n            key={index.toString()}\n            formKey={formKey}\n            formKeyLabelObj={formKeyLabelObj}\n            disabledKeys={disabledKeys}\n            updateFormObj={updateFormObj}\n            rulesObj={rulesObj}\n            formKeySelectComponentsObj={formKeySelectComponentsObj}\n            passwordKeys={passwordKeys}\n          ></FormItem>\n        }\n      })}\n      <Form.Item {...styleFormTailItemLayout}>\n        <Space>\n          <Button loading={buttonIsLoading} disabled={buttonIsLoading} type=\"primary\" htmlType=\"submit\">提交</Button>\n          <Button onClick={cancelHandle}>取消</Button>\n          {showDeleteButton ? <Button loading={buttonIsLoading} disabled={buttonIsLoading} onClick={clickDelete}>删除</Button> : null}\n        </Space>\n      </Form.Item>\n    </Form>\n  )\n};\n\nCustomForm.defaultProps = {\n  columns: [],\n  disabledKeys: [],\n  notShowKeys: [],\n  formKeyLabelObj: {},\n  formKeySelectComponentsObj: {},\n  formKeysItemButtonObj: {},\n  onFinish: (values) => { console.log(values); },\n  cancelHandle: () => { console.log('Cancel Handle'); },\n  deleteHandle: () => { console.log('Delete Handle'); },\n  showDeleteButton: false,\n  updateFormObj: {},\n  formInitialObj: {},\n  initFormCount: 0,\n  rulesObj: {},\n  passwordKeys: [],\n  getFieldsValueHandle: values => console.log(values),\n};\n\n// 单行表单 (效果不好，弃用)\nconst CustomSingleRowForm = ({\n  columns,\n  disabledKeys,\n  notShowKeys,\n  formKeyLabelObj,\n  formKeySelectComponentsObj,\n  // formKeysItemButtonObj,\n  onFinish,\n  onFinishButtonTips,\n  cancelHandle,\n  showCancelButton,\n  deleteHandle,\n  showDeleteButton,\n  updateFormObj,\n  formInitialObj,\n  initFormCount,\n  rulesObj,\n  passwordKeys,\n  getFieldsValueHandle\n}) => {\n  const [form] = Form.useForm();\n\n  const layout = {\n    labelCol: {\n      span: 0,\n    },\n    wrapperCol: {\n      span: 8,\n    },\n  };\n\n  useEffect(() => {\n    // formInitialObj 变化 重新给form赋值\n    // console.log(updateFormObj);\n    form.setFieldsValue(updateFormObj);\n  }, [updateFormObj]);\n\n  useEffect(() => {\n    // initFormCount 变化 重新给form赋初始化值\n    form.setFieldsValue(formInitialObj);\n  }, [initFormCount]);\n\n  const FormItem = ({formKey}) => {\n    // 没有按钮的 form item\n    const disabled = disabledKeys.includes(formKey);  // 是否可以编辑输入框\n    const currentLabel = formKeyLabelObj[formKey];\n    const currentInputValue = updateFormObj[formKey];\n    \n    return (\n      <Form.Item\n        name={formKey}\n        initialValue={currentInputValue}\n        rules={rulesObj[formKey] ? rulesObj[formKey] : []}\n      >\n        {Object.keys(formKeySelectComponentsObj).includes(formKey)\n          ? formKeySelectComponentsObj[formKey]\n          : (passwordKeys.includes(formKey)\n            ? <Input.Password style={formInputStyle} />\n            : <Input style={formInputStyle} placeholder={`请输入 ${currentLabel}`} disabled={disabled} />)}\n      </Form.Item>\n    );\n  };\n\n  return (\n    <Form {...layout} form={form}\n      layout=\"inline\"\n      onFinish={onFinish}\n      name=\"adminer_info_edit\">\n      {columns.map((formKey, index) => {\n        if (notShowKeys.includes(formKey)) {\n          return null;\n        }\n        return <FormItem formKey={formKey} key={index.toString()}></FormItem>\n      })}\n      <Form.Item>\n        <Space>\n          <Button type=\"primary\" htmlType=\"submit\">{onFinishButtonTips}</Button>\n          {showCancelButton ? <Button onClick={cancelHandle}>取消</Button> : null}\n          {showDeleteButton ? <Button onClick={deleteHandle}>删除</Button> : null}\n        </Space>\n      </Form.Item>\n    </Form>\n  )  \n};\nCustomSingleRowForm.defaultProps = {\n  columns: [],\n  disabledKeys: [],\n  notShowKeys: [],\n  formKeyLabelObj: {},\n  formKeySelectComponentsObj: {},\n  // formKeysItemButtonObj: {},\n  onFinish: (values) => { console.log(values); },\n  onFinishButtonTips: '确定/修改',\n  cancelHandle: () => { console.log('Cancel Handle'); },\n  showCancelButton: false,\n  deleteHandle: () => { console.log('Delete Handle'); },\n  showDeleteButton: false,\n  updateFormObj: {},\n  formInitialObj: {},\n  initFormCount: 0,\n  rulesObj: {},\n  passwordKeys: [],\n  getFieldsValueHandle: values => console.log(values),\n};\n\nexport { CustomForm, CustomSingleRowForm };\n","import React from 'react';\nimport { Select } from 'antd';\nimport customConfig from '../../custom_config';\n\n// custom select 组件\n\nconst { Option } = Select;\n\nconst CustomSelect = ({ options, width, value, onChange, mode }) => {\n  return (\n    <Select style={{ width: width }} onChange={onChange} value={value} mode={mode} allowClear>\n      {options.map((obj, index) => {\n        return <Option\n          key={index.toString()}\n          value={obj.value}\n        >{obj.label}</Option>\n      })}\n    </Select>\n  )\n}\n\nCustomSelect.defaultProps = {\n  options: [],  // [{value: '值', label: '显示名称'}]\n  width: customConfig.selectComponentWidth,\n  value: null,\n  onChange: (value) => { console.log(value) },\n  mode: null,\n}\n\nexport { CustomSelect };\n","import React, { useRef, useEffect } from 'react';\nimport { Space } from 'antd';\n\n// import UploadSingleFileHandle from './uploadSingleFileHandle';\n// 使用sts 上传文件; 服务端生成临时密钥，客户端直接上传到腾讯云 cos\nimport StsUploadFile from './sts_upload_file';\n// 上传多张图片操作\n\nconst UploadMultipleImages = ({ multipleObjKeys, oldImageUrlsObj, uploadedHandle }) => {\n  /**\n   * 返回 multipleImagesObj.current = {\n   *    imageKey1: {id:1, image_cos_name: 'AAA.jpg', image_cos_name_url: 'https://AAA.jpg'},\n   *    imageKey2: {id:2, image_cos_name: 'BBB.jpg', image_cos_name_url: 'https://BBB.jpg'},\n   *    ......\n   * }\n   * \n   * oldImageUrlsObj = {image_cos_name1: 'url, ......}\n  */\n  const multipleImagesObj = useRef({});\n\n  useEffect(() => {\n    multipleImagesObj.current = {};\n  }, [oldImageUrlsObj])\n\n  const uploadedImageResponseHandle = (currentuploadedImageObj, imageKey) => {\n    // 单张图片上传后更新 multipleImagesObj\n    console.log(imageKey);\n    const deepCopyMultipleObj = { ...multipleImagesObj.current };\n    deepCopyMultipleObj[imageKey] = currentuploadedImageObj;\n    multipleImagesObj.current = deepCopyMultipleObj;\n    uploadedHandle(deepCopyMultipleObj);\n  }\n\n  const singleImageUploadedHandle = (uploadedResponseObj, fileKey) => {\n    // 单张图片上传后的操作\n    const resObjKeys = Object.keys(uploadedResponseObj)\n    if (resObjKeys.includes('id') && resObjKeys.includes('image_cos_name')) {\n      const currentuploadedImageObj = {\n        id: uploadedResponseObj.id,\n        image_cos_name: uploadedResponseObj.image_cos_name,\n        image_cos_name_url: uploadedResponseObj.image_cos_name_url\n      };\n      uploadedImageResponseHandle(currentuploadedImageObj, fileKey);\n    }\n  }\n  const imageBoxStyle = {\n    'width': '100%',\n    'height': 'auto',\n    'textAlign': 'center',\n    'margin': '0.5rem',\n    'border': 'medium double rgb(250,0,255)',\n    'padding': '0.5rem',\n  };\n\n  return (\n    <div style={imageBoxStyle}>\n      <Space direction=\"vertical\" size=\"middle\">\n        {multipleObjKeys.map((key) => {\n          return (\n            <StsUploadFile key={key.toString()}\n              oldImageUrl={Object.keys(oldImageUrlsObj).includes(key) ? oldImageUrlsObj[key] : ''}\n              avatarSize=\"96px\"\n              uploadedResponseHandle={singleImageUploadedHandle}\n              fileKey={key}\n            ></StsUploadFile>\n          )\n        })}\n      </Space>\n      <br></br>\n    </div>\n  )\n}\n\nUploadMultipleImages.defaultProps = {\n  multipleObjKeys: ['image_cos_name1', 'image_cos_name2', 'image_cos_name3', 'image_cos_name4', 'image_cos_name5'],\n  oldImageUrlsObj: {},\n  uploadedHandle: (multipleObj) => { console.log(multipleObj); },\n}\n\nexport default UploadMultipleImages;\n","import React from 'react';\nimport { CustomSelect } from '../base_components/select_component';\n\n// 产品列 配置\n\nconst lensFormKeys = [\"id\", \"len_title\", \"len_refractivity\", \"len_function\",\n  \"len_type\", \"len_design\", \"len_color\", \"len_coat_color\", \"len_price\", \"len_sale_price\",\n  \"len_brand\", \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\",\n  \"image_cos_name4\", \"image_cos_name5\", \"image_cos_name6\", \"image_cos_name7\",\n  \"image_cos_name8\", \"detail_page_cos_name\", \"contrast_lens_url\", \"explains\", \"add_time\", \"update_time\"];\n\nconst lensFormDisabledKeys = [\"id\", \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\",\n  \"image_cos_name4\", \"image_cos_name5\", \"image_cos_name6\", \"image_cos_name7\",\n  \"image_cos_name8\", \"detail_page_cos_name\", \"add_time\", \"update_time\"];\n\nconst lensFormNotShowKeys = [\"id\", \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\",\n  \"image_cos_name4\", \"image_cos_name5\", \"image_cos_name6\", \"image_cos_name7\",\n  \"image_cos_name8\", \"detail_page_cos_name\", \"add_time\", \"update_time\"];\n\nconst lensFormKeysLabelsObj = {\n  \"id\": \"ID\", \"len_title\": \"镜片标题\", \"len_refractivity\": \"折射率\", \"len_function\": \" 功能\",\n  \"len_type\": \"种类\", \"len_design\": \"设计\", \"len_color\": \"颜色\", \"len_coat_color\": \"膜层\", \"len_price\": \"原价\", \"len_sale_price\": \"优惠价\",\n  \"len_brand\": \"品牌\", \"image_cos_name1\": \"主图1\", \"image_cos_name2\": \"主图2\", \"image_cos_name3\": \"主图3\",\n  \"image_cos_name4\": \"主图4\", \"image_cos_name5\": \"主图5\", \"image_cos_name6\": \"主图6\", \"image_cos_name7\": \"主图7\",\n  \"image_cos_name8\": \"主图8\", \"contrast_lens_url\": \"对比商品URL\", \"explains\": \"说明\", \"add_time\": \"创建日期\", \"update_time\": \"更新日期\"\n};\n\n/**\n * len_function: 0-未知, 1-防紫外线, 2-防辐射, 3-防蓝光\n    len_type: 0-未知, 1-单焦, 2-多焦\n    len_design: 0-未知, 1-球面, 2-非球面\n    len_color: 0-未知, 1-透明, 2-彩片\n    len_coat_color: 0-未知, 1-白晶膜, 2-绿膜, 3-黄绿膜, 4-蓝膜, 5-蓝绿双色膜\n */\nconst SelectLenFunction = (<CustomSelect\n  options={[{ value: 0, label: '未知' }, { value: 1, label: '防紫外线' }, { value: 2, label: '防辐射' }, { value: 3, label: '防蓝光' },]} />);\nconst SelectLenType = (<CustomSelect\n  options={[{ value: 0, label: '未知' }, { value: 1, label: '单焦' }, { value: 2, label: '多焦' }]} />);\nconst SelectLenDesign = (<CustomSelect\n  options={[{ value: 0, label: '未知' }, { value: 1, label: '球面' }, { value: 2, label: '非球面' }]} />);\nconst SelectLenColor = (<CustomSelect\n  options={[{ value: 0, label: '未知' }, { value: 1, label: '透明' }, { value: 2, label: '彩片' }]} />);\nconst SelectLenCoatColor = (<CustomSelect\n  options={[{ value: 0, label: '未知' }, { value: 1, label: '白晶膜' }, { value: 2, label: '绿膜' }, { value: 3, label: '黄绿膜' }, { value: 4, label: '蓝膜' }, { value: 5, label: '蓝绿双色膜' },]} />);\nconst lensFormKeySelectComponentsObj = {\n  len_function: SelectLenFunction,\n  len_type: SelectLenType,\n  len_design: SelectLenDesign,\n  len_color: SelectLenColor,\n  len_coat_color: SelectLenCoatColor\n};\n\nconst lensFormKeysIsImages = [\"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\", \"image_cos_name4\",\n  \"image_cos_name5\", \"image_cos_name6\", \"image_cos_name7\", \"image_cos_name8\"];\n\nconst lensFormGetRequestParamsKeys = [\"len_title\", \"len_refractivity\", \"len_function\",\n  \"len_type\", \"len_design\", \"len_color\", \"len_coat_color\",];\n\nconst lensFormInitialObj = {\n  len_function: 0,\n  len_type: 1,\n  len_design: 2,\n  len_color: 1,\n  len_coat_color: 2\n};\n\nconst lensBrandsFormKeys = [\"id\", \"brand_name\", \"brand_logo\", \"company_name\",\n  \"company_site\", \"company_phone\", \"company_address\", \"add_time\", \"update_time\", \"explains\"];\n\nconst lensBrandsFormKeysLabelsObj = {\n  \"id\": \"ID\", \"brand_name\": \"品牌\", \"brand_logo\": \"品牌Logo\", \"company_name\": \"公司\",\n  \"company_site\": \"品牌URL\", \"company_phone\": \"公司电话\", \"company_address\": \"公司地址\", \"explains\": \"说明\", \"add_time\": \"创建日期\", \"update_time\": \"更新日期\"\n};\n\nconst lensBrandsFormKeySelectComponentsObj = {};\n\nexport {\n  lensFormKeys,\n  lensFormDisabledKeys,\n  lensFormNotShowKeys,\n  lensFormKeySelectComponentsObj,\n  lensFormKeysLabelsObj,\n  lensFormKeysIsImages,\n  lensFormInitialObj,\n  lensFormGetRequestParamsKeys,\n  lensBrandsFormKeys,\n  lensBrandsFormKeysLabelsObj,\n  lensBrandsFormKeySelectComponentsObj\n};\n"],"sourceRoot":""}