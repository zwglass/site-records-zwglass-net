{"version":3,"sources":["webpack://zwglass-purchase-records/./node_modules/antd/es/_util/ref.js","webpack://zwglass-purchase-records/./node_modules/antd/node_modules/rc-checkbox/es/index.js","webpack://zwglass-purchase-records/./src/components/base_components/page_is_loading.js","webpack://zwglass-purchase-records/./src/components/base_components/scroll_handle/goback_origin_scroll.js","webpack://zwglass-purchase-records/./node_modules/@ant-design/icons-svg/es/asn/RedoOutlined.js","webpack://zwglass-purchase-records/./node_modules/@ant-design/icons/es/icons/RedoOutlined.js","webpack://zwglass-purchase-records/./src/components/base_components/lodop/load_printer.js","webpack://zwglass-purchase-records/./src/components/base_components/lodop/printer_requests.jsx","webpack://zwglass-purchase-records/./src/components/base_components/lodop/select_printer_component.jsx","webpack://zwglass-purchase-records/./src/components/modals/customer_opt.jsx","webpack://zwglass-purchase-records/./node_modules/antd/es/radio/context.js","webpack://zwglass-purchase-records/./node_modules/antd/es/radio/radio.js","webpack://zwglass-purchase-records/./node_modules/antd/node_modules/rc-util/es/hooks/useMergedState.js","webpack://zwglass-purchase-records/./node_modules/antd/es/radio/group.js","webpack://zwglass-purchase-records/./node_modules/antd/es/radio/radioButton.js","webpack://zwglass-purchase-records/./node_modules/antd/es/radio/index.js","webpack://zwglass-purchase-records/./src/components/base_components/diopter_component/select_diopter.jsx","webpack://zwglass-purchase-records/./src/components/modals/diopters_opt.jsx","webpack://zwglass-purchase-records/./src/components/purchase_records/purchase_records_columns_label_config.jsx","webpack://zwglass-purchase-records/./src/components/purchase_records/purchase_records_requests.jsx","webpack://zwglass-purchase-records/./src/components/purchase_records/create_purchase_records.jsx","webpack://zwglass-purchase-records/./src/components/purchase_records/purchase_records_query_form.jsx","webpack://zwglass-purchase-records/./src/components/purchase_records/update_purchase_records.jsx","webpack://zwglass-purchase-records/./src/components/deliver/deliver_area_select.jsx","webpack://zwglass-purchase-records/./src/components/deliver/custom_select_requests.jsx","webpack://zwglass-purchase-records/./src/components/deliver/deliver_columns_label_config.jsx","webpack://zwglass-purchase-records/./src/components/deliver/deliver_requests.jsx","webpack://zwglass-purchase-records/./src/components/deliver/update_deliver.jsx","webpack://zwglass-purchase-records/./src/components/deliver/index.jsx","webpack://zwglass-purchase-records/./src/components/purchase_records/purchase_records_list.jsx","webpack://zwglass-purchase-records/./src/components/purchase_records/purchase_records_query_params_display.jsx","webpack://zwglass-purchase-records/./src/components/modals/upload_taobao_csv.jsx","webpack://zwglass-purchase-records/./src/components/purchase_records/index.jsx","webpack://zwglass-purchase-records/./src/pages/purchaserecords.js"],"names":["fillRef","ref","node","current","composeRef","_len","arguments","length","refs","Array","_key","forEach","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","source","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","Checkbox","_Component","_super","props","_this","handleChange","_this$props","disabled","onChange","setState","checked","stopPropagation","preventDefault","nativeEvent","saveInput","input","defaultChecked","state","value","focus","blur","_classNames","_this$props2","prefixCls","className","style","name","id","type","readOnly","tabIndex","onClick","onFocus","onBlur","autoFocus","required","others","globalProps","reduce","prev","substr","classString","concat","Component","defaultProps","PageIsLoading","spinning","useState","showLoading","setShowLoading","divStyle","display","useEffect","size","ScrollGoBack","visible","currentScrollTop","setCurrentScrollTop","currentTop","document","documentElement","scrollTop","body","topSize","window","setTimeout","scrollTo","top","parseInt","behavior","AntdIcon","assign","icon","displayName","LODOP","loadPrinter","Promise","resolve","reject","hasComplete","readyState","getLodop","printerNum","GET_PRINTER_COUNT","printerArr","index","GET_PRINTER_NAME","message","apiLists","Option","Select","SelectPrinterComponent","purchaseRecordsList","hasAllPrintCount","setHasAllPrintCount","selectedPrinterIndex","setSelectedPrinterIndex","selectedPrinterName","useRef","printers","setPrinters","notPrintRecords","setNotPrintRecords","loadPrintersListHandle","appendMetaContentSecurityPolicy","then","results","printersOptions","label","catch","err","console","log","pageName","currentPageName","customConfig","api","sendAxiosRequest","respObj","includes","printersList","element","page_name","printer_name","loadDefaultPrinter","selectedPrinterHandle","printerName","printerNameQueryIndex","notPrintRecordsList","has_print","computeNotPrintRecords","selectedIndex","updateHasPrint","hasPrintRecordsList","width","height","margin","placeholder","minWidth","maxWidth","map","obj","reqObject","saveDefaultPrinter","printMultiplePurchaseRecordsHandle","title","shape","val","CustomerOptModal","modalState","setModalState","selectCustomerHandle","clickCreatedCustomerHandle","closable","footer","selectButtonOnClick","booleanValue","customerObj","createdCustomerResponseObj","RadioGroupContext","RadioGroupContextProvider","Provider","__rest","s","t","p","hasOwnProperty","indexOf","propertyIsEnumerable","InternalRadio","context","_React$useContext","getPrefixCls","direction","innerRef","mergedRef","devWarning","customizePrefixCls","children","restProps","radioProps","wrapperClassString","onMouseEnter","onMouseLeave","undefined","Radio","_slicedToArray","arr","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","slice","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","RadioGroup","SizeContext","_useMergedState","defaultStateValue","option","_ref","defaultValue","postState","_React$useState2","innerValue","setInnerValue","mergedValue","firstRenderRef","newValue","_useMergedState2","setValue","ev","lastValue","_props$className","options","optionType","buttonStyle","customizeSize","groupPrefixCls","childrenToRender","optionsPrefixCls","mergedSize","renderGroup","RadioButton","radioGroupContext","Button","Group","formSelectStyle","diopterSignsObj","1","2","3","4","splitDiopters","diopterStr","sph","cyl","axi","add","delSpaceDiopter","replace","splitAddArr","split","cylAndAxiArr","judgeDiopterCreaterThanZero","diopter","Math","abs","parseFloat","judgeLackArguments","dioptersValues","lackObj","lackPd","lackAxiR","lackAxiL","pd","rAxi","axiR","lAxi","axiL","cylR","isNaN","cylL","DioptersSelectComponent","selectType","positiveNegative","selectOptions","maxDiopters","diopters","pNSign","toFixed","dioptersList","item","lackArgumentsTips","lackArgumentsTitles","DoubleEyeSelectDiopter","sourceDiopterObj","selectedHandle","cancelHandle","form","Form","lackArgumentsVisible","setLackArgumentsVisible","selectedSign","setSelectedSign","sphSign","setSphSign","cylSign","setCylSign","warnTip","setWarnTip","warnTitle","setWarnTitle","hasAddItem","setHasAddItem","submitObj","diopter_l","diopter_r","pupillary_distance","dioptersObjR","dioptersObjL","initObj","sphR","sphL","setFieldsValue","addItem","showAddItemButtonItem","selectedDiopterSign","onFinish","values","rDiopterStr","lDiopterStr","LackArgumentsObj","lackArgumentsObj","tipsNum","min","max","htmlType","onOk","onCancel","okText","cancelText","selectedDiopterObj","DioptersOptModal","selectHandle","RangePicker","DatePicker","formKeys","formDisabledKeys","formNotShowKeys","formKeysLabelsObj","SelectRangePicker","SelectEndTime","showTime","format","formKeySelectComponentsObj","sale_platform","order_state","pay_platform","range_add_time","add_time_start","add_time_end","formKeysHandleButtonObj","setOptCustomerModalState","customer_name","buttonTips","clickMethod","formGetRequestParamsKeys","formInitialObj","imageKeyNames","PurchaseRecordsRequestGet","requestCount","reqParams","responseDataHandle","method","PurchaseRecordsRequestPost","PurchaseRecordsRequestPut","PurchaseRecordsRequestDelete","CreatePurchaseRecords","setVisible","reloadListCount","setReloadListCount","purchaseRecordsImageObj","oldObj","createCount","dioptersObj","setDioptersObj","oldFormObj","setOldFormObj","initFormCount","setInitFormCount","postRequestCount","setPostRequestCount","customerOptModalState","setCustomerOptModalState","closeModal","textAlign","maxImagesNum","imageKeyName","imagesObj","columns","disabledKeys","notShowKeys","formKeyLabelObj","formKeysItemButtonObj","upObj","customer_id","showDeleteButton","updateFormObj","code","cusotomerObj","showName","wx_info","wx_nickname","booleanVal","queryFormDisabledKeys","PurchaseRecordsQueryDrawerForm","queryHandle","choseCustomerId","setUpdateFormObj","closeDrawer","placement","onClose","bodyStyle","paddingBottom","formObj","copyFormObj","queryParamsObj","queryId","rangeDates","UpdatePurchaseRecords","successDeletedOrUpdated","pageLoading","setPageLoading","putRequestCount","setPutRequestCount","deleteRequestCount","setDeleteRequestCount","initImgAndForm","hasPrintNum","customerShowName","customer_info","error","oldPurchaseRecord","has_print_boolean","deleteHandle","ChinaAreaSelect","initAreaList","selectedAreaHandle","AreaSelect","selectedArea","level","data","pcaa","defaultArea","initAreaObj","SelectExpressCompany","setSelectOptions","resList","updateOptions","express_company_code","express_company_name","formRulesList","DeliverRequestPut","DeliverRequestDelete","UpdateDeliver","purchaseRecordId","customerId","setOldDeliverHomeImages","deliverHomeImgs","imgKey","currentCosNameKey","currentUrlKey","currentCosName","currentUrl","cosNameKey","cosName","urlKey","url","rulesObj","page","judgeHasMore","resp","PurchaseRecordsList","requestParams","purchaseRecordsChange","printerIndex","hasMore","hasMoreState","setHasMoreState","loading","setLoading","purchaseRecordsData","setPurchaseRecordsData","purchaseRecordsRequestGetCount","setPurchaseRecordsRequestGetCount","prqGetCount","setPrqGetCount","requesting","setRequesting","selectedObj","setSelectedObj","copyList","reloadListsHandle","loadMore","current_page","Number","isInteger","addCount","deliverComponent","infoBottonTips","infoBottonClick","purchaseRecordObj","selObj","successPrintCurrentRecordHandle","hasPrintRecordObj","copyRecordsList","updatedList","successObj","successResult","updatedDataList","dataList","updatedObj","updatedObjId","copyDataList","splice","updateDataList","addedNum","purchaseRecords","paramsObj","displayQueryFactorStr","setDisplayQueryFactorStr","displayStr","retDisplayStr","currentFactor","padding","UploadTaobaoCsvFilesModal","visibleNum","uploadedHandle","csvFilesList","setCsvFilesList","errorTips","setErrorTips","loadingState","setLoadingState","onRemove","file","copyFiles","info","fileList","uploadFilesList","originFileObj","beforeUpload","filesList","formdata","FormData","append","response","maxCount","multiple","accept","UploadOutlined","color","setPrinterIndex","drawerVisible","setDrawerVisible","createPurchaseRecordsVisible","setCreatePurchaseRecordsVisible","downloadAndSaveExpressList","initReloadList","span","setPurchaseRecordsList","ReloadOutlined","SearchOutlined","float","currentRequestParams","records"],"mappings":"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","file":"component---src-pages-purchaserecords-js-8e7f88e71c9d8f3239db.js","sourcesContent":["import _typeof from \"@babel/runtime/helpers/typeof\";\nexport function fillRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (_typeof(ref) === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n}\nexport function composeRef() {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      fillRef(ref, node);\n    });\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n} // eslint-disable-next-line import/no-extraneous-dependencies\n\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nvar Checkbox = /*#__PURE__*/function (_Component) {\n  _inherits(Checkbox, _Component);\n\n  var _super = _createSuper(Checkbox);\n\n  function Checkbox(props) {\n    var _this;\n\n    _classCallCheck(this, Checkbox);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (e) {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onChange = _this$props.onChange;\n\n      if (disabled) {\n        return;\n      }\n\n      if (!('checked' in _this.props)) {\n        _this.setState({\n          checked: e.target.checked\n        });\n      }\n\n      if (onChange) {\n        onChange({\n          target: _objectSpread(_objectSpread({}, _this.props), {}, {\n            checked: e.target.checked\n          }),\n          stopPropagation: function stopPropagation() {\n            e.stopPropagation();\n          },\n          preventDefault: function preventDefault() {\n            e.preventDefault();\n          },\n          nativeEvent: e.nativeEvent\n        });\n      }\n    };\n\n    _this.saveInput = function (node) {\n      _this.input = node;\n    };\n\n    var checked = 'checked' in props ? props.checked : props.defaultChecked;\n    _this.state = {\n      checked: checked\n    };\n    return _this;\n  }\n\n  _createClass(Checkbox, [{\n    key: \"focus\",\n    value: function focus() {\n      this.input.focus();\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.input.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames;\n\n      var _this$props2 = this.props,\n          prefixCls = _this$props2.prefixCls,\n          className = _this$props2.className,\n          style = _this$props2.style,\n          name = _this$props2.name,\n          id = _this$props2.id,\n          type = _this$props2.type,\n          disabled = _this$props2.disabled,\n          readOnly = _this$props2.readOnly,\n          tabIndex = _this$props2.tabIndex,\n          onClick = _this$props2.onClick,\n          onFocus = _this$props2.onFocus,\n          onBlur = _this$props2.onBlur,\n          autoFocus = _this$props2.autoFocus,\n          value = _this$props2.value,\n          required = _this$props2.required,\n          others = _objectWithoutProperties(_this$props2, [\"prefixCls\", \"className\", \"style\", \"name\", \"id\", \"type\", \"disabled\", \"readOnly\", \"tabIndex\", \"onClick\", \"onFocus\", \"onBlur\", \"autoFocus\", \"value\", \"required\"]);\n\n      var globalProps = Object.keys(others).reduce(function (prev, key) {\n        if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {\n          // eslint-disable-next-line no-param-reassign\n          prev[key] = others[key];\n        }\n\n        return prev;\n      }, {});\n      var checked = this.state.checked;\n      var classString = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classString,\n        style: style\n      }, /*#__PURE__*/React.createElement(\"input\", _extends({\n        name: name,\n        id: id,\n        type: type,\n        required: required,\n        readOnly: readOnly,\n        disabled: disabled,\n        tabIndex: tabIndex,\n        className: \"\".concat(prefixCls, \"-input\"),\n        checked: !!checked,\n        onClick: onClick,\n        onFocus: onFocus,\n        onBlur: onBlur,\n        onChange: this.handleChange,\n        autoFocus: autoFocus,\n        ref: this.saveInput,\n        value: value\n      }, globalProps)), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-inner\")\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if ('checked' in props) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          checked: props.checked\n        });\n      }\n\n      return null;\n    }\n  }]);\n\n  return Checkbox;\n}(Component);\n\nCheckbox.defaultProps = {\n  prefixCls: 'rc-checkbox',\n  className: '',\n  style: {},\n  type: 'checkbox',\n  defaultChecked: false,\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {},\n  onChange: function onChange() {}\n};\nexport default Checkbox;","import React, { useState, useEffect } from 'react';\nimport { Spin } from 'antd';\n\nimport './components_css/page_is_loading.css';\n\nconst PageIsLoading = ({ spinning }) => {\n  // 全局读取中\n  const [showLoading, setShowLoading] = useState(false);\n\n  const divStyle = {\n    display: showLoading ? 'block' : 'none',\n  }\n\n  useEffect(() => {\n    // spinning 更新后 更新divStyle\n    setShowLoading(spinning);\n  }, [spinning]);\n\n  return (\n    <div className=\"overall-loading\" style={divStyle}>\n      <Spin spinning={spinning} size=\"large\" />\n    </div>\n  )\n};\n\nPageIsLoading.defaultProps = {\n  spinning: false\n}\n\nexport default PageIsLoading;","import React, { useEffect, useState } from 'react';\n// 滚动条记住当前位置，并回到当前位置\n\nconst computeCurrentScrollTop = () => {\n    // 计算当前滚动条高度\n    if (typeof document !== 'undefined') {\n        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop; //滚动的高度;\n        // const clientHeight = document.documentElement.clientHeight || document.body.clientHeight; // 浏览器视口的高度;\n        // const pageHeight = document.body.scrollHeight || document.documentElement.scrollHeight || document.documentElement.offsetHeight; // 文档的总高度\n        return scrollTop;\n    }\n    return 0\n}\n\nconst scrollToTopSize = (topSize) => {\n    // 滚动条滚动到指定位置\n    if (typeof window !== 'undefined') {\n        setTimeout(() => {\n            // console.log(topSize);\n            // console.log('body');\n            window.scrollTo({ \n                top: parseInt(topSize), \n                behavior: \"smooth\" \n            });\n        }, 500)\n    }\n}\n\nconst ScrollGoBack = ({visible}) => {\n    // visible > 0 滚动条记住当前位置，visible == 0 返回当前位置\n    const [currentScrollTop, setCurrentScrollTop] = useState(0);\n\n    useEffect(() => {\n        if (visible > 0) {\n            // 保存当前位置\n            const currentTop = computeCurrentScrollTop();\n            // console.log(currentTop);\n            setCurrentScrollTop(currentTop);\n        }\n        if (visible === 0) {\n            // 滚动条回到原来位置\n            scrollToTopSize(currentScrollTop);\n        }\n    }, [visible])\n    return <></>\n}\nScrollGoBack.defaultProps = {\n    visible: 0\n}\n\nexport { ScrollGoBack };","// This icon file is generated automatically.\nvar RedoOutlined = {\n  \"icon\": {\n    \"tag\": \"svg\",\n    \"attrs\": {\n      \"viewBox\": \"64 64 896 896\",\n      \"focusable\": \"false\"\n    },\n    \"children\": [{\n      \"tag\": \"path\",\n      \"attrs\": {\n        \"d\": \"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z\"\n      }\n    }]\n  },\n  \"name\": \"redo\",\n  \"theme\": \"outlined\"\n};\nexport default RedoOutlined;","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RedoOutlinedSvg from \"@ant-design/icons-svg/es/asn/RedoOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RedoOutlined = function RedoOutlined(props, ref) {\n  return React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RedoOutlinedSvg\n  }));\n};\n\nRedoOutlined.displayName = 'RedoOutlined';\nexport default React.forwardRef(RedoOutlined);","import { message } from 'antd';\nimport getLodop from './LodopFuncs';\n\nlet LODOP;\n\nconst loadPrinter = () => {\n    return new Promise((resolve, reject) => {\n        // 读取打印机名称列表 返回打印机名称Array window.onload = function () {}等待页面加载完成\n        let hasComplete = false;    // 变量,页面是否已经加载完成\n        if (typeof document !== 'undefined') {\n            hasComplete = document.readyState === 'complete';\n        }\n        if (hasComplete) {\n            LODOP = getLodop();\n            if (!LODOP) {\n                message.error('连接打印服务器失败...');\n                reject('LODOP server connect error...');\n            }else {\n                const printerNum = LODOP.GET_PRINTER_COUNT();\n                const printerArr = [];\n                for (let index = 0; index < printerNum; index++) {\n                    printerArr.push(LODOP.GET_PRINTER_NAME(index));\n                }\n                // console.log('SSSSS');\n                resolve(printerArr);\n            }\n        } else {\n            message.error('请等待页面加载完成, 再刷新打印机...');\n            reject('LODOP server connecting...');\n        }\n    });\n}\n\nconst hasPrinter = (printerName) => {\n    // 判断打印机是否存在\n    return new Promise((resolve, reject) => {\n        loadPrinter.then(prints => {\n            resolve(prints.includes(printerName));\n        }).catch(err => {\n            console.log(err);\n            reject(false);\n        })\n    });\n};\n\nexport {\n    loadPrinter,\n    hasPrinter\n};","import React from 'react';\nimport AxiosRequest from '../../apis';\nimport { sendAxiosRequest } from '../../apis/sendRequest';\n\nconst  apiLists = ['printer-admin/v1/defaultprinter', ];\n\n// 打印机 request 请求\n\nconst PrinterRequestGetComponent = ({ requestCount, reqParams, responseDataHandle }) => {\n    // 打印机 Get请求 获取默认打印机列表\n    const api = [].concat(apiLists)[0];\n    const method = 'get';\n    const reqObject = {};\n  \n    return (\n      <AxiosRequest\n        responseDataHandle={responseDataHandle} api={api} method={method}\n        reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n      ></AxiosRequest>\n    );\n};\nPrinterRequestGetComponent.defaultProps = {\n    requestCount: 0,\n    reqParams: {},\n    responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nconst printerRequestPost = (reqObject) => {\n    // 新建或更新默认打印机 Post请求 reqObject = {\"page_name\": '页面名称', \"printer_name\": \"打印机名称\"}\n    return new Promise(function (resolve, reject) {\n        const api = [].concat(apiLists)[0];\n        const method = 'post';\n        const reqParams = {};\n        // const reqObject = {};\n        sendAxiosRequest(api, method, reqParams, reqObject)\n            .then(respObj => {\n                resolve(respObj);\n            })\n            .catch(err => {\n                console.log(err);\n                reject(err);\n            });\n    });\n};\n\nconst downloadDefaultPrinterName = (pageName) => {\n    return new Promise((resolve, reject) => {\n        const api = [].concat(apiLists)[0];\n        const method = 'get';\n        const reqParams = {};\n        const reqObject = {};\n        sendAxiosRequest(api, method, reqParams, reqObject).then(respObj => {\n            if (Object.keys(respObj).includes('results') && respObj.results.length > 0) {\n                const printersList = respObj.results;\n                for (let index = 0; index < printersList.length; index++) {\n                    const element = printersList[index];\n                    if (element.page_name === pageName) {\n                        resolve(element.printer_name);\n                        return;\n                    }\n                }\n                reject('None default printer...');\n            } else {\n                reject('Error network...');\n            }\n        }).catch(err => {\n            console.log(err);\n            reject(err);\n        });\n    });\n};\n\nexport {\n    PrinterRequestGetComponent,\n    downloadDefaultPrinterName,\n    printerRequestPost,\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport { message, Select, Button, Space, Tooltip } from 'antd';\nimport { RedoOutlined } from '@ant-design/icons';\n\nimport { loadPrinter } from './load_printer';\n// import { CustomSelect } from '../select_component';\nimport customConfig from '../../../custom_config';\nimport { appendMetaContentSecurityPolicy } from '../../../assets/common_funcs/meta_handle.js';\n\nimport { downloadDefaultPrinterName, printerRequestPost } from './printer_requests';\nimport { printMultiplePurchaseRecordsHandle } from '../print_purchase_record/purchase_record_print';\nconst { Option } = Select\n\nconst printerNameQueryIndex = (printersList, printerName) => {\n    // 打印机名称查找打印机序号\n    // console.log(printersList, printerName);\n    for (let index = 0; index < printersList.length; index++) {\n        const element = printersList[index];\n        if (element.label === printerName) {\n            return element.value;\n        }\n    }\n    return null\n};\n\nconst computeNotPrintRecords = purchaseRecordsList => {\n    // 返回未打印订单\n    const notPrintRecordsList = [];\n    for (let index = 0; index < purchaseRecordsList.length; index++) {\n        const element = purchaseRecordsList[index];\n        // console.log(element.has_print);\n        if (!element.has_print) {\n            notPrintRecordsList.push(element);\n        }\n    }\n    console.log(notPrintRecordsList);\n    return notPrintRecordsList;\n}\n\n// 选择打印机组件, 批量打印未打印订单\nconst SelectPrinterComponent = ({ onChange, purchaseRecordsList, hasAllPrintCount, setHasAllPrintCount }) => {\n    const [selectedPrinterIndex, setSelectedPrinterIndex] = useState(null);\n    const selectedPrinterName = useRef('');\n    const [printers, setPrinters] = useState([]);\n\n    // 未打印订单\n    const [notPrintRecords, setNotPrintRecords] = useState([]);\n\n    // default printer\n    // const [defaultPrinterName, setDefaultPrinterName] = useState('');\n\n    const loadPrintersListHandle = () => {\n        // 获取打印机列表\n        // 页面中加入 meta 标签, 解决 HTTPS页面里动态的引入HTTP资源，被直接block掉\n        appendMetaContentSecurityPolicy();\n        loadPrinter().then(async results => {\n            let printersOptions = [];\n            // console.log(typeof results);\n            for (let index = 0; index < results.length; index++) {\n                printersOptions.push({\n                    label: results[index],\n                    value: index\n                });\n            }\n            // console.log(printersOptions);\n            setPrinters(printersOptions);\n            message.info('打印机列表刷新成功!')\n            // console.log(printersOptions);\n        }).catch(err => {\n            console.log(err);\n            setPrinters([]);\n            // message.error('获取打印列表失败...');\n        });\n    }\n\n    useEffect(() => {\n        // 获取打印机列表\n        if (typeof document !== 'undefined' && document.readyState === 'complete') {\n            loadPrintersListHandle();\n        }else {\n            message.info('请网页加载完成后刷新打印机!!!');\n        }\n    }, []);\n\n    useEffect(() => {\n        // 打印机列表改变，更新打印机为默认打印机\n        const currentPageName = customConfig.pagesName.purchaseRecords;\n        downloadDefaultPrinterName(currentPageName).then(loadDefaultPrinter => {\n            // console.log(loadDefaultPrinter);\n            // setDefaultPrinter(loadDefaultPrinter);\n            if (loadDefaultPrinter && printers.length > 0) {\n                selectedPrinterHandle(printerNameQueryIndex(printers, loadDefaultPrinter));\n            }\n        }).catch(err => console.log(err));\n    }, [printers]);\n\n    useEffect(() => {\n        // 计算未打印订单\n        setNotPrintRecords(computeNotPrintRecords(purchaseRecordsList));\n    }, [purchaseRecordsList]);\n\n    const selectedPrinterHandle = (selectedIndex) => {\n        console.log(selectedIndex);\n        setSelectedPrinterIndex(selectedIndex);\n        if (printers.length > selectedIndex\n            && printers[selectedIndex] instanceof Object\n            && Object.keys(printers[selectedIndex]).includes('label')\n        ) {\n            selectedPrinterName.current = printers[selectedIndex].label;\n        }\n        onChange(selectedIndex);\n    }\n\n    const updateHasPrint = hasPrintRecordsList => {\n        // 客户端更新订单列表为已打印\n        setHasAllPrintCount(hasAllPrintCount + 1);\n    }\n\n    const printNotPrintRecords = () => {\n        // 批量打印未打印订单\n        const saveDefaultPrinter = {\n            \"page_name\": customConfig.pagesName.purchaseRecords,\n            \"printer_name\": selectedPrinterName.current\n        }\n        // console.log(saveDefaultPrinter);\n        printerRequestPost(saveDefaultPrinter).then(result => {\n            // 先保存当前打印机是默认打印机\n            console.log(result);\n        }).catch(err => {\n            console.log(err);\n        });\n        // console.log(notPrintRecords);\n        printMultiplePurchaseRecordsHandle(notPrintRecords, selectedPrinterIndex, updateHasPrint);\n    }\n\n    return (\n        <div style={{ width: '100%', height: 'auto', margin: '10px 2px' }}>\n            {/* <CustomSelect options={printers} onChange={selectedPrinterHandle} value={selectedPrinterIndex}></CustomSelect> */}\n            <Space>\n                <Select\n                    placeholder=\"请选择打印机\"\n                    onChange={selectedPrinterHandle}\n                    value={selectedPrinterIndex}\n                    style={{ minWidth: 120, maxWidth: 220 }}\n                >\n                    {printers.map((obj, i) => {\n                        return <Option key={i.toString()} value={obj.value}>{obj.label}</Option>\n                    })}\n                </Select>\n                <Button disabled={notPrintRecords.length < 1} onClick={printNotPrintRecords} type=\"primary\">打印(未打印)</Button>\n                <Tooltip title=\"刷新打印机\">\n                    <Button shape=\"circle\" icon={<RedoOutlined />} onClick={loadPrintersListHandle} />\n                </Tooltip>\n            </Space>\n        </div>\n    )\n}\nSelectPrinterComponent.defaultProps = {\n    onChange: val => console.log(val),\n    purchaseRecordsList: [],    // 购买订单列表，打印未打印订单用\n    hasAllPrintCount: 0,\n    setHasAllPrintCount: val => console.log(val),\n}\n\nexport { SelectPrinterComponent };\n","import React from 'react';\nimport { Button, Modal } from 'antd';\n// import CustomerList from '../customer_list';\nimport CustomersComponent from '../customers';\n\n// 选择顾客模态框\n\nconst CustomerOptModal = ({ modalState, setModalState, selectCustomerHandle, clickCreatedCustomerHandle }) => {\n    // 选择顾客 modal\n    return (\n        <>\n            <Modal\n                visible={modalState}\n                title=\"选择顾客\"\n                closable={false}\n                footer={[\n                    <Button key=\"back\" onClick={() => { setModalState(false); }}>取消</Button>\n                ]}\n            // footer={null}\n            >\n                {/* <CustomerList\n                    selectCustomerHandle={selectCustomerHandle}\n                    clickCreatedCustomerHandle={clickCreatedCustomerHandle}\n                ></CustomerList> */}\n                <CustomersComponent selectButtonOnClick={selectCustomerHandle}></CustomersComponent>\n            </Modal>\n        </>\n    );\n};\nCustomerOptModal.defaultProps = {\n    modalState: false,\n    setModalState: booleanValue => console.log(booleanValue),\n    selectCustomerHandle: (customerObj) => { console.log(customerObj); },\n    clickCreatedCustomerHandle: (createdCustomerResponseObj) => { console.log(createdCustomerResponseObj) },\n};\n\nexport { CustomerOptModal }\n","import * as React from 'react';\nvar RadioGroupContext = /*#__PURE__*/React.createContext(null);\nexport var RadioGroupContextProvider = RadioGroupContext.Provider;\nexport default RadioGroupContext;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcCheckbox from 'rc-checkbox';\nimport classNames from 'classnames';\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\nimport { composeRef } from '../_util/ref';\nimport devWarning from '../_util/devWarning';\n\nvar InternalRadio = function InternalRadio(props, ref) {\n  var _classNames;\n\n  var context = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var innerRef = React.useRef();\n  var mergedRef = composeRef(ref, innerRef);\n  React.useEffect(function () {\n    devWarning(!('optionType' in props), 'Radio', '`optionType` is only support in Radio.Group.');\n  }, []);\n\n  var onChange = function onChange(e) {\n    if (props.onChange) {\n      props.onChange(e);\n    }\n\n    if (context === null || context === void 0 ? void 0 : context.onChange) {\n      context.onChange(e);\n    }\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      className = props.className,\n      children = props.children,\n      style = props.style,\n      restProps = __rest(props, [\"prefixCls\", \"className\", \"children\", \"style\"]);\n\n  var prefixCls = getPrefixCls('radio', customizePrefixCls);\n\n  var radioProps = _extends({}, restProps);\n\n  if (context) {\n    radioProps.name = context.name;\n    radioProps.onChange = onChange;\n    radioProps.checked = props.value === context.value;\n    radioProps.disabled = props.disabled || context.disabled;\n  }\n\n  var wrapperClassString = classNames(\"\".concat(prefixCls, \"-wrapper\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-checked\"), radioProps.checked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-disabled\"), radioProps.disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-wrapper-rtl\"), direction === 'rtl'), _classNames), className);\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-associated-control\n    React.createElement(\"label\", {\n      className: wrapperClassString,\n      style: style,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave\n    }, /*#__PURE__*/React.createElement(RcCheckbox, _extends({}, radioProps, {\n      prefixCls: prefixCls,\n      ref: mergedRef\n    })), children !== undefined ? /*#__PURE__*/React.createElement(\"span\", null, children) : null)\n  );\n};\n\nvar Radio = /*#__PURE__*/React.forwardRef(InternalRadio);\nRadio.displayName = 'Radio';\nRadio.defaultProps = {\n  type: 'radio'\n};\nexport default Radio;","function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nimport * as React from 'react';\nexport default function useControlledState(defaultStateValue, option) {\n  var _ref = option || {},\n      defaultValue = _ref.defaultValue,\n      value = _ref.value,\n      onChange = _ref.onChange,\n      postState = _ref.postState;\n\n  var _React$useState = React.useState(function () {\n    if (value !== undefined) {\n      return value;\n    }\n\n    if (defaultValue !== undefined) {\n      return typeof defaultValue === 'function' ? defaultValue() : defaultValue;\n    }\n\n    return typeof defaultStateValue === 'function' ? defaultStateValue() : defaultStateValue;\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      innerValue = _React$useState2[0],\n      setInnerValue = _React$useState2[1];\n\n  var mergedValue = value !== undefined ? value : innerValue;\n\n  if (postState) {\n    mergedValue = postState(mergedValue);\n  }\n\n  function triggerChange(newValue) {\n    setInnerValue(newValue);\n\n    if (mergedValue !== newValue && onChange) {\n      onChange(newValue, mergedValue);\n    }\n  } // Effect of reset value to `undefined`\n\n\n  var firstRenderRef = React.useRef(true);\n  React.useEffect(function () {\n    if (firstRenderRef.current) {\n      firstRenderRef.current = false;\n      return;\n    }\n\n    if (value === undefined) {\n      setInnerValue(value);\n    }\n  }, [value]);\n  return [mergedValue, triggerChange];\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport { RadioGroupContextProvider } from './context';\nvar RadioGroup = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n\n  var _useMergedState = useMergedState(props.defaultValue, {\n    value: props.value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var onRadioChange = function onRadioChange(ev) {\n    var lastValue = value;\n    var val = ev.target.value;\n\n    if (!('value' in props)) {\n      setValue(val);\n    }\n\n    var onChange = props.onChange;\n\n    if (onChange && val !== lastValue) {\n      onChange(ev);\n    }\n  };\n\n  var renderGroup = function renderGroup() {\n    var _classNames;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$className = props.className,\n        className = _props$className === void 0 ? '' : _props$className,\n        options = props.options,\n        optionType = props.optionType,\n        buttonStyle = props.buttonStyle,\n        disabled = props.disabled,\n        children = props.children,\n        customizeSize = props.size,\n        style = props.style,\n        id = props.id,\n        onMouseEnter = props.onMouseEnter,\n        onMouseLeave = props.onMouseLeave;\n    var prefixCls = getPrefixCls('radio', customizePrefixCls);\n    var groupPrefixCls = \"\".concat(prefixCls, \"-group\");\n    var childrenToRender = children; // 如果存在 options, 优先使用\n\n    if (options && options.length > 0) {\n      var optionsPrefixCls = optionType === 'button' ? \"\".concat(prefixCls, \"-button\") : prefixCls;\n      childrenToRender = options.map(function (option) {\n        if (typeof option === 'string') {\n          // 此处类型自动推导为 string\n          return /*#__PURE__*/React.createElement(Radio, {\n            key: option,\n            prefixCls: optionsPrefixCls,\n            disabled: disabled,\n            value: option,\n            checked: value === option\n          }, option);\n        } // 此处类型自动推导为 { label: string value: string }\n\n\n        return /*#__PURE__*/React.createElement(Radio, {\n          key: \"radio-group-value-options-\".concat(option.value),\n          prefixCls: optionsPrefixCls,\n          disabled: option.disabled || disabled,\n          value: option.value,\n          checked: value === option.value,\n          style: option.style\n        }, option.label);\n      });\n    }\n\n    var mergedSize = customizeSize || size;\n    var classString = classNames(groupPrefixCls, \"\".concat(groupPrefixCls, \"-\").concat(buttonStyle), (_classNames = {}, _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-\").concat(mergedSize), mergedSize), _defineProperty(_classNames, \"\".concat(groupPrefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classString,\n      style: style,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      id: id,\n      ref: ref\n    }, childrenToRender);\n  };\n\n  return /*#__PURE__*/React.createElement(RadioGroupContextProvider, {\n    value: {\n      onChange: onRadioChange,\n      value: value,\n      disabled: props.disabled,\n      name: props.name\n    }\n  }, renderGroup());\n});\nRadioGroup.defaultProps = {\n  buttonStyle: 'outline'\n};\nexport default /*#__PURE__*/React.memo(RadioGroup);","import _extends from \"@babel/runtime/helpers/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport Radio from './radio';\nimport { ConfigContext } from '../config-provider';\nimport RadioGroupContext from './context';\n\nvar RadioButton = function RadioButton(props, ref) {\n  var radioGroupContext = React.useContext(RadioGroupContext);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var customizePrefixCls = props.prefixCls,\n      radioProps = __rest(props, [\"prefixCls\"]);\n\n  var prefixCls = getPrefixCls('radio-button', customizePrefixCls);\n\n  if (radioGroupContext) {\n    radioProps.checked = props.value === radioGroupContext.value;\n    radioProps.disabled = props.disabled || radioGroupContext.disabled;\n  }\n\n  return /*#__PURE__*/React.createElement(Radio, _extends({\n    prefixCls: prefixCls\n  }, radioProps, {\n    type: \"radio\",\n    ref: ref\n  }));\n};\n\nexport default /*#__PURE__*/React.forwardRef(RadioButton);","import InternalRadio from './radio';\nimport Group from './group';\nimport Button from './radioButton';\nvar Radio = InternalRadio;\nRadio.Button = Button;\nRadio.Group = Group;\nexport { Button, Group };\nexport default Radio;","import React, { useEffect, useRef, useState } from 'react';\nimport { Select, Input, Button, Form, InputNumber, Radio, Divider, Space, Modal } from 'antd';\nimport customConfig from '../../../custom_config';\n\nconst { Option } = Select;\n\nconst formSelectStyle = {width: 180};\n\nconst diopterSignsObj = {\n    // 球镜柱镜光度符号\n    1: ['negative', 'negative'],\n    2: ['negative', 'positive'],\n    3: ['positive', 'negative'],\n    4: ['positive', 'positive'],\n};\n\n// 选择左右眼光度\n\nconst splitDiopters = (diopterStr) => {\n    // 拆分光度为球镜、柱镜、轴位、ADD 返回: {spy: '', cyl: '', axi: 'int', add: ''}\n    let sph=null, cyl=null, axi=null, add=null;\n    if (!diopterStr) {\n        return {sph, cyl, axi, add};\n    }\n\n    let delSpaceDiopter = diopterStr.replace(/(^\\s*)|(\\s*$)/g, \"\");     // 先去掉开始和结尾的空格\n    if (delSpaceDiopter.indexOf('ADD') > 1) {\n        // 有ADD\n        const splitAddArr = delSpaceDiopter.split('ADD');\n        add = splitAddArr[1].replace(/(^\\s*)|(\\s*$)/g, \"\").replace(':', '');\n        delSpaceDiopter = splitAddArr[0].replace(/(^\\s*)|(\\s*$)/g, \"\");\n    }\n\n    if (delSpaceDiopter.length > 0) {\n        if (delSpaceDiopter.indexOf('-', 4) > 5) {\n            // 有散光\n            // console.log(delSpaceDiopter);\n            sph = delSpaceDiopter.slice(0, delSpaceDiopter.indexOf('-', 4)).replace(/(^\\s*)|(\\s*$)/g, \"\");\n            const cylAndAxiArr = delSpaceDiopter.slice(delSpaceDiopter.indexOf('-', 4)).split('*');\n            cyl = cylAndAxiArr[0].replace(/(^\\s*)|(\\s*$)/g, \"\");\n            axi = parseInt(cylAndAxiArr[1].replace(/(^\\s*)|(\\s*$)/g, \"\"));\n        } else {\n            // 没有散光\n            // console.log(delSpaceDiopter);\n            sph = delSpaceDiopter.replace(/(^\\s*)|(\\s*$)/g, \"\");\n        }\n    }\n    return {sph, cyl, axi, add};\n}\n\nconst judgeDiopterCreaterThanZero = (diopter) => {\n    // 判断光度的绝对值是否打大于0\n    return (diopter && Math.abs(parseFloat(diopter)) > 0);\n}\n\nconst createDioptersObj = (dioptersValues) => {\n    // 创建左右眼光度 {r: '-0.00 -0.50 * 180 ADD:+1.50', l: '-0.00 -0.50 * 180 ADD:+1.50', pd: 60}\n    let rDiopterStr = !dioptersValues.sphR ? '' : dioptersValues.sphR;\n    let lDiopterStr = !dioptersValues.sphL ? '' : dioptersValues.sphL;\n    const LackArgumentsObj = judgeLackArguments(dioptersValues);    // 判断是否缺少参数\n    if (judgeDiopterCreaterThanZero(dioptersValues.cylR)) {\n        // 右眼有散光\n        if (LackArgumentsObj.lackAxiR === 0) {\n            // 有轴位才添加散光\n            rDiopterStr = rDiopterStr === '' ? '-0.00' : rDiopterStr;\n            rDiopterStr = `${rDiopterStr} ${dioptersValues.cylR} * ${dioptersValues.axiR}`;\n        }\n    }\n    if (judgeDiopterCreaterThanZero(dioptersValues.cylL)) {\n        // 左眼有散光\n        if (LackArgumentsObj.lackAxiR === 0) {\n            // 有轴位才添加散光\n            lDiopterStr = lDiopterStr === '' ? '-0.00' : lDiopterStr;\n            lDiopterStr = `${lDiopterStr} ${dioptersValues.cylL} * ${dioptersValues.axiL}`;\n        }\n    }\n    if (judgeDiopterCreaterThanZero(dioptersValues.add)) {\n        // 有 ADD\n        rDiopterStr = `${rDiopterStr} ADD:${dioptersValues.add}`;\n        lDiopterStr = `${lDiopterStr} ADD:${dioptersValues.add}`;\n    }\n    return {diopter_r: rDiopterStr, diopter_l: lDiopterStr, pupillary_distance: dioptersValues.pd};\n}\n\nconst judgeLackArguments = (dioptersValues) => {\n    // 判断是否缺少瞳距或散光轴位\n    // value: 0-不缺, 1-缺少 {lackPd: 缺少瞳距, lackAxiR: R缺少轴位, lackAxiL: L缺少轴位}\n    const lackObj = {lackPd: 0, lackAxiR: 0, lackAxiL: 0};\n    if (dioptersValues.pd.toString().length < 2) {\n        lackObj.lackPd = 1;\n    }\n\n    const rAxi = dioptersValues.axiR;\n    const lAxi = dioptersValues.axiL;\n\n    if (dioptersValues.cylR && Math.abs(parseFloat(dioptersValues.cylR)) > 0) {\n        // 右眼有散光\n        if (rAxi) {\n            if(rAxi === \"\" || rAxi == null){\n                lackObj.lackAxiR = 1;\n            }\n            if (isNaN(rAxi)) {\n                lackObj.lackAxiR = 1;\n            }\n        } else {\n            lackObj.lackAxiR = 1;\n        }\n    }\n    if (dioptersValues.cylL && Math.abs(parseFloat(dioptersValues.cylL)) > 0) {\n        // 左眼有散光\n        if (lAxi) {\n            if(lAxi === \"\" || lAxi == null){\n                lackObj.lackAxiL = 1;\n            }\n            if (isNaN(lAxi)) {\n                lackObj.lackAxiL = 1;\n            }\n        } else {\n            lackObj.lackAxiL = 1;\n        }\n    }\n    return lackObj;\n}\n\nconst dioptersList = (positiveNegative = 'negative', maxDiopters = 90) => {\n    // 返回光度对象列表 [{label: '-0.00', value: '-0.00'}, {label: '-0.25', value: '-0.25'}]\n    // maxDiopters 最大光度 25-散光(至600度), 17-ADD(至400度)\n    // positiveNegative: negative='-', positive='+'\n    const diopters = [];\n    const pNSign = positiveNegative === 'negative' ? '-' : '+';\n    for (let index = 0; index < maxDiopters; index++) {\n        const element = pNSign + (index * 0.25).toFixed(2);\n        diopters.push({label: element, value: element});\n    }\n    return diopters;\n}\n\nconst DioptersSelectComponent = ({ value, onChange,  selectType=0, positiveNegative = 'negative', placeholder='请选择球镜' }) => {\n    // 选择光度的自定义组件 selectType: 0-球镜, 1-柱镜, 2-ADD下加光\n    const maxDioptersList = [90, 25, 17];\n    const selectOptions = dioptersList(positiveNegative, maxDioptersList[selectType])\n    return (\n        <Select style={formSelectStyle} value={value} onChange={onChange} placeholder={placeholder}>\n            {selectOptions.map(item => {\n                return (<Option key={item.value} value={item.value}>{item.label}</Option>)\n            })}\n        </Select>\n    )\n}\n\nconst lackArgumentsTips = [\n    '取消 重新输入, 确认 直接提交!',\n    '取消 重新输入, 确认 直接提交!(删除散光光度)',\n];\n\nconst lackArgumentsTitles = ['未输入瞳距', '未输入散光轴位', '未输入瞳距和散光轴位'];\n\nconst DoubleEyeSelectDiopter = ({sourceDiopterObj, selectedHandle, cancelHandle}) => {\n    // 球镜(spherical mirror), 柱镜(cylinder mirror), 轴向位置(Axial position)\n    const [form] = Form.useForm();\n\n    const [lackArgumentsVisible, setLackArgumentsVisible] = useState(false);\n\n    const [selectedSign, setSelectedSign] = useState(1);\n    const [sphSign, setSphSign] = useState('negative');\n    const [cylSign, setCylSign] = useState('negative');\n\n    const [warnTip, setWarnTip] = useState(lackArgumentsTips[0]);\n    const [warnTitle, setWarnTitle] = useState(lackArgumentsTitles[0]);\n\n    const [hasAddItem, setHasAddItem] = useState(false);\n\n    const submitObj = useRef({diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"});\n\n    useEffect(() => {\n        // 初始化表单内容\n        setHasAddItem(false);\n        const dioptersObjR = splitDiopters(sourceDiopterObj.diopter_r);\n        const dioptersObjL = splitDiopters(sourceDiopterObj.diopter_l);\n        const add = dioptersObjR.add ? dioptersObjR.add : dioptersObjL.add;\n        if (add) {\n            setHasAddItem(true);\n        }\n        const initObj = {\n            sphR: dioptersObjR.sph,\n            cylR: dioptersObjR.cyl,\n            axiR: dioptersObjR.axi,\n            sphL: dioptersObjL.sph,\n            cylL: dioptersObjL.cyl,\n            axiL: dioptersObjL.axi,\n            add: add,\n            pd: sourceDiopterObj.pupillary_distance,\n        }\n        // setInitFormObj(initObj);\n        // console.log(initObj);\n        form.setFieldsValue(initObj);\n    }, [sourceDiopterObj]);\n\n    const onChangeSign = e => {\n        // 更新度数符号\n        console.log(e.target.value);\n        setSelectedSign(e.target.value);\n        const selectedDiopterSign = diopterSignsObj[e.target.value];\n        setSphSign(selectedDiopterSign[0]);\n        setCylSign(selectedDiopterSign[1]);\n    }\n\n    const onFinish = values => {\n        // console.log(values);\n        submitObj.current = createDioptersObj(values);\n        // console.log(submitObj.current);\n        const lackArgumentsObj = judgeLackArguments(values);    // 判断是否缺少参数\n        let tipsNum = -1;\n        if (lackArgumentsObj.lackPd > 0 || lackArgumentsObj.lackAxiR > 0 || lackArgumentsObj.lackAxiL > 0) {\n            // 有错误,跳出提示框\n            let lackPd = lackArgumentsObj.lackPd > 0 ? true : false;\n            let lackAxiR = lackArgumentsObj.lackAxiR > 0 ? true : false;\n            let lackAxiL = lackArgumentsObj.lackAxiL > 0 ? true : false;\n            tipsNum = lackPd ? 0 : tipsNum;\n            if (tipsNum > -1) {\n                tipsNum = lackAxiR || lackAxiL ? 2 : tipsNum;\n            } else {\n                tipsNum = lackAxiR || lackAxiL ? 1 : tipsNum;\n            }\n            if (tipsNum > -1) {\n                setWarnTitle(lackArgumentsTitles[tipsNum]);\n                setWarnTip(tipsNum === 0 ? lackArgumentsTips[0] : lackArgumentsTips[1]);\n                setLackArgumentsVisible(true);\n            }\n        } else {\n            // 没有错误直接提交\n            selectedHandle(submitObj.current);\n        }\n    }\n\n    const lackArgumentsSubmit = () => {\n        // 缺少散光轴位，或瞳距 继续提交光度\n        setLackArgumentsVisible(false);\n        selectedHandle(submitObj.current);\n    }\n\n    const addItem = (\n        <Form.Item label=\"ADD\" name=\"add\">\n            <DioptersSelectComponent selectType={2} positiveNegative=\"positive\" placeholder=\"请选择ADD\"></DioptersSelectComponent>\n        </Form.Item>\n    );\n\n    const showAddItemButtonItem = (\n        <Form.Item><Button type=\"link\" onClick={() => setHasAddItem(true)}>ADD...</Button></Form.Item>\n    )\n\n    return (\n        <div>\n            <h6>正负光度: &nbsp;\n                <Radio.Group onChange={onChangeSign} value={selectedSign}>\n                    <Radio value={1}>-/-</Radio>\n                    <Radio value={2}>-/+</Radio>\n                    <Radio value={3}>+/-</Radio>\n                    <Radio value={4}>+/+</Radio>\n                </Radio.Group>\n            </h6>\n            <Divider></Divider>\n            <Form form={form} name=\"diopters-form\" onFinish={onFinish} {...customConfig.formCommonStyle.layoutForm}>\n                <Form.Item label=\"光度R\">\n                    <Form.Item name=\"sphR\">\n                        <DioptersSelectComponent selectType={0} positiveNegative={sphSign}></DioptersSelectComponent>\n                    </Form.Item>\n                    <Form.Item name=\"cylR\">\n                        <DioptersSelectComponent selectType={1} positiveNegative={cylSign} placeholder=\"请选择柱镜\"></DioptersSelectComponent>\n                    </Form.Item>\n                    <Form.Item name=\"axiR\">\n                        <InputNumber min={1} max={180} style={{width: '8rem'}} placeholder=\"请输入轴位\"></InputNumber>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item label=\"光度L\">\n                    <Form.Item name=\"sphL\">\n                        <DioptersSelectComponent selectType={0} positiveNegative={sphSign}></DioptersSelectComponent>\n                    </Form.Item>\n                    <Form.Item name=\"cylL\">\n                        <DioptersSelectComponent selectType={1} positiveNegative={cylSign} placeholder=\"请选择柱镜\"></DioptersSelectComponent>\n                    </Form.Item>\n                    <Form.Item name=\"axiL\">\n                        <InputNumber min={1} max={180} style={{width: '8rem'}} placeholder=\"请输入轴位\"></InputNumber>\n                    </Form.Item>\n                </Form.Item>\n                <Form.Item label=\"PD\" name=\"pd\">\n                    <Input placeholder=\"请输入瞳距\" style={{maxWidth: '10rem'}}></Input>\n                </Form.Item>\n                {/* <Form.Item label=\"ADD\" name=\"add\">\n                    <DioptersSelectComponent selectType={2} positiveNegative=\"positive\" placeholder=\"请选择ADD\"></DioptersSelectComponent>\n                </Form.Item> */}\n                {hasAddItem ? addItem : showAddItemButtonItem}\n\n                <Form.Item {...customConfig.formCommonStyle.tailFormItemLayout}>\n                    <Space>\n                        <Button type=\"primary\" htmlType=\"submit\">确定</Button>\n                        <Button htmlType=\"button\" onClick={cancelHandle}>取消</Button>\n                    </Space>\n                </Form.Item>\n            </Form>\n\n            <Modal\n                title={warnTitle}\n                visible={lackArgumentsVisible}\n                onOk={lackArgumentsSubmit}\n                onCancel={() => setLackArgumentsVisible(false)}\n                okText=\"确认\"\n                cancelText=\"取消\"\n            >\n                <p>{warnTip}</p>\n            </Modal>\n        </div>\n    );\n};\nDoubleEyeSelectDiopter.defaultProps = {\n    sourceDiopterObj: {diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"},\n    selectedHandle: selectedDiopterObj => console.log(selectedDiopterObj),\n    cancelHandle: () => console.log('Cancel select diopters...'),\n}\n\nexport { DoubleEyeSelectDiopter };\n","import React from 'react';\nimport { Modal } from 'antd';\nimport { DoubleEyeSelectDiopter } from '../base_components/diopter_component/select_diopter';\n\n// 选择光度模态框\n\nconst DioptersOptModal = ({ sourceDiopterObj, modalState, setModalState, selectHandle }) => {\n    // 选择光度 modal\n    return (\n        <>\n            <Modal\n                visible={modalState}\n                title=\"选择光度\"\n                closable={false}\n                footer={null}\n            >\n                <DoubleEyeSelectDiopter\n                    sourceDiopterObj={sourceDiopterObj}\n                    selectedHandle={selectHandle}\n                    cancelHandle={() => setModalState(false)}\n                ></DoubleEyeSelectDiopter>\n            </Modal>\n        </>\n    );\n};\nDioptersOptModal.defaultProps = {\n    sourceDiopterObj: {diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"},\n    modalState: false,\n    setModalState: booleanValue => console.log(booleanValue),\n    selectCustomerHandle: (customerObj) => { console.log(customerObj); },\n    clickCreatedCustomerHandle: (createdCustomerResponseObj) => { console.log(createdCustomerResponseObj) },\n};\n\nexport { DioptersOptModal };\n","import React from 'react';\nimport { DatePicker } from 'antd';\nimport { CustomSelect } from '../base_components/select_component';\nimport ListsItem from '../base_components/list_item';\n\n// import { expressCompanyRequestGet } from './custom_select_requests';\n\nconst { RangePicker } = DatePicker;\n\n// PurchaseRecords 列 配置\n\n// ~~~~~~ 表单列, 需添加 ~~~~~~\nconst formKeys = [\n  \"id\", \"input_staff_id\", \"latest_modify_staff_id\", \"customer_id\", \"customer_name\",\n  // \"group_purchase_commander_id\", \"group_purchase_commander_name\",\n  \"product_title\", \"diopter_r\", \"diopter_l\",\n  \"pupillary_distance\", \"receive_address\", \"products_quantity\", \"purchase_amount\",\n  \"products_cost\", \"sale_platform\", \"order_state\", \"pay_table_id\", \"pay_platform\",\n  \"add_time\", \"update_time\", \"explains\", \"explains_customer\", \"has_print\",\n  \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\", \"image_cos_name4\", \"image_cos_name5\"\n];\n\n// ~~~~~~ 表单不能编辑列, 根据实际添加 ~~~~~~\nconst formDisabledKeys = [\n  \"id\", \"input_staff_id\", \"latest_modify_staff_id\", \"customer_name\", \"group_purchase_commander_id\", \"group_purchase_commander_name\", \"diopter_r\", \"diopter_l\",\n  \"pupillary_distance\", \"receive_address\", \"pay_table_id\", \"add_time\", \"update_time\", \"has_print\", \"image_cos_name1\", \"image_cos_name2\",\n  \"image_cos_name3\", \"image_cos_name4\", \"image_cos_name5\"\n];\n\n// ~~~~~~ 表单不显示列, 根据实际添加 ~~~~~~\nconst formNotShowKeys = [\n  \"input_staff_id\", \"latest_modify_staff_id\", \"customer_id\", \"group_purchase_commander_id\", \"group_purchase_commander_name\",\n  \"receive_address\", \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\", \"image_cos_name4\", \"image_cos_name5\"\n];\n\n// ~~~~~~ 表单列名称 label, 需添加 ~~~~~~\nconst formKeysLabelsObj = {\n  \"id\": \"订单ID\", \"input_staff_id\": \"订单创建管理员\", \"latest_modify_staff_id\": \"最后修改管理员\", \"customer_id\": \"顾客ID\", \"customer_name\": \"顾客\",\n  \"group_purchase_commander_id\": \"团购团长ID\", \"group_purchase_commander_name\": \"团购团长\", \"product_title\": \"商品标题\", \"diopter_r\": \"光度R\", \"diopter_l\": \"光度L\", \"pupillary_distance\": \"瞳距(PD)\",\n  \"receive_address\": \"收货地址\", \"products_quantity\": \"商品数量\", \"purchase_amount\": \"订单金额\", \"products_cost\": \"商品成本\", \"sale_platform\": \"销售平台\",\n  \"order_state\": \"订单状态\", \"pay_table_id\": \"支付表ID\", \"pay_platform\": \"支付方式\", \"add_time\": \"新建时间\", \"update_time\": \"更新时间\", \"explains\": \"商家备注\",\n  \"explains_customer\": \"顾客留言\", \"has_print\": \"打印状态\", \"image_cos_name1\": \"订单图片1\", \"image_cos_name2\": \"订单图片2\",\n  \"image_cos_name3\": \"订单图片3\", \"image_cos_name4\": \"订单图片4\", \"image_cos_name5\": \"订单图片5\",\n  \"range_add_time\": \"日期\", \"add_time_start\": \"开始时间\", \"add_time_end\": \"结束时间\"\n};\n\n//  ~~~~~~ 选择框, 根据实际添加 ~~~~~~\n// const SelectExpressCompany = ({ value = '', onChange = e => console.log(e) }) => {\n//   const [selectOptions, setSelectOptions] = useState([]);\n//   useEffect(() => {\n//     expressCompanyRequestGet().then(respObj => {\n//         const resList = respObj.results;\n//         let updateOptions = [];\n//         for (let index = 0; index < resList.length; index++) {\n//           const element = resList[index];\n//           updateOptions.push({\n//             value: element.express_company_code,\n//             label: element.express_company_name\n//           })\n//         }\n//         setSelectOptions(updateOptions);\n//       }).catch(error => {\n//         console.log(error);\n//         setSelectOptions([]);\n//       });\n//   }, []);\n//   return (<CustomSelect options={selectOptions} value={value} onChange={onChange}></CustomSelect>)\n// };\n// const SelectBoolean = (<CustomSelect options={[{ value: false, label: '否' }, { value: true, label: '是' }]} />);\nconst SelectRangePicker = <RangePicker />\nconst SelectEndTime = (<DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />);\nconst SelectHasPrint = (<CustomSelect options={[{ value: 0, label: '未打印' }, { value: 1, label: '已打印' }, { value: 2, label: '全部' }]} />);\nconst SelectSalePlatform = (<CustomSelect options={[{ value: 0, label: '未知或未输入'}, {value: 1, label: '门店'}, {value: 2, label: '淘宝'}, {value: 3, label: '小程序'}, {value: 4, label: '微信-方灵芝'}, {value: 5, label: '微信-展望眼镜'}]} />);\nconst SelectOrderState = (<CustomSelect options={[{ value: 0, label: '订单交易完成'}, { value: 1, label: '未付款'}, { value: 2, label: '定制中'}, { value: 3, label: '已发货'}, { value: 4, label: '售后处理中'}]} />); \nconst SelectPayPlatform = (<CustomSelect options={[{ value: 0, label: '未知'}, { value: 1, label: '微信支付'}, { value: 2, label: '支付宝支付'}, { value: 3, label: '刷卡'}, { value: 4, label: '现金'}]} />);\nconst formKeySelectComponentsObj = {\n  // 'express_company_code': <SelectExpressCompany />,\n  has_print: SelectHasPrint,\n  sale_platform: SelectSalePlatform,\n  order_state: SelectOrderState,\n  pay_platform: SelectPayPlatform,\n  range_add_time: SelectRangePicker,\n  add_time_start: SelectEndTime,\n  add_time_end: SelectEndTime\n};\n\n//  ~~~~~~ 表单自定义操作按钮, 根据实际添加 ~~~~~~\nconst formKeysHandleButtonObj = (setOptCustomerModalState) => {\n  return {\n    customer_name: {buttonTips: '选择顾客', clickMethod: () => setOptCustomerModalState(1)},\n    // group_purchase_commander_name: {buttonTips: '选择团长', clickMethod: () => setOptCustomerModalState(2)},\n    pupillary_distance: {buttonTips: '选择光度瞳距', clickMethod: () => setOptCustomerModalState(3)},\n  };\n};\n\n//  ~~~~~~ 表单是图片列, 根据实际添加 ~~~~~~\nconst formKeysIsImages = [];\n\n//  ~~~~~~ 查询form keys, 根据实际添加 ~~~~~~\nconst formGetRequestParamsKeys = ['id', 'customer_name', 'sale_platform', 'order_state', 'range_add_time', 'has_print'];\n\n//  ~~~~~~ request请求条件(有可能和 ‘查询form keys’ 不同) keys, 根据实际添加(主要参考) ~~~~~~\nconst requestParamsKeys = ['customer_id', 'sale_platform', 'order_state', 'add_time_start', 'add_time_end', 'has_print'];\n\n//  ~~~~~~ 表单初始化值, 根据实际添加 ~~~~~~\nconst formInitialObj = {\n  \"id\": 0, \"input_staff_id\": 0, \"latest_modify_staff_id\": 0, \"customer_id\": 0, \"customer_name\": \"\",\n  \"group_purchase_commander_id\": 0, \"product_title\": \"\", \"diopter_r\": \"\", \"diopter_l\": \"\", \"pupillary_distance\": \"\",\n  \"receive_address\": \"\", \"products_quantity\": 0, \"purchase_amount\": 0, \"products_cost\": 0, \"sale_platform\": 0,\n  \"order_state\": 0, \"pay_table_id\": 0, \"pay_platform\": 0, \"add_time\": \"\", \"update_time\": \"\", \"explains\": \"\",\n  \"explains_customer\": \"\", \"has_print\": 2, \"image_cos_name1\": \"\", \"image_cos_name2\": \"\", \"image_cos_name3\": \"\", \"image_cos_name4\": \"\", \"image_cos_name5\": \"\"\n}\n\n// ~~~~~~ 图片列名称, 根据实际修改 ~~~~~~\nconst imageKeyNames = ['image_cos_name', ];\n\n// ~~~~~~ 图片总数量, 默认设置为1, 根据实际修改 ~~~~~~\nconst maxImagesNum = 5;\n\n// ~~~~~~ api请求url apiLists, 根据实际修改 ~~~~~~\nconst apiLists = ['records-admin/v1/purchaserecord', 'records-admin/v1/purchaserecordproducts', 'records-admin/v1/purchaserecorddeliveryaddress'];\n\n// 修改 ~~~~~~~ item keys ~~~~~~;\nconst ItemRendererComponent = ({ item, index, itemDetailClick }) => {\n  // 必须 每一行渲染 的组件, 修改 ~~~~~~~ item keys ~~~~~~;\n  console.log(item);\n  return (<div>\n    <ListsItem\n      listsIndex={index}\n      url={item.icon}\n      productTitle={item.name}\n      productEffects={`频道简介: ${item.front_desc}`}\n      salePrice={0}\n      clickDetailHandle={itemDetailClick}\n    ></ListsItem>\n  </div>);\n};\n\nconst updateDataList = (dataList, updatedObj, method=1) => {\n  // 更新数据列表 根据 updatedObj 的 id; method:1-update, 0-delete\n  const updatedObjId = updatedObj.id ? updatedObj.id : 0;\n  if (updatedObjId > 0) {\n    const copyDataList = [].concat(dataList);\n    for (let index = copyDataList.length - 1; index > -1; index--) {\n      const element = copyDataList[index];\n      if (element.id === updatedObjId) {\n        if (method === 1) {\n          // 更新\n          copyDataList[index] = { ...copyDataList[index], ...updatedObj };\n          console.log('update...');\n          return copyDataList;\n        }else if(method === 0) {\n          // 删除\n          copyDataList.splice(index, 1);\n          console.log('delete...');\n          return copyDataList\n        }\n      }\n    }\n  }\n  console.log('not handle...');\n  return dataList;\n}\n\nexport {\n  formKeys,\n  formDisabledKeys,\n  formNotShowKeys,\n  formKeysLabelsObj,\n  formKeySelectComponentsObj,\n  formKeysHandleButtonObj,\n  formKeysIsImages,\n  formGetRequestParamsKeys,\n  requestParamsKeys,\n  formInitialObj,\n  imageKeyNames,\n  maxImagesNum,\n  apiLists,\n  ItemRendererComponent,\n  updateDataList,\n};\n","import React from 'react';\n\nimport AxiosRequest from '../apis';\nimport { apiLists } from './purchase_records_columns_label_config';\n\n// PurchaseRecords 的request请求\n\nconst PurchaseRecordsRequestGet = ({ requestCount, reqParams, responseDataHandle }) => {\n  // PurchaseRecords Get请求\n  const api = apiLists[0];\n  const method = 'get';\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount.length}\n    ></AxiosRequest>\n  );\n};\nPurchaseRecordsRequestGet.defaultProps = {\n  requestCount: 0,\n  reqParams: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nconst PurchaseRecordsRequestPost = ({ requestCount, reqObject, responseDataHandle }) => {\n  // PurchaseRecords post请求\n  const api = [].concat(apiLists)[0];\n  const method = 'post';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nPurchaseRecordsRequestPost.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n}\n\nconst PurchaseRecordsRequestPut = ({ requestCount, reqObject, responseDataHandle, id }) => {\n  // PurchaseRecords put请求\n  const api = [].concat(apiLists)[0] + `/${id}`;\n  const method = 'put';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nPurchaseRecordsRequestPut.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  id: 0\n}\n\nconst PurchaseRecordsRequestDelete = ({ requestCount, responseDataHandle, id }) => {\n  // PurchaseRecords delete请求\n  const api = [].concat(apiLists)[0] + `/${id}`;\n  const method = 'delete';\n  const reqParams = {};\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nPurchaseRecordsRequestDelete.defaultProps = {\n  requestCount: 0,\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  id: 0\n}\n\nexport {\n  PurchaseRecordsRequestGet,\n  PurchaseRecordsRequestPost,\n  PurchaseRecordsRequestPut,\n  PurchaseRecordsRequestDelete\n};\n","import React, { useEffect, useRef, useState } from 'react';\nimport { Modal, Divider, message } from 'antd';\n\nimport { CustomerOptModal } from '../modals/customer_opt';\nimport { DioptersOptModal } from '../modals/diopters_opt';\nimport { StsUploadImagesList } from '../upload_files/sts_upload_files_list';\nimport { PurchaseRecordsRequestPost } from './purchase_records_requests';\nimport { CustomForm } from '../base_components/form_component';\n\nimport {\n  formKeys,\n  formDisabledKeys,\n  // formNotShowKeys,\n  formKeysLabelsObj,\n  formKeySelectComponentsObj,\n  formKeysHandleButtonObj,\n  // formKeysIsImages,\n  // formGetRequestParamsKeys,\n  formInitialObj,\n  imageKeyNames,\n  maxImagesNum\n} from './purchase_records_columns_label_config';\n\n// ~~~~~~ 表单不显示列, 根据实际添加 ~~~~~~\nconst formNotShowKeys = [ \"id\", \"group_purchase_commander_id\", \"group_purchase_commander_name\", \"pay_table_id\", \"add_time\", \"update_time\",\n  \"input_staff_id\", \"latest_modify_staff_id\", \"customer_id\", \"receive_address\", \"explains_customer\",\n  \"image_cos_name1\", \"image_cos_name2\", \"image_cos_name3\", \"image_cos_name4\", \"image_cos_name5\",\n  \"has_print\"\n];\n\n// 新建 Modal\n\nconst CreatePurchaseRecords = ({ visible, setVisible, reloadListCount, setReloadListCount }) => {\n\n  const purchaseRecordsImageObj = useRef({});\n  const oldObj = useRef({createCount: 0});\n  const [dioptersObj, setDioptersObj] = useState({diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"});\n\n  const [oldFormObj, setOldFormObj] = useState({});\n\n  const [initFormCount, setInitFormCount] = useState(0);\n\n  const [postRequestCount, setPostRequestCount] = useState(0);\n  const reqObject = useRef({});\n\n  const customerObj = useRef({});\n\n  const [customerOptModalState, setCustomerOptModalState] = useState(0);\n  const selectCustomerHandle = (cusotomerObj) => {\n    // 选择顾客操作\n    console.log(cusotomerObj, cusotomerObj.name);\n    let showName = cusotomerObj.name;\n    if (Object.keys(cusotomerObj).includes('wx_info')) {\n      showName = `${showName}(${cusotomerObj.wx_info.wx_nickname})`;\n    }\n    customerObj.current = cusotomerObj;\n    setOldFormObj({ customer_name: showName });\n    setCustomerOptModalState(false);\n  };\n  const selectDioptersHandle = (dioptersObj) => {\n    // 选择光度后操作, 保存当前光度和瞳距, 更新表单\n    setDioptersObj(dioptersObj);  // 保存当前光度和瞳距\n    setOldFormObj(dioptersObj);   // 更新表单\n    setCustomerOptModalState(0);            // 关闭选择表单弹出框\n};\n\n  const postResponseDataHandle = (respObj) => {\n    // 表单提交后的操作\n    if (Object.keys(respObj).includes('code')\n      && respObj.code === 1000) {\n      closeModal();\n      setReloadListCount(reloadListCount + 1)\n    } else {\n      message.error('网络错误...');\n    }\n  }\n\n  useEffect(() => {\n    if (visible) {\n      // 初始化表格和图片\n      purchaseRecordsImageObj.current = {};  // 清空图片数据\n      customerObj.current = {};   // 清空选择的顾客信息\n      oldObj.current = {createCount: oldObj.current.createCount + 1};  // 初始化图片\n      setInitFormCount(initFormCount + 1);  // 初始化表格\n      setDioptersObj({diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"});   // 初始化光度\n    }\n  }, [visible]);\n\n  const closeModal = () => {\n    // 关闭Modal\n    setVisible(false);\n  }\n\n  const purchaseRecordsImageUploaded = (imagesObj) => {\n    // 图片上传后操作\n    purchaseRecordsImageObj.current = { ...imagesObj };\n  }\n\n  const onFinish = (values) => {\n    // 提交表单 表单没有customer_id, 提交时需要添加\n    let upObj = { ...values, ...purchaseRecordsImageObj.current, customer_id: customerObj.current.id, };\n    // let newDate = new Date(upObj.end_time);\n    // upObj.end_time = parseInt(newDate.getTime());    // 时间转时间戳\n    delete upObj.customer_name;\n    // upObj.has_print = Object.keys(upObj).includes('has_print') ? upObj.has_print === 1 : false;\n    reqObject.current = upObj;\n    console.log(reqObject.current);\n    setPostRequestCount(postRequestCount + 1);\n  }\n\n  return (\n    <>\n      <Modal visible={visible}\n        title=\"PurchaseRecords 新建\"\n        closable={false}\n        footer={null}\n      >\n        <div style={{ width: '100%', height: 'auto', textAlign: 'center' }}>\n          <StsUploadImagesList\n            oldObj={oldObj.current}\n            maxImagesNum={maxImagesNum}\n            imageKeyName={imageKeyNames[0]}\n            onChange={purchaseRecordsImageUploaded}></StsUploadImagesList>\n        </div>\n        <Divider></Divider>\n\n        <CustomForm\n          columns={formKeys}\n          disabledKeys={formDisabledKeys}\n          notShowKeys={formNotShowKeys}\n          formKeyLabelObj={formKeysLabelsObj}\n          formKeySelectComponentsObj={formKeySelectComponentsObj}\n          formKeysItemButtonObj={formKeysHandleButtonObj(setCustomerOptModalState)}\n          onFinish={onFinish}\n          cancelHandle={closeModal}\n          showDeleteButton={false}\n          updateFormObj={oldFormObj}\n          formInitialObj={formInitialObj}\n          initFormCount={initFormCount}\n        ></CustomForm>\n\n        <PurchaseRecordsRequestPost\n          requestCount={postRequestCount}\n          reqObject={reqObject.current}\n          responseDataHandle={postResponseDataHandle}></PurchaseRecordsRequestPost>\n\n        <CustomerOptModal\n          modalState={customerOptModalState === 1}\n          setModalState={setCustomerOptModalState}\n          selectCustomerHandle={selectCustomerHandle}></CustomerOptModal>\n\n        <DioptersOptModal\n          sourceDiopterObj={dioptersObj}\n          modalState={customerOptModalState === 3}\n          setModalState={setCustomerOptModalState}\n          selectHandle={selectDioptersHandle}></DioptersOptModal>\n      </Modal>\n    </>\n  )\n}\n\nCreatePurchaseRecords.defaultProps = {\n  visible: false,\n  setVisible: (val) => console.log(val),\n  reloadListCount: 0,\n  setReloadListCount: (booleanVal) => console.log(booleanVal)\n}\n\nexport default CreatePurchaseRecords;\n","import React, { useState } from 'react';\nimport { Drawer } from 'antd';\n\nimport { CustomForm } from '../base_components/form_component';\nimport { CustomerOptModal } from '../modals/customer_opt';\n\nimport {\n    formKeysLabelsObj,\n    // formDisabledKeys,\n    formKeySelectComponentsObj,\n    formKeysHandleButtonObj,\n    formGetRequestParamsKeys,\n    // requestParamsKeys,\n    formInitialObj\n} from './purchase_records_columns_label_config';\nimport { useRef } from 'react';\n// 列表查询 form\n\nconst queryFormDisabledKeys = ['customer_name'];\n\nconst PurchaseRecordsQueryDrawerForm = ({ visible, setVisible, queryHandle }) => {\n    const choseCustomerId = useRef(0);\n    const [initFormCount, setInitFormCount] = useState(0);\n    const [updateFormObj, setUpdateFormObj] = useState({});\n\n    const [customerOptModalState, setCustomerOptModalState] = useState(false);\n    const selectCustomerHandle = (cusotomerObj) => {\n        // 选择顾客操作\n        console.log(cusotomerObj, cusotomerObj.name);\n        // 当前选中的顾客 id\n        choseCustomerId.current = cusotomerObj.id;\n\n        let showName = cusotomerObj.name;\n        if (Object.keys(cusotomerObj).includes('wx_info')) {\n          showName = `${showName}(${cusotomerObj.wx_info.wx_nickname})`;\n        }\n        setUpdateFormObj({ customer_name: showName });\n        setCustomerOptModalState(false);\n    };\n\n    const closeDrawer = () => {\n        // 关闭查询抽屉\n        setInitFormCount(initFormCount + 1);\n        setVisible(false);\n    };\n\n    const onFinish = (formObj) => {\n        // 提交查询 根据具体情况更新 fromObj\n        // ~~~~~~~ 具体情况更新 fromObj ~~~~~~\n        // requestParamsKeys = ['customer_id', 'sale_platform', 'order_state', 'add_time_start', 'add_time_end', 'has_print'];\n        let copyFormObj = { ...formObj };\n        let queryParamsObj = {};\n        const queryId = formObj.id ? parseInt(formObj.id) : 0;\n        if (queryId > 0) {\n            // console.log(queryId);\n            queryParamsObj.id = queryId;\n        }else {\n            if (choseCustomerId.current > 0) {\n                queryParamsObj.customer_id = choseCustomerId.current;\n            }\n            const sale_platform = copyFormObj.sale_platform;\n            if (sale_platform > 0 && sale_platform < 6) {\n                queryParamsObj.sale_platform = sale_platform;\n            }\n            const order_state = copyFormObj.order_state\n            if (order_state > 0 && order_state < 5) {\n                queryParamsObj.order_state = order_state;\n            }\n            // 查询日期区间\n            const rangeDates = copyFormObj.range_add_time;\n            if (Array.isArray(rangeDates) && rangeDates.length === 2) {\n                queryParamsObj.add_time_start = rangeDates[0].format('YYYY-MM-DD');\n                queryParamsObj.add_time_end = rangeDates[1].format('YYYY-MM-DD');\n            }\n            // const\n            const has_print = copyFormObj.has_print;\n            if (has_print === 0 || has_print === 1) {\n                queryParamsObj.has_print = has_print;\n            }\n        }\n        queryHandle(queryParamsObj);\n        setTimeout(() => {\n            closeDrawer();\n        }, 50);\n    };\n\n    return (\n        <>\n            <Drawer\n                title=\"销售记录查询\"\n                width=\"100%\"\n                height=\"400px\"\n                placement=\"top\"\n                onClose={closeDrawer}\n                visible={visible}\n                bodyStyle={{ paddingBottom: 80 }}\n                footer={null}\n            >\n                <CustomForm\n                    columns={formGetRequestParamsKeys}\n                    disabledKeys={queryFormDisabledKeys}\n                    formKeyLabelObj={formKeysLabelsObj}\n                    formKeySelectComponentsObj={formKeySelectComponentsObj}\n                    formKeysItemButtonObj={formKeysHandleButtonObj(setCustomerOptModalState)}\n                    onFinish={onFinish}\n                    cancelHandle={() => setVisible(false)}\n                    showDeleteButton={false}\n                    formInitialObj={formInitialObj}\n                    initFormCount={initFormCount}\n                    updateFormObj={updateFormObj}\n                ></CustomForm>\n            </Drawer>\n            <CustomerOptModal\n                modalState={customerOptModalState}\n                setModalState={setCustomerOptModalState}\n                selectCustomerHandle={selectCustomerHandle}></CustomerOptModal>\n        </>\n    );\n};\n\nPurchaseRecordsQueryDrawerForm.defaultProps = {\n    visible: false,\n    setVisible: (booleanValue) => { console.log(booleanValue); },\n    queryHandle: (queryParamsObj) => { console.log(queryParamsObj); }\n};\n\nexport default PurchaseRecordsQueryDrawerForm;\n","import React, { useRef, useState, useEffect } from 'react';\nimport { Modal, Divider, message } from 'antd';\n\n// import StsUploadFile from '../upload_files/sts_upload_file';\nimport { StsUploadImagesList } from '../upload_files/sts_upload_files_list';\nimport { PurchaseRecordsRequestPut, PurchaseRecordsRequestDelete } from './purchase_records_requests';\nimport { CustomForm } from '../base_components/form_component';\nimport { CustomerOptModal } from '../modals/customer_opt';\nimport { DioptersOptModal } from '../modals/diopters_opt';\nimport PageIsLoading from '../base_components/page_is_loading';\nimport { customerShowName } from '../base_components/purchase_records_goods_delivery_address/purchase_records_common_funcs';\n\nimport {\n    formKeys,\n    formDisabledKeys,\n    formNotShowKeys,\n    formKeysLabelsObj,\n    formKeySelectComponentsObj,\n    formKeysHandleButtonObj,\n    formGetRequestParamsKeys,\n    formInitialObj,\n    imageKeyNames,\n    maxImagesNum\n} from './purchase_records_columns_label_config';\n\n// 编辑 PurchaseRecords\n\nconst UpdatePurchaseRecords = ({ visible, setVisible, oldObj, successDeletedOrUpdated }) => {\n    const [pageLoading, setPageLoading] = useState(false);\n    // const [oldPurchaseRecordsHomeImages, setOldPurchaseRecordsHomeImages] = useState([]);\n    const purchaseRecordsImageObj = useRef({});\n    const [dioptersObj, setDioptersObj] = useState({diopter_l: \"\", diopter_r: \"\", pupillary_distance: \"\"});\n\n    // const [oldPurchaseRecordsImageUrl, setOldPurchaseRecordsImageUrl] = useState('');\n    const [oldFormObj, setOldFormObj] = useState({});\n\n    const [initFormCount, setInitFormCount] = useState(0);\n\n    const [putRequestCount, setPutRequestCount] = useState(0);\n    const reqObject = useRef({});\n    const putResponseDataHandle = (respObj) => {\n        setPageLoading(false);\n        if (Object.keys(respObj).includes('code')\n            && respObj.code === 1000) {\n            message.success('修改成功');\n            // 成功删除或更新后操作 参数 {method: 'update/delete', result: respObj}\n            successDeletedOrUpdated({method: 'update', result: respObj})\n            setVisible(0);\n        } else {\n            message.error('网络错误...');\n        }\n    }\n\n    const [deleteRequestCount, setDeleteRequestCount] = useState(0);\n    const deletePurchaseRecords = () => {\n        // 删除当前对象\n        if (Object.keys(oldObj).includes('id') && oldObj.id > 0) {\n            setDeleteRequestCount(deleteRequestCount + 1);\n            \n            // 成功删除或更新后操作 参数 {method: 'update/delete', result: respObj}\n            successDeletedOrUpdated({method: 'delete', result: null});\n        } else {\n            // 修改过顾客后无法删除，需要重新打开删除\n            message.warn('修改顾客后不能直接删除, 关闭并重新打开再删除');\n        }\n    };\n\n    const [customerOptModalState, setCustomerOptModalState] = useState(0);\n    const selectCustomerHandle = (cusotomerObj) => {\n        // 选择顾客操作\n        console.log(cusotomerObj, cusotomerObj.name);\n        let showName = cusotomerObj.name;\n        if (Object.keys(cusotomerObj).includes('wx_info')) {\n            showName = `${showName}(${cusotomerObj.wx_info.wx_nickname})`;\n        }\n        // setOldFormObj({ ...oldFormObj,\n        setOldFormObj({\n            customer_info: cusotomerObj,\n            customer_id: cusotomerObj.id,\n            customer_name: showName\n        });\n        setCustomerOptModalState(false);\n    };\n\n    const selectDioptersHandle = (dioptersObj) => {\n        // 选择光度后操作, 保存当前光度和瞳距, 更新表单\n        setDioptersObj(dioptersObj);  // 保存当前光度和瞳距\n        setOldFormObj(dioptersObj);   // 更新表单\n        setCustomerOptModalState(0);            // 关闭选择表单弹出框\n    };\n\n    useEffect(() => {\n        if (visible > 0) {\n            initImgAndForm();   // 初始化表格和图片 和光度对象\n        }\n    }, [visible, oldObj]);\n\n    const initImgAndForm = () => {\n        // 初始化表格和图片和光度对象\n        setInitFormCount(initFormCount + 1);  // 初始化表单\n        let customer_name = '';\n        let hasPrintNum = 0;\n        try {\n            if (Object.keys(oldObj).includes('customer_info')) {\n                customer_name = customerShowName(oldObj.customer_info);\n            }\n            hasPrintNum = oldObj.has_print ? 1 : 0;\n        } catch (error) {\n            console.error(error);\n            console.log(oldObj);\n        }\n        const oldPurchaseRecord = { ...oldObj, customer_name: customer_name, has_print: hasPrintNum };\n        setOldFormObj(oldPurchaseRecord);  // 给表单赋值\n\n        // 保存光度对象\n        setDioptersObj({\n            diopter_r: oldPurchaseRecord.diopter_r,\n            diopter_l: oldPurchaseRecord.diopter_l,\n            pupillary_distance: oldPurchaseRecord.pupillary_distance,\n        });\n    }\n\n    const purchaseRecordsImageUploaded = (imagesObj) => {\n        // 轮播图上传后操作\n        purchaseRecordsImageObj.current = imagesObj;\n    }\n\n    const onFinish = (values) => {\n        // 提交表单 表单没有customer_id, 提交时需要添加\n        const has_print_boolean = values.has_print === 1 ? true : false;\n        let upObj = {\n            ...values, ...purchaseRecordsImageObj.current,\n            customer_id: oldFormObj.customer_id,\n            has_print: has_print_boolean\n        };\n        console.log(upObj);\n        setPageLoading(true);\n        // 时间转时间戳\n        // let newDate = new Date(upObj.end_time);\n        // upObj.end_time = parseInt(newDate.getTime());    // 时间转时间戳\n        // console.log(upObj.end_time);\n        reqObject.current = upObj;\n        setPutRequestCount(putRequestCount + 1);\n    }\n\n    return (\n        <Modal visible={visible}\n            title=\"PurchaseRecords\"\n            closable={false}\n            footer={null}\n        >\n            <PageIsLoading spinning={pageLoading}></PageIsLoading>\n            <div style={{ width: '100%', height: 'auto', textAlign: 'center' }}>\n                <StsUploadImagesList\n                    maxImagesNum={maxImagesNum}\n                    imageKeyName=\"image_cos_name\"\n                    oldObj={oldObj}\n                    onChange={purchaseRecordsImageUploaded}\n                ></StsUploadImagesList>\n            </div>\n            <Divider></Divider>\n\n            <CustomForm\n                columns={formKeys}\n                disabledKeys={formDisabledKeys}\n                notShowKeys={formNotShowKeys}\n                formKeyLabelObj={formKeysLabelsObj}\n                formKeySelectComponentsObj={formKeySelectComponentsObj}\n                formKeysItemButtonObj={formKeysHandleButtonObj(setCustomerOptModalState)}\n                onFinish={onFinish}\n                cancelHandle={() => setVisible(0)}\n                showDeleteButton={true}\n                deleteHandle={deletePurchaseRecords}\n                updateFormObj={oldFormObj}\n                formInitialObj={{}}\n                initFormCount={initFormCount}\n            ></CustomForm>\n\n            <PurchaseRecordsRequestPut\n                requestCount={putRequestCount}\n                reqObject={reqObject.current}\n                responseDataHandle={putResponseDataHandle}\n                id={reqObject.current.id}></PurchaseRecordsRequestPut>\n            <PurchaseRecordsRequestDelete\n                requestCount={deleteRequestCount}\n                responseDataHandle={(respObj) => setVisible(0)}\n                id={oldObj.id}></PurchaseRecordsRequestDelete>\n            <CustomerOptModal\n                modalState={customerOptModalState === 1}\n                setModalState={setCustomerOptModalState}\n                selectCustomerHandle={selectCustomerHandle}></CustomerOptModal>\n            <DioptersOptModal\n            sourceDiopterObj={dioptersObj}\n            modalState={customerOptModalState === 3}\n            setModalState={setCustomerOptModalState}\n            selectHandle={selectDioptersHandle}></DioptersOptModal>\n        </Modal>\n    )\n}\n\nUpdatePurchaseRecords.defaultProps = {\n    visible: false,\n    setVisible: (val) => console.log(val),\n    oldObj: {}\n}\n\nexport default UpdatePurchaseRecords;\n","import React from 'react';\nimport { pca, pcaa } from 'area-data'; // v3 or higher\nimport 'react-area-linkage/dist/index.css'; // v2 or higher\nimport { AreaSelect, AreaCascader } from 'react-area-linkage';\n\nconst ChinaAreaSelect = ({initAreaList, selectedAreaHandle}) => {\n    // 中国地区选择\n    const selectedChange = (selectedArea) => {\n        console.log(selectedArea);\n        selectedAreaHandle(selectedArea)\n    }\n    return (\n        <AreaSelect onChange={selectedChange} level={2} data={pcaa} defaultArea={initAreaList} />\n    )\n}\nChinaAreaSelect.defaultProps = {\n    initAreaObj: [],\n    selectedAreaHandle: selectedArea => console.log(selectedArea),\n}\n\nexport { ChinaAreaSelect };\n","import React from 'react';\nimport { sendAxiosRequest } from '../apis/sendRequest';\n\n// 自定义 Select 组件的request请求, ～～～～～～ 根据需要重写 ～～～～～～\n\nconst channelsRequestGet = () => {\n  // 频道 Get 请求\n  return new Promise(function (resolve, reject) {\n    const api = 'channel/v1/channels';\n    const method = 'get';\n    const reqParams = {};\n    const reqObject = {};\n    sendAxiosRequest(api, method, reqParams, reqObject)\n      .then(respObj => {\n        resolve(respObj);\n      })\n      .catch(err => {\n        console.log(err);\n        reject(err);\n      });\n  });\n};\n\nconst categoryRequestGet = () => {\n  // 分类 Get请求\n  return new Promise(function (resolve, reject) {\n    const api = 'category-admin/v1/category';\n    const method = 'get';\n    const reqParams = {};\n    const reqObject = {};\n    sendAxiosRequest(api, method, reqParams, reqObject)\n      .then(respObj => {\n        resolve(respObj);\n      })\n      .catch(err => {\n        console.log(err);\n        reject(err);\n      });\n  });\n}\n\nconst expressCompanyRequestGet = () => {\n  // 快递公司 Get请求\n  return new Promise(function (resolve, reject) {\n    const api = 'kdniao-admin/v1/kdniaoexpresscompanycodes';\n    const method = 'get';\n    const reqParams = {};\n    const reqObject = {};\n    sendAxiosRequest(api, method, reqParams, reqObject)\n      .then(respObj => {\n        resolve(respObj);\n      })\n      .catch(err => {\n        console.log(err);\n        reject(err);\n      });\n  });\n}\n\nexport {\n  channelsRequestGet,\n  categoryRequestGet,\n  expressCompanyRequestGet,\n};\n","import React, { useState, useEffect } from 'react';\n// import { DatePicker } from 'antd';\nimport { CustomSelect } from '../base_components/select_component';\nimport ListsItem from '../base_components/list_item';\nimport { expressCompanyRequestGet } from './custom_select_requests';\n\n// Deliver 列 配置\n\n// ~~~~~~ 表单列, 需添加 ~~~~~~\nconst formKeys = [\"id\", \"express_company_code\", \"express_number\"];\n\n// ~~~~~~ 表单不能编辑列, 根据实际添加 ~~~~~~\nconst formDisabledKeys = [];\n\n// ~~~~~~ 表单不显示列, 根据实际添加 ~~~~~~\nconst formNotShowKeys = [\"password\", \"id\"];\n\n// ~~~~~~ 表单列名称 label, 需添加 ~~~~~~\nconst formKeysLabelsObj = {\"id\": \"ID\", \"express_company_code\": \"快递公司\", \"express_number\": \"快递单号\", \"add_time\": \"创建时间\", \"update_time\": \"更新时间\", \"explains\": \"说明\"};\n\n//  ~~~~~~ 选择框, 根据实际添加 ~~~~~~\nconst SelectExpressCompany = ({ value = '', onChange = e => console.log(e) }) => {\n  const [selectOptions, setSelectOptions] = useState([]);\n  useEffect(() => {\n    expressCompanyRequestGet().then(respObj => {\n        const resList = respObj.results;\n        let updateOptions = [];\n        for (let index = 0; index < resList.length; index++) {\n          const element = resList[index];\n          updateOptions.push({\n            value: element.express_company_code,\n            label: element.express_company_name\n          })\n        }\n        setSelectOptions(updateOptions);\n      }).catch(error => {\n        console.log(error);\n        setSelectOptions([]);\n      });\n  }, []);\n  return (<CustomSelect options={selectOptions} value={value} onChange={onChange}></CustomSelect>)\n};\n// const SelectEndTime = (<DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />);\n// const SelectBoolean = (<CustomSelect options={[{ value: 0, label: '否' }, { value: 1, label: '是' }]} />);\nconst formKeySelectComponentsObj = {\n  'express_company_code': <SelectExpressCompany />,\n  // exampleColumn: SelectBoolean,\n};\n\n// ~~~~~~ 表单自定义操作按钮, 根据实际添加 ~~~~~~\nconst formKeysHandleButtonObj = (setOptModalState) => {\n  return {\n    group_purchase_commander_name: {buttonTips: '团购团长', clickMethod: () => setOptModalState(true)},\n  };\n};\n\n// ~~~~~~ 表单是图片列, 根据实际添加(废弃, 改用 imageKeyNames) ~~~~~~\n// const formKeysIsImages = [];\n\n// ~~~~~~ 表单 get 请求条件key, 根据实际添加 ~~~~~~\nconst formGetRequestParamsKeys = [];\n\n//  ~~~~~~ 表单初始化值, 根据实际添加 ~~~~~~\nconst formInitialObj = {\"id\": 0, \"add_time\": \"创建时间\", \"\": \"\", \"explains\": \"\"}\n\n// ~~~~~~ 表单值规则, 根据实际添加 ~~~~~~\n// formRulesList = {formKey: [{require: true, message: 'Please input Password!',}, ]};\nconst formRulesList = {\"password\": [{required: true, message: 'Please input Password!',}, ], }\n\n// ~~~~~~ 图片列名称, 根据实际修改(多张图片去掉最后序号数字) ~~~~~~\nconst imageKeyNames = ['pic'];\n\n// ~~~~~~ 图片总数量, 默认设置为1, 根据实际修改 ~~~~~~\nconst maxImagesNum = 1;\n\n// ~~~~~~ api请求url apiLists, 根据实际修改 ~~~~~~\nconst apiLists = ['delivery-address/v1/customerdeliveryaddress', ];\n\n// 修改 ~~~~~~~ item keys ~~~~~~;\nconst ItemRendererComponent = ({ item, index, itemDetailClick, selectButtonOnClick }) => {\n  // 必须 每一行渲染 的组件, 修改 ~~~~~~~ item keys ~~~~~~;\n  const [customerName, setCustomerName] = useState('');\n  const [avatarUrl, setAvatarUrl] = useState('');\n\n  useEffect(() => {\n    // 显示姓名 + 微信昵称\n    const customerName = item.name ? item.name : '';\n    let wxNickname = '';\n\n    const customerAvatar = item.avatar_url ? item.avatar_url : '';\n    let wxAvatar = '';\n    if (Object.keys(item).includes('wx_info') && Object.keys(item.wx_info).includes('wx_nickname')) {\n      wxNickname = item.wx_info.wx_nickname;\n      wxAvatar = item.wx_info.wx_avatar;\n    }\n\n    setCustomerName(wxNickname.length > 0 ? `${customerName}(${wxNickname})` : customerName);\n    setAvatarUrl(customerAvatar.length > 0 ? customerAvatar : wxAvatar);\n  }, [item]);\n\n  const [customButtons, setCustomButtons] = useState([]);\n\n  useEffect(() => {\n    if (selectButtonOnClick) {\n      const selectButtonObj = {\n        buttonLabel: '选择',\n        onClick: (listIndex) => {\n          selectButtonOnClick(item, index);\n        },\n      };\n      setCustomButtons([selectButtonObj,]);\n    }\n    \n  }, [selectButtonOnClick]);\n\n  // console.log(item);\n  return (<div>\n    <ListsItem\n      listsIndex={index}\n      url={avatarUrl}\n      productTitle={customerName}\n      productEffects={`手机: ${item.mobile}`}\n      salePrice={0}\n      clickDetailHandle={itemDetailClick}\n      customButtons={customButtons}\n    ></ListsItem>\n  </div>);\n};\n\nexport {\n  formKeys,\n  formDisabledKeys,\n  formNotShowKeys,\n  formKeysLabelsObj,\n  formKeySelectComponentsObj,\n  formKeysHandleButtonObj,\n  // formKeysIsImages,\n  formGetRequestParamsKeys,\n  formInitialObj,\n  formRulesList,\n  imageKeyNames,\n  maxImagesNum,\n  apiLists,\n  ItemRendererComponent\n};\n","import React from 'react';\n\nimport AxiosRequest from '../apis';\nimport { apiLists } from './deliver_columns_label_config';\n\n// Deliver 的request请求\n\nconst DeliverRequestGet = ({ requestCount, reqParams, responseDataHandle }) => {\n  // Deliver Get请求\n  const api = apiLists[0];\n  const method = 'get';\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nDeliverRequestGet.defaultProps = {\n  requestCount: 0,\n  reqParams: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n};\n\nconst DeliverRequestPost = ({ requestCount, reqObject, responseDataHandle }) => {\n  // Deliver post请求\n  const api = [].concat(apiLists)[0];\n  const method = 'post';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nDeliverRequestPost.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n}\n\nconst DeliverRequestPut = ({ requestCount, reqObject, responseDataHandle, id }) => {\n  // Deliver put请求\n  const api = [].concat(apiLists)[0] + `/${id}`;\n  const method = 'put';\n  const reqParams = {};\n  // const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nDeliverRequestPut.defaultProps = {\n  requestCount: 0,\n  reqObject: {},\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  id: 0\n}\n\nconst DeliverRequestDelete = ({ requestCount, responseDataHandle, id }) => {\n  // Deliver delete请求\n  const api = [].concat(apiLists)[0] + `/${id}`;\n  const method = 'delete';\n  const reqParams = {};\n  const reqObject = {};\n\n  return (\n    <AxiosRequest\n      responseDataHandle={responseDataHandle} api={api} method={method}\n      reqParams={reqParams} reqObject={reqObject} requestCount={requestCount}\n    ></AxiosRequest>\n  );\n};\nDeliverRequestDelete.defaultProps = {\n  requestCount: 0,\n  responseDataHandle: (respObj) => { console.log(respObj); },\n  id: 0\n}\n\nexport {\n  DeliverRequestGet,\n  DeliverRequestPost,\n  DeliverRequestPut,\n  DeliverRequestDelete\n};\n","import React, { useRef, useState, useEffect } from 'react';\nimport { Modal, Divider, message } from 'antd';\n\n// import StsUploadFile from '../../upload_files/sts_upload_file';\nimport { StsUploadImagesList } from '../upload_files/sts_upload_files_list';\nimport { DeliverRequestPut, DeliverRequestDelete } from './deliver_requests';\nimport { CustomForm, CustomSingleRowForm } from '../base_components/form_component';\n\nimport {\n  formKeys,\n  formDisabledKeys,\n  formNotShowKeys,\n  formKeysLabelsObj,\n  formKeySelectComponentsObj,\n  formKeysIsImages,\n  formGetRequestParamsKeys,\n  // formInitialObj,\n  formRulesList,\n  imageKeyNames,\n  maxImagesNum\n} from './deliver_columns_label_config';\n\n// 编辑 Deliver\n\nconst UpdateDeliver = ({ visible, setVisible, oldObj, purchaseRecordId, customerId }) => {\n  const [oldDeliverHomeImages, setOldDeliverHomeImages] = useState([]);\n  const deliverImageObj = useRef({});\n\n  const [oldDeliverImageUrl, setOldDeliverImageUrl] = useState('');\n  const [oldFormObj, setOldFormObj] = useState({});\n\n  const [initFormCount, setInitFormCount] = useState(0);\n\n  const [putRequestCount, setPutRequestCount] = useState(0);\n  const reqObject = useRef({});\n  const putResponseDataHandle = (respObj) => {\n    if (Object.keys(respObj).includes('code')\n      && respObj.code === 1000) {\n      message.success('修改成功');\n      // setReloadListCount(reloadListCount + 1);\n      setVisible(false);\n    } else {\n      message.error('网络错误...');\n    }\n  }\n\n  const [deleteRequestCount, setDeleteRequestCount] = useState(0);\n\n  const deleteDeliver = () => {\n    // 删除当前对象\n    console.log('Delete handle')\n    // setDeleteRequestCount(deleteRequestCount + 1);\n    // setReloadListCount(reloadListCount + 1);\n  };\n\n  useEffect(() => {\n    initImgAndForm();   // 初始化表格和图片\n  }, [oldObj]);\n\n  const initImgAndForm = () => {\n    // 初始化表格和图片\n    setInitFormCount(initFormCount + 1);  // 初始化表格\n    setOldFormObj({ ...oldObj });  // 给表格赋值\n\n    // 生成图片列表\n    let deliverHomeImgs = [];\n    const imgKey = imageKeyNames[0];\n    for (let index = 1; index < 10; index++) {\n      const currentCosNameKey = imgKey + index;\n      const currentUrlKey = currentCosNameKey + '_url';\n      const currentCosName = oldObj[currentCosNameKey];\n      const currentUrl = oldObj[currentUrlKey];\n      if (typeof currentCosName === 'string' && currentCosName.length > 5) {\n        deliverHomeImgs.push({\n          cosNameKey: currentCosNameKey,\n          cosName: currentCosName,\n          urlKey: currentUrlKey,\n          url: currentUrl\n        });\n      }\n    }\n    // console.log(deliverHomeImgs);\n    setOldDeliverHomeImages(deliverHomeImgs);   // 更新图片列表\n  }\n\n  const deliverImageUploaded = (imagesObj) => {\n    // 轮播图上传后操作\n    deliverImageObj.current = imagesObj;\n  }\n\n  const onFinish = (values) => {\n    // 提交表单\n    let upObj = { ...values, 'purchase_record_id': purchaseRecordId, 'customer_id': customerId };\n    console.log(upObj);\n    // 时间转时间戳\n    // let newDate = new Date(upObj.end_time);\n    // upObj.end_time = parseInt(newDate.getTime());    // 时间转时间戳\n    // console.log(upObj.end_time);\n    reqObject.current = upObj;\n    setVisible(false)\n    // setPutRequestCount(putRequestCount + 1);\n  }\n\n  return (\n    <>\n      <Divider></Divider>\n      <CustomSingleRowForm\n        columns={formKeys}\n        disabledKeys={formDisabledKeys}\n        notShowKeys={formNotShowKeys}\n        formKeyLabelObj={formKeysLabelsObj}\n        formKeySelectComponentsObj={formKeySelectComponentsObj}\n        onFinish={onFinish}\n        cancelHandle={() => setVisible(false)}\n        showDeleteButton={false}\n        deleteHandle={deleteDeliver}\n        updateFormObj={oldFormObj}\n        formInitialObj={{}}\n        rulesObj={formRulesList}\n        initFormCount={initFormCount}\n      ></CustomSingleRowForm>\n\n      <DeliverRequestPut\n        requestCount={putRequestCount}\n        reqObject={reqObject.current}\n        responseDataHandle={putResponseDataHandle}\n        id={oldFormObj.id}></DeliverRequestPut>\n      <DeliverRequestDelete\n        requestCount={deleteRequestCount}\n        responseDataHandle={(respObj) => setVisible(false)}\n        id={oldFormObj.id}></DeliverRequestDelete>\n    </>\n  )\n}\n\nUpdateDeliver.defaultProps = {\n  visible: false,\n  setVisible: (val) => console.log(val),\n  oldObj: {},\n  purchaseRecordId: 0,\n  customerId: 0\n}\n\nexport default UpdateDeliver;\n","import React, { useState, useRef } from 'react';\n// import { navigate, Link } from 'gatsby';\nimport { Button, Row, Col, Space, Tooltip } from 'antd';\nimport { ReloadOutlined, SearchOutlined, LeftOutlined } from '@ant-design/icons';\n\nimport { ChinaAreaSelect } from './deliver_area_select';\nimport UpdateDeliver from './update_deliver';\n// Deliver 入口组件\n\nconst DeliverComponent = ({ selectButtonOnClick = null, purchaseRecordId = 0, customerId = 0 }) => {\n  const reqParams = useRef({ page: 0 });\n\n  const [reloadListCount, setReloadListCount] = useState(1);\n  const [visible, setVisible] = useState(false);\n  const [oldObj, setOldObj] = useState({});\n\n  const [showEditDeliver, setShowEditDeliver] = useState(false);\n\n  const queryHandle = (currentRequestParams) => {\n    // 查询操作\n    reqParams.current = { ...currentRequestParams };\n    // 触发重新读取数据\n    setReloadListCount(reloadListCount + 1)\n    // console.log('search...');\n  };\n\n  const initReloadList = () => {\n    // 刷新列表, 删除所有查询条件\n    reqParams.current = { page: 0 };\n    setReloadListCount(reloadListCount + 1);\n  }\n\n  const selectedAreaHandle = selectedArea => {\n    // 选择地区后操作\n    console.log(selectedArea);\n  }\n\n  // const selectButtonOnClick = (item, index) => {\n  // 列表选择按钮点击事件\n  //   console.log(index, item);\n  // }\n\n  return (\n    <div>\n      <ChinaAreaSelect selectedAreaHandle={selectedAreaHandle} />\n      <Button onClick={() => setVisible(true)} type=\"link\">发货</Button>\n      {visible ? <UpdateDeliver\n        visible={visible}\n        setVisible={setVisible}\n        oldObj={oldObj}\n        purchaseRecordId={purchaseRecordId}\n        customerId={customerId}\n      ></UpdateDeliver> : null}\n      \n    </div>\n  )\n};\n\nexport default DeliverComponent;\n","import React, { useState, useEffect, useRef } from 'react';\n\nimport { PurchaseRecordsRequestGet } from './purchase_records_requests';\nimport { updateDataList } from './purchase_records_columns_label_config';\nimport UpdatePurchaseRecords from './update_purchase_records';\nimport { PurchaseRecordsListComponent } from '../base_components/purchase_records_goods_delivery_address/purchase_records_list';\n// 页面到底触发事件\nimport { LoadMoreButton } from '../base_components/load_more_button_conpoment';\nimport DeliverComponent from '../deliver';\nimport { ScrollGoBack } from '../base_components/scroll_handle/goback_origin_scroll';\n// 列表编辑 页面\n\nconst judgeHasMore = resp => {\n  if (Object.keys(resp).includes('next')\n    && typeof resp.next === 'string'\n    && resp.next.length > 5) {\n    return 2;\n  }\n  return 1;\n};\n\nconst PurchaseRecordsList = ({ reloadListCount, setReloadListCount, requestParams, purchaseRecordsChange, printerIndex, hasAllPrintCount }) => {\n  const hasMore = useRef(2);\n  const [hasMoreState, setHasMoreState] = useState(2);\n  const [loading, setLoading] = useState(false);\n  const reqParams = useRef({ page: 0 });\n\n  const [purchaseRecordsData, setPurchaseRecordsData] = useState([]);\n  const [purchaseRecordsRequestGetCount, setPurchaseRecordsRequestGetCount] = useState(0);\n  const [prqGetCount, setPrqGetCount] = useState('');\n  const [requesting, setRequesting] = useState(false);\n\n  const [visible, setVisible] = useState(0);\n  const [selectedObj, setSelectedObj] = useState({});\n\n  useEffect(() => {\n    // hasAllPrintCount > 0 client端全部更新为已打印\n    if (hasAllPrintCount > 0) {\n      const copyList = [].concat(purchaseRecordsData);\n      for (let index = 0; index < copyList.length; index++) {\n        copyList[index].has_print = true;\n      }\n      console.log(copyList);\n      setPurchaseRecordsData(copyList);\n      purchaseRecordsChange(copyList);   // 订单列表传给父组件\n    }\n  }, [hasAllPrintCount]);\n\n  useEffect(() => {\n    // 加载、更新或创建数据后 重新读取列表\n    reqParams.current = { ...requestParams };\n    reloadListsHandle();\n  }, [reloadListCount]);\n\n  useEffect(() => {\n    // requesting 重新读取数据，解决 useState异步问题\n    if (requesting && !loading && hasMore.current > 1) {\n      setRequesting(false);\n      loadMore();\n    }\n  }, [requesting, hasMore.current, loading]);\n\n  const loadMore = () => {\n    // 读取更多列表\n    // console.log(hasMore.current, loading);\n    // console.log('prqGetCount:', prqGetCount, purchaseRecordsRequestGetCount, '; reqParams', reqParams.current);\n    if (hasMore.current > 1 && !loading) {\n      hasMore.current = 1;\n      setLoading(true);\n      setHasMoreState(1);\n      const current_page = Number.isInteger(reqParams.current.page) ? reqParams.current.page + 1 : 1;\n      reqParams.current = { ...reqParams.current, page: current_page };\n      console.log(reqParams.current);\n      const addCount = purchaseRecordsRequestGetCount + 1;\n      console.log(addCount);\n      setPurchaseRecordsRequestGetCount(addCount);\n      setPrqGetCount(prqGetCount + 'n');\n\n    } else {\n      console.log('Error state: hasMore is ', hasMore.current, ', loading is ', loading);\n    }\n  };\n\n  const reloadListsHandle = () => {\n    // 重新读取数据\n    reqParams.current = { ...reqParams.current, page: 0 };\n    // console.log(reqParams.current);\n    setPurchaseRecordsData([]);\n    hasMore.current = 2;\n    setHasMoreState(2);\n    setLoading(false);\n    setRequesting(true);\n  };\n\n  const purchaseRecordsGetResponse = resp => {\n    console.log('prqCount: ', prqGetCount);\n    console.log('resp process...', resp);\n    setLoading(false);\n    if (Object.keys(resp).includes('code')\n      && resp.code === 1000\n      && Object.keys(resp).includes('results')\n    ) {\n      const updatedList = purchaseRecordsData.concat(resp.results);\n      setPurchaseRecordsData(updatedList);\n      purchaseRecordsChange(updatedList);   // 订单列表传给父组件\n      hasMore.current = judgeHasMore(resp);   // 判断是否还有更多\n      setHasMoreState(judgeHasMore(resp));\n      console.log(purchaseRecordsRequestGetCount);\n    } else {\n      console.log('Error: get data...');\n    }\n  };\n\n  const itemDetailClick = (purchaseRecordObj, index) => {\n    // 打开详情编辑窗口\n    // console.log(purchaseRecordsData[index]);\n    let selObj = { ...purchaseRecordObj };\n    console.log(selObj, index);\n    // 日期转 moment 时间\n    // selObj.end_time = moment(dateFormat(selObj.end_time), 'YYYY-MM-DD HH:mm:ss');\n    setSelectedObj(selObj);\n    setVisible(1);\n  };\n\n  const successPrintCurrentRecordHandle = (hasPrintRecordObj, index) => {\n    // 更新打印的状态为true\n    const copyRecordsList = [].concat(purchaseRecordsData);\n    copyRecordsList[index] = hasPrintRecordObj;\n    setPurchaseRecordsData(copyRecordsList);\n  }\n\n  const successDeletedOrUpdated = (successObj) => {\n    // method: 0-delete, 1-update\n    const method = successObj.method === 'update' ? 1 : 0;\n    const successResult = successObj.result ? successObj.result : selectedObj;\n    // successResult = {...selectedObj, ...successResult};\n    // 更新操作数据列表\n    const updatedDataList = updateDataList(purchaseRecordsData, successResult, method);\n    console.log(updatedDataList);\n    setPurchaseRecordsData(updatedDataList);\n  }\n\n  const deliverComponent = (<DeliverComponent />)\n\n  return (\n    <div>\n      <ScrollGoBack visible={visible}></ScrollGoBack>\n\n      <PurchaseRecordsListComponent\n        purchaseRecordsList={purchaseRecordsData}\n        loadMore={loadMore}\n        hasMore={hasMoreState === 2}\n        infoBottonTips=\"详情编辑\"\n        infoBottonClick={itemDetailClick}\n        deliverComponent={deliverComponent}\n        printerIndex={printerIndex}\n        successPrintCurrentRecordHandle={successPrintCurrentRecordHandle}\n      ></PurchaseRecordsListComponent>\n\n      <PurchaseRecordsRequestGet requestCount={prqGetCount}\n        reqParams={reqParams.current}\n        responseDataHandle={purchaseRecordsGetResponse}\n      ></PurchaseRecordsRequestGet>\n\n      <UpdatePurchaseRecords\n        visible={visible === 1}\n        setVisible={setVisible}\n        oldObj={selectedObj}\n        successDeletedOrUpdated={successDeletedOrUpdated}\n      ></UpdatePurchaseRecords>\n\n      <LoadMoreButton hasMore={hasMore.current === 2} onClick={loadMore}></LoadMoreButton>\n      {/* <ScrollBottomHandleComponent bottomHandle={loadMore} canHandle={hasMore.current === 2}></ScrollBottomHandleComponent> */}\n    </div>\n  );\n}\n\nPurchaseRecordsList.defaultProps = {\n  reloadListCount: 1,\n  setReloadListCount: (addedNum) => { console.log(addedNum); },\n  requestParams: { page: 0 },\n  purchaseRecordsChange: purchaseRecords => console.log(purchaseRecords),\n  printerIndex: -1,\n  hasAllPrintCount: 0,\n}\n\nexport default PurchaseRecordsList;\n","import React, { useState, useEffect } from 'react';\n\nimport { formKeysLabelsObj } from './purchase_records_columns_label_config';\n\n// 显示查询条件组件\n\nconst PurchaseRecordsQueryParams = ({ paramsObj={} }) => {\n  const [displayQueryFactorStr, setDisplayQueryFactorStr] = useState('');\n\n  useEffect(() => {\n    displayStr();\n  }, [paramsObj])\n\n  const displayStr = () => {\n    // 显示的查询条件 字符串\n    // let retDisplayStr = '查询条件:';\n    let retDisplayStr = '';\n    Object.keys(paramsObj).forEach(element => {\n      if (Object.keys(formKeysLabelsObj).includes(element)) {\n        // 只显示 formKeysLabelsObj 包含的key\n        const currentFactor = ' ' + formKeysLabelsObj[element] + ' = ' + paramsObj[element] + ';';\n        retDisplayStr = retDisplayStr + currentFactor\n      }\n    });\n    if (retDisplayStr.length > 2) {\n      retDisplayStr = '查询条件:' + retDisplayStr;\n      setDisplayQueryFactorStr(retDisplayStr);\n    } else {\n      console.log('查询条件为空')\n      setDisplayQueryFactorStr('');\n    }\n  }\n  return (\n    <div style={{ height: 'auto', width: '100%', padding: '0.1rem 0.2rem' }}>\n      {displayQueryFactorStr.length > 2\n        ? (<p>{displayQueryFactorStr}</p>)\n        : null}\n    </div>\n  )\n};\n\nexport default PurchaseRecordsQueryParams;\n","import React, { useState } from 'react';\nimport { Modal, Button, Upload, message } from 'antd';\nimport { UploadOutlined } from '@ant-design/icons';\nimport { sendAxiosRequest } from '../apis/sendRequest';\n\nconst uploadTaobaoCsvFilesApi = 'records-admin/v1/taobaopurchaserecord';\n\n// 上传淘宝订单 csv 文件模态框\n\nconst UploadTaobaoCsvFilesModal = ({ visible, setVisible, visibleNum, uploadedHandle }) => {\n    const [csvFilesList, setCsvFilesList] = useState([])\n    const [errorTips, setErrorTips] = useState('')\n    const [loadingState, setLoadingState] = useState(false)\n\n    const uploadTaobaoCsvFiles = () => {\n        // 上传淘宝 csv 文件\n        setErrorTips('')\n        if (csvFilesList.length !== 2) {\n            setErrorTips('必须选择淘宝 订单、商品 2个csv文件')\n            return\n        }\n        const formdata = new FormData()\n        let i = 1\n        csvFilesList.forEach(file => {\n            formdata.append(`file${i}`, file);\n            i = i + 1\n        });\n        // console.log(csvFilesList)\n        setLoadingState(true)\n        return new Promise((resolve, reject) => {\n            sendAxiosRequest(uploadTaobaoCsvFilesApi, 'post', {}, formdata).then(response => {\n                console.log(response)\n                if (response.code && response.code === 1000) {\n                    message.success('淘宝订单 CSV 文件上传成功!')\n                    setVisible(0)\n                    resolve(true)\n                } else {\n                    message.error('淘宝订单 CSV 文件上传失败...')\n                    reject(false)\n                }\n                setLoadingState(false)\n                uploadedHandle()\n            }).catch(err => {\n                message.error('淘宝订单 CSV 文件上传失败, 请检查网络或文件...')\n                console.log(err)\n                reject(false)\n                setLoadingState(false)\n            })\n        })\n    }\n\n    const props = {\n        onRemove: file => {\n            const copyFiles = [].concat(csvFilesList)\n            const index = copyFiles.indexOf(file)\n            copyFiles.splice(index, 1)\n            setCsvFilesList(copyFiles)\n            console.log(copyFiles)\n        },\n        onChange: (info) => {\n            const fileList = [ ...info.fileList ]\n            // console.log(fileList)\n            const uploadFilesList = []\n            fileList.map(file => {\n                // 选择的文件列表赋值给 CsvFilesList\n                // console.log(file)\n                uploadFilesList.push(file.originFileObj)\n            })\n            setCsvFilesList(uploadFilesList)\n        },\n        beforeUpload: (file) => {\n            // const copyFiles = [].concat(csvFilesList)\n            // copyFiles.push(file)\n            // setCsvFilesList(copyFiles)\n            return false;\n        },\n        filesList: [],\n      };\n\n    return (\n        <Modal\n            visible={visible === visibleNum}\n            title=\"上传淘宝订单CSV文件\"\n            closable={false}\n            footer={[\n                <Button key=\"upload_csv\" onClick={uploadTaobaoCsvFiles} loading={loadingState}>上传</Button>,\n                <Button key=\"cancel_modal\" onClick={() => { setVisible(0) }} loading={loadingState}>取消</Button>\n            ]}\n        >\n            <Upload {...props} maxCount={2} multiple={true} accept=\".csv\">\n                <Button icon={<UploadOutlined />}>Select Csv File</Button>\n            </Upload>\n            {errorTips.length > 0 ? (<div><br></br><p style={{color: 'red'}}>* {errorTips}</p></div>) : null}\n        </Modal>\n    )\n}\n\nUploadTaobaoCsvFilesModal.defaultProps = {\n    visible: 0,\n    setVisible: (val) => console.log(val),\n    visibleNum: 1,\n    uploadedHandle: () => console.log('Uploaded')\n}\n\nexport { UploadTaobaoCsvFilesModal };\n","import React, { useState, useRef, useEffect } from 'react';\n// import { navigate, Link } from 'gatsby';\nimport { Button, Row, Col, Space, Tooltip } from 'antd';\nimport { ReloadOutlined, SearchOutlined, LeftOutlined } from '@ant-design/icons';\n\n// 打印机组件\nimport { SelectPrinterComponent } from '../base_components/lodop/select_printer_component';\n\nimport CreatePurchaseRecords from './create_purchase_records';\nimport PurchaseRecordsQueryDrawerForm from './purchase_records_query_form';\nimport PurchaseRecordsList from './purchase_records_list';\nimport PurchaseRecordsQueryParams from './purchase_records_query_params_display';\nimport { downloadAndSaveExpressList } from '../../assets/common_funcs/express_code_name_handle';\n// PurchaseRecords 入口组件\nimport { UploadTaobaoCsvFilesModal } from '../modals/upload_taobao_csv';\n\nconst PurchaseRecordsComponent = () => {\n  const [purchaseRecordsData, setPurchaseRecordsData] = useState([]);\n  const [printerIndex, setPrinterIndex] = useState(-1);\n\n  const reqParams = useRef({ page: 0 });\n\n  const [reloadListCount, setReloadListCount] = useState(1);\n\n  const [drawerVisible, setDrawerVisible] = useState(false);\n\n  const [createPurchaseRecordsVisible, setCreatePurchaseRecordsVisible] = useState(false);\n\n  const [hasAllPrintCount, setHasAllPrintCount] = useState(0);\n\n  const [visible, setVisible] = useState(0);\n\n  useEffect(() => {\n    // 下载并保存快递公司列表到本地\n    downloadAndSaveExpressList();\n  }, []);\n  \n  const queryHandle = (currentRequestParams) => {\n    // 查询操作\n    reqParams.current = { ...currentRequestParams };\n    console.log(reqParams.current);\n    // 触发重新读取数据\n    setReloadListCount(reloadListCount + 1)\n    console.log('search...');\n  };\n\n  const initReloadList = () => {\n    // 刷新列表, 删除所有查询条件\n    reqParams.current = { page: 0 };\n    setReloadListCount(reloadListCount + 1);\n  }\n\n  const purchaseRecordsChange = (records) => {\n    // 列表组件传过来的订单列表\n    setPurchaseRecordsData(records);\n  }\n\n  return (\n    <div>\n      <Row>\n        <Col span={24}>\n          <SelectPrinterComponent\n          onChange={setPrinterIndex}\n          purchaseRecordsList={purchaseRecordsData}\n          setPurchaseRecordsList={setPurchaseRecordsData}\n          hasAllPrintCount={hasAllPrintCount}\n          setHasAllPrintCount={setHasAllPrintCount}\n        ></SelectPrinterComponent></Col>\n      </Row>\n      <Row>\n        <Col span={14}>\n          <Space>\n            {/* <Tooltip title=\"返回\">\n              <Link to=\"/logistic\"><LeftOutlined /></Link>\n            </Tooltip> */}\n            <h4>PurchaseRecords</h4>\n            <Tooltip title=\"刷新\">\n              <Button onClick={initReloadList} shape=\"circle\" icon={<ReloadOutlined />}></Button>\n            </Tooltip>\n            <Tooltip title=\"搜索\">\n              <Button onClick={() => setDrawerVisible(true)} shape=\"circle\" icon={<SearchOutlined />}></Button>\n            </Tooltip>\n          </Space>\n        </Col>\n        <Col span={10}>\n          <div style={{ width: '100%', height: 'auto' }}>\n            <Button style={{ float: 'right' }} type=\"link\" onClick={() => setVisible(1)}>淘宝csv文件</Button>\n            <Button style={{ float: 'right' }} type=\"link\" onClick={() => setCreatePurchaseRecordsVisible(true)}>新建</Button>\n          </div>\n        </Col>\n      </Row>\n      <Row>\n        <Col span={24}><PurchaseRecordsQueryParams paramsObj={reqParams.current}></PurchaseRecordsQueryParams></Col>\n      </Row>\n      <PurchaseRecordsQueryDrawerForm\n        visible={drawerVisible}\n        setVisible={setDrawerVisible}\n        queryHandle={queryHandle}\n      ></PurchaseRecordsQueryDrawerForm>\n\n      <PurchaseRecordsList\n        reloadListCount={reloadListCount}\n        setReloadListCount={setReloadListCount}\n        requestParams={reqParams.current}\n        purchaseRecordsChange={purchaseRecordsChange}\n        printerIndex={printerIndex}\n        hasAllPrintCount={hasAllPrintCount}\n      ></PurchaseRecordsList>\n\n      <CreatePurchaseRecords\n        visible={createPurchaseRecordsVisible}\n        setVisible={setCreatePurchaseRecordsVisible}\n        reloadListCount={reloadListCount}\n        setReloadListCount={setReloadListCount}\n      ></CreatePurchaseRecords>\n\n      <UploadTaobaoCsvFilesModal\n        visible={visible}\n        setVisible={setVisible}\n        visibleNum={1}\n        uploadedHandle={initReloadList}\n      ></UploadTaobaoCsvFilesModal>\n    </div>\n  )\n};\n\nexport default PurchaseRecordsComponent;\n","import React from 'react';\n\nimport SiteLayout from '../components/site_layout';\nimport PurchaseRecordsComponent from '../components/purchase_records';\n\nimport SEO from \"../components/seo\";\n\nconst PurchaseRecordsPage = () => (\n  <SiteLayout>\n    <SEO title='Records'></SEO>\n    <PurchaseRecordsComponent></PurchaseRecordsComponent>\n  </SiteLayout>\n);\n\nexport default PurchaseRecordsPage;\n"],"sourceRoot":""}